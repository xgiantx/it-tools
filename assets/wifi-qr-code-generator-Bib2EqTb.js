import{n as c,q as F,y as d,ab as u,d as N,c as W,o as g,w as A,g as h,f as C,S as E,m as p,U as q,j as l,x as B,i as S,k as H,z as K}from"./index-DtXg1mwU.js";import{Q as L}from"./browser-Cv5D50Oq.js";import{a as V}from"./downloadBase64-CtnO9wP1.js";import{_ as z}from"./Checkbox-Ds1aUY5Y.js";import{_ as Q}from"./Form-D1AA3Uzz.js";import{_ as R}from"./FormItem-DugciXlR.js";import{_ as O}from"./ColorPicker-lOIs8cDk.js";import"./index-BLR18K47.js";import"./___vite-browser-external_commonjs-proxy-DqQqjIva.js";import"./__vite-browser-external-Dk_eJUSQ.js";import"./use-form-item-85PEBv7I.js";import"./Input-U_bmmWoy.js";import"./Button-aLLQBEvM.js";import"./is-browser-DqcmxZSF.js";import"./color-to-class-B0iQgAn2.js";import"./use-locale-1DqEhDbw.js";import"./InputGroup-Bs6QRxge.js";const Y=["MD5","POTP","GTC","TLS","IKEv2","SIM","AKA","AKA'","TTLS","PWD","LEAP","PSK","FAST","TEAP","EKE","NOOB","PEAP"],j=["None","MSCHAPV2"];function w(b){return b.replace(/([\\;,:"])/g,"\\$1")}function G(b){const{ssid:t,password:n,encryption:a,eapMethod:s,isHiddenSSID:m,eapAnonymous:f,eapIdentity:_,eapPhase2Method:i}=b;if(!t)return null;if(a==="nopass")return`WIFI:S:${w(t)};;`;if(a!=="WPA2-EAP"&&n)return`WIFI:S:${w(t)};T:${a};P:${w(n)};${m?"H:true":""};`;if(a==="WPA2-EAP"&&n&&s){if(!_&&!f||s==="PEAP"&&!i)return null;const v=f?"A:anon":`I:${w(_)}`,P=i!=="None"?`PH2:${i};`:"";return`WIFI:S:${w(t)};T:WPA2-EAP;P:${w(n)};E:${s};${P}${v};${m?"H:true":""};`}return null}function J({ssid:b,password:t,eapMethod:n,isHiddenSSID:a,eapAnonymous:s,eapIdentity:m,eapPhase2Method:f,color:{background:_,foreground:i},options:v}){const P=c(""),r=c("WPA");return F([b,t,r,n,a,s,m,f,_,i].filter(d),async()=>{const x=G({ssid:u(b),password:u(t),encryption:u(r),eapMethod:u(n),isHiddenSSID:u(a),eapAnonymous:u(s),eapIdentity:u(m),eapPhase2Method:u(f)});x&&(P.value=await L.toDataURL(u(x).trim(),{color:{dark:u(i),light:u(_),...v?.color},errorCorrectionLevel:"M",...v}))},{immediate:!0}),{qrcode:P,encryption:r}}const X={grid:"","grid-cols-1":"","gap-12":""},Z={class:"mb-6 flex flex-row items-center gap-2"},ee={key:2,class:"mb-6 flex flex-row items-center gap-2"},oe={key:0},le={flex:"","flex-col":"","items-center":"","gap-3":""},te=["src"],he=N({__name:"wifi-qr-code-generator",setup(b){const t=c("#000000ff"),n=c("#ffffffff"),a=c(),s=c(),m=c(),f=c(!1),_=c(!1),i=c(),v=c(),{qrcode:P,encryption:r}=J({ssid:a,password:s,eapMethod:m,isHiddenSSID:f,eapAnonymous:_,eapIdentity:i,eapPhase2Method:v,color:{background:n,foreground:t},options:{width:1024}}),{download:x}=V({source:P,filename:"qr-code.png"});return(ne,e)=>{const k=q,y=B,I=z,$=O,U=R,T=Q,D=H,M=K;return g(),W(M,null,{default:A(()=>[h("div",X,[h("div",null,[p(k,{value:l(r),"onUpdate:value":e[0]||(e[0]=o=>d(r)?r.value=o:null),"mb-4":"",label:"Encryption method","default-value":"WPA","label-position":"left","label-width":"130px","label-align":"right",options:[{label:"No password",value:"nopass"},{label:"WPA/WPA2",value:"WPA"},{label:"WEP",value:"WEP"},{label:"WPA2-EAP",value:"WPA2-EAP"}]},null,8,["value"]),h("div",Z,[p(y,{value:l(a),"onUpdate:value":e[1]||(e[1]=o=>d(a)?a.value=o:null),"label-position":"left","label-width":"130px","label-align":"right",label:"SSID:",rows:"1",autosize:"",placeholder:"Your WiFi SSID...","mb-6":""},null,8,["value"]),p(I,{checked:l(f),"onUpdate:checked":e[2]||(e[2]=o=>d(f)?f.value=o:null)},{default:A(()=>[...e[10]||(e[10]=[S(" Hidden SSID ",-1)])]),_:1},8,["checked"])]),l(r)!=="nopass"?(g(),W(y,{key:0,value:l(s),"onUpdate:value":e[3]||(e[3]=o=>d(s)?s.value=o:null),"label-position":"left","label-width":"130px","label-align":"right",label:"Password:",rows:"1",autosize:"",type:"password",placeholder:"Your WiFi Password...","mb-6":""},null,8,["value"])):E("",!0),l(r)==="WPA2-EAP"?(g(),W(k,{key:1,value:l(m),"onUpdate:value":e[4]||(e[4]=o=>d(m)?m.value=o:null),label:"EAP method","label-position":"left","label-width":"130px","label-align":"right",options:l(Y).map(o=>({label:o,value:o})),searchable:"","mb-4":""},null,8,["value","options"])):E("",!0),l(r)==="WPA2-EAP"?(g(),C("div",ee,[p(y,{value:l(i),"onUpdate:value":e[5]||(e[5]=o=>d(i)?i.value=o:null),"label-position":"left","label-width":"130px","label-align":"right",label:"Identity:",rows:"1",autosize:"",placeholder:"Your EAP Identity...","mb-6":""},null,8,["value"]),p(I,{checked:l(_),"onUpdate:checked":e[6]||(e[6]=o=>d(_)?_.value=o:null)},{default:A(()=>[...e[11]||(e[11]=[S(" Anonymous? ",-1)])]),_:1},8,["checked"])])):E("",!0),l(r)==="WPA2-EAP"?(g(),W(k,{key:3,value:l(v),"onUpdate:value":e[7]||(e[7]=o=>d(v)?v.value=o:null),label:"EAP Phase 2 method","label-position":"left","label-width":"130px","label-align":"right",options:l(j).map(o=>({label:o,value:o})),searchable:"","mb-4":""},null,8,["value","options"])):E("",!0),p(T,{"label-width":"130","label-placement":"left"},{default:A(()=>[p(U,{label:"Foreground color:"},{default:A(()=>[p($,{value:l(t),"onUpdate:value":e[8]||(e[8]=o=>d(t)?t.value=o:null),modes:["hex"]},null,8,["value"])]),_:1}),p(U,{label:"Background color:"},{default:A(()=>[p($,{value:l(n),"onUpdate:value":e[9]||(e[9]=o=>d(n)?n.value=o:null),modes:["hex"]},null,8,["value"])]),_:1})]),_:1})]),l(P)?(g(),C("div",oe,[h("div",le,[h("img",{alt:"wifi-qrcode",src:l(P),width:"200"},null,8,te),p(D,{onClick:l(x)},{default:A(()=>[...e[12]||(e[12]=[S(" Download qr-code ",-1)])]),_:1},8,["onClick"])])])):E("",!0)])]),_:1})}}});export{he as default};
