import{d as v,n as P,p as k,f as x,o as g,g as o,m as i,w as u,y as K,j as a,at as w,i as C,k as B,F as h}from"./index-DtXg1mwU.js";import{r as T}from"./index-DNz8Ldbn.js";import{T as c}from"./TextareaCopyable-DThIVshZ.js";import{a as V}from"./defaults-CMtlFFSf.js";import{a as R}from"./computedRefreshable-DTGd8k8y.js";import{_ as A}from"./InputNumber-CwTKn5eh.js";import{_ as E}from"./FormItem-DugciXlR.js";import"./___vite-browser-external_commonjs-proxy-DqQqjIva.js";import"./__vite-browser-external-Dk_eJUSQ.js";import"./Scrollbar-Bd2orGPB.js";import"./Copy-CCpJUTrR.js";import"./Input-U_bmmWoy.js";import"./Button-aLLQBEvM.js";import"./is-browser-DqcmxZSF.js";import"./use-form-item-85PEBv7I.js";import"./color-to-class-B0iQgAn2.js";import"./use-locale-1DqEhDbw.js";import"./Remove-DIxQgMAk.js";var m=T();const N="/it-tools/assets/prime.worker.min-BWHGnCat.js";function j({bits:n=2048}){return new Promise((e,r)=>m.pki.rsa.generateKeyPair({bits:n,workerScript:N},(s,l)=>{if(s){r(s);return}e(l)}))}async function F(n={}){const{privateKey:e,publicKey:r}=await j(n);return{publicKeyPem:m.pki.publicKeyToPem(r),privateKeyPem:m.pki.privateKeyToPem(e)}}const q={style:{flex:"0 0 100%"}},D={"item-style":"flex: 1 1 0",style:{"max-width":"600px"},"mx-auto":"",flex:"","gap-3":""},re=v({__name:"rsa-key-pair-generator",setup(n){const e=P(2048),r={publicKeyPem:"",privateKeyPem:""},{attrs:s}=k({source:e,rules:[{message:"Bits should be 256 <= bits <= 16384 and be a multiple of 8",validator:p=>p>=256&&p<=16384&&p%8===0}]}),[l,_]=R(()=>V(()=>F({bits:e.value}),r),r);return(p,t)=>{const f=A,y=E,d=B;return g(),x(h,null,[o("div",q,[o("div",D,[i(y,w({label:"Bits :"},a(s),{"label-placement":"left","label-width":"100"}),{default:u(()=>[i(f,{value:a(e),"onUpdate:value":t[0]||(t[0]=b=>K(e)?e.value=b:null),min:"256",max:"16384",step:"8"},null,8,["value"])]),_:1},16),i(d,{onClick:a(_)},{default:u(()=>[...t[1]||(t[1]=[C(" Refresh key-pair ",-1)])]),_:1},8,["onClick"])])]),o("div",null,[t[2]||(t[2]=o("h3",null,"Public key",-1)),i(c,{value:a(l).publicKeyPem},null,8,["value"])]),o("div",null,[t[3]||(t[3]=o("h3",null,"Private key",-1)),i(c,{value:a(l).privateKeyPem},null,8,["value"])])],64)}}});export{re as default};
