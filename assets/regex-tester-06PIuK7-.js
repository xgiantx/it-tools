import{X as hn,d as di,Y as fn,I as Qs,Z as on,J as an,K as gi,$ as un,b as es,O as ln,a0 as cn,a1 as Zs,W as mi,n as It,p as _n,R as pn,r as Ks,f as Pt,o as Nt,m as lt,w as _t,x as dn,j as vt,y as $t,i as pt,g as Q,z as gn,c as ti,F as Je,h as Fe,t as At,V as mn}from"./index-DtXg1mwU.js";import{c as yn}from"./_commonjs-dynamic-modules-TDtrdbi3.js";import{u as wn}from"./queryParams-bY-JdNLG.js";import{i as xn}from"./is-browser-DqcmxZSF.js";import{g as bn}from"./get-slot-Bk_rJcZu.js";import{_ as vn}from"./Checkbox-Ds1aUY5Y.js";import{_ as Sn}from"./Table-D3KqVi0W.js";import{_ as Rn}from"./Divider-BC2Ea4r8.js";import"./use-form-item-85PEBv7I.js";function An(){return hn}const Cn={self:An};let Be;function Tn(){if(!xn)return!0;if(Be===void 0){const s=document.createElement("div");s.style.display="flex",s.style.flexDirection="column",s.style.rowGap="1px",s.appendChild(document.createElement("div")),s.appendChild(document.createElement("div")),document.body.appendChild(s);const t=s.scrollHeight===1;return document.body.removeChild(s),Be=t}return Be}const En=Object.assign(Object.assign({},gi.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),Nn=di({name:"Space",props:En,setup(s){const{mergedClsPrefixRef:t,mergedRtlRef:e}=an(s),i=gi("Space","-space",void 0,Cn,s,t),n=un("Space",e,t);return{useGap:Tn(),rtlEnabled:n,mergedClsPrefix:t,margin:es(()=>{const{size:r}=s;if(Array.isArray(r))return{horizontal:r[0],vertical:r[1]};if(typeof r=="number")return{horizontal:r,vertical:r};const{self:{[ln("gap",r)]:f}}=i.value,{row:o,col:l}=cn(f);return{horizontal:Zs(l),vertical:Zs(o)}})}},render(){const{vertical:s,reverse:t,align:e,inline:i,justify:n,itemClass:r,itemStyle:f,margin:o,wrap:l,mergedClsPrefix:c,rtlEnabled:u,useGap:d,wrapItem:z,internalUseGap:T}=this,b=fn(bn(this),!1);if(!b.length)return null;const D=`${o.horizontal}px`,M=`${o.horizontal/2}px`,P=`${o.vertical}px`,H=`${o.vertical/2}px`,X=b.length-1,tt=n.startsWith("space-");return Qs("div",{role:"none",class:[`${c}-space`,u&&`${c}-space--rtl`],style:{display:i?"inline-flex":"flex",flexDirection:s&&!t?"column":s&&t?"column-reverse":!s&&t?"row-reverse":"row",justifyContent:["start","end"].includes(n)?`flex-${n}`:n,flexWrap:!l||s?"nowrap":"wrap",marginTop:d||s?"":`-${H}`,marginBottom:d||s?"":`-${H}`,alignItems:e,gap:d?`${o.vertical}px ${o.horizontal}px`:""}},!z&&(d||T)?b:b.map((ht,nt)=>ht.type===on?ht:Qs("div",{role:"none",class:r,style:[f,{maxWidth:"100%"},d?"":s?{marginBottom:nt!==X?P:""}:u?{marginLeft:tt?n==="space-between"&&nt===X?"":M:nt!==X?D:"",marginRight:tt?n==="space-between"&&nt===0?"":M:"",paddingTop:H,paddingBottom:H}:{marginRight:tt?n==="space-between"&&nt===X?"":M:nt!==X?D:"",marginLeft:tt?n==="space-between"&&nt===0?"":M:"",paddingTop:H,paddingBottom:H}]},ht)))}});var Ce={exports:{}},He={},Ue,ei;function ze(){return ei||(ei=1,Ue={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}),Ue}var Ot={},si;function yi(){if(si)return Ot;si=1;const s=ze(),t=()=>[{type:s.RANGE,from:48,to:57}],e=()=>[{type:s.CHAR,value:95},{type:s.RANGE,from:97,to:122},{type:s.RANGE,from:65,to:90}].concat(t()),i=()=>[{type:s.CHAR,value:9},{type:s.CHAR,value:10},{type:s.CHAR,value:11},{type:s.CHAR,value:12},{type:s.CHAR,value:13},{type:s.CHAR,value:32},{type:s.CHAR,value:160},{type:s.CHAR,value:5760},{type:s.RANGE,from:8192,to:8202},{type:s.CHAR,value:8232},{type:s.CHAR,value:8233},{type:s.CHAR,value:8239},{type:s.CHAR,value:8287},{type:s.CHAR,value:12288},{type:s.CHAR,value:65279}],n=()=>[{type:s.CHAR,value:10},{type:s.CHAR,value:13},{type:s.CHAR,value:8232},{type:s.CHAR,value:8233}];return Ot.words=()=>({type:s.SET,set:e(),not:!1}),Ot.notWords=()=>({type:s.SET,set:e(),not:!0}),Ot.ints=()=>({type:s.SET,set:t(),not:!1}),Ot.notInts=()=>({type:s.SET,set:t(),not:!0}),Ot.whitespace=()=>({type:s.SET,set:i(),not:!1}),Ot.notWhitespace=()=>({type:s.SET,set:i(),not:!0}),Ot.anyChar=()=>({type:s.SET,set:n(),not:!0}),Ot}var ii;function On(){return ii||(ii=1,(function(s){const t=ze(),e=yi(),i="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",n={0:0,t:9,n:10,v:11,f:12,r:13};s.strToChars=function(r){var f=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return r=r.replace(f,function(o,l,c,u,d,z,T,b){if(c)return o;var D=l?8:u?parseInt(u,16):d?parseInt(d,16):z?parseInt(z,8):T?i.indexOf(T):n[b],M=String.fromCharCode(D);return/[[\]{}^$.|?*+()]/.test(M)&&(M="\\"+M),M}),r},s.tokenizeClass=(r,f)=>{for(var o=[],l=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,c,u;(c=l.exec(r))!=null;)if(c[1])o.push(e.words());else if(c[2])o.push(e.ints());else if(c[3])o.push(e.whitespace());else if(c[4])o.push(e.notWords());else if(c[5])o.push(e.notInts());else if(c[6])o.push(e.notWhitespace());else if(c[7])o.push({type:t.RANGE,from:(c[8]||c[9]).charCodeAt(0),to:c[10].charCodeAt(0)});else if(u=c[12])o.push({type:t.CHAR,value:u.charCodeAt(0)});else return[o,l.lastIndex];s.error(f,"Unterminated character class")},s.error=(r,f)=>{throw new SyntaxError("Invalid regular expression: /"+r+"/: "+f)}})(He)),He}var Yt={},ni;function kn(){if(ni)return Yt;ni=1;const s=ze();return Yt.wordBoundary=()=>({type:s.POSITION,value:"b"}),Yt.nonWordBoundary=()=>({type:s.POSITION,value:"B"}),Yt.begin=()=>({type:s.POSITION,value:"^"}),Yt.end=()=>({type:s.POSITION,value:"$"}),Yt}var ri;function zn(){if(ri)return Ce.exports;ri=1;const s=On(),t=ze(),e=yi(),i=kn();return Ce.exports=n=>{var r=0,f,o,l={type:t.ROOT,stack:[]},c=l,u=l.stack,d=[],z=ht=>{s.error(n,`Nothing to repeat at column ${ht-1}`)},T=s.strToChars(n);for(f=T.length;r<f;)switch(o=T[r++],o){case"\\":switch(o=T[r++],o){case"b":u.push(i.wordBoundary());break;case"B":u.push(i.nonWordBoundary());break;case"w":u.push(e.words());break;case"W":u.push(e.notWords());break;case"d":u.push(e.ints());break;case"D":u.push(e.notInts());break;case"s":u.push(e.whitespace());break;case"S":u.push(e.notWhitespace());break;default:/\d/.test(o)?u.push({type:t.REFERENCE,value:parseInt(o,10)}):u.push({type:t.CHAR,value:o.charCodeAt(0)})}break;case"^":u.push(i.begin());break;case"$":u.push(i.end());break;case"[":var b;T[r]==="^"?(b=!0,r++):b=!1;var D=s.tokenizeClass(T.slice(r),n);r+=D[1],u.push({type:t.SET,set:D[0],not:b});break;case".":u.push(e.anyChar());break;case"(":var M={type:t.GROUP,stack:[],remember:!0};o=T[r],o==="?"&&(o=T[r+1],r+=2,o==="="?M.followedBy=!0:o==="!"?M.notFollowedBy=!0:o!==":"&&s.error(n,`Invalid group, character '${o}' after '?' at column ${r-1}`),M.remember=!1),u.push(M),d.push(c),c=M,u=M.stack;break;case")":d.length===0&&s.error(n,`Unmatched ) at column ${r-1}`),c=d.pop(),u=c.options?c.options[c.options.length-1]:c.stack;break;case"|":c.options||(c.options=[c.stack],delete c.stack);var P=[];c.options.push(P),u=P;break;case"{":var H=/^(\d+)(,(\d+)?)?\}/.exec(T.slice(r)),X,tt;H!==null?(u.length===0&&z(r),X=parseInt(H[1],10),tt=H[2]?H[3]?parseInt(H[3],10):1/0:X,r+=H[0].length,u.push({type:t.REPETITION,min:X,max:tt,value:u.pop()})):u.push({type:t.CHAR,value:123});break;case"?":u.length===0&&z(r),u.push({type:t.REPETITION,min:0,max:1,value:u.pop()});break;case"+":u.length===0&&z(r),u.push({type:t.REPETITION,min:1,max:1/0,value:u.pop()});break;case"*":u.length===0&&z(r),u.push({type:t.REPETITION,min:0,max:1/0,value:u.pop()});break;default:u.push({type:t.CHAR,value:o.charCodeAt(0)})}return d.length!==0&&s.error(n,"Unterminated group"),l},Ce.exports.types=t,Ce.exports}var Ge,hi;function Mn(){if(hi)return Ge;hi=1;class s{constructor(i,n){this.low=i,this.high=n,this.length=1+n-i}overlaps(i){return!(this.high<i.low||this.low>i.high)}touches(i){return!(this.high+1<i.low||this.low-1>i.high)}add(i){return new s(Math.min(this.low,i.low),Math.max(this.high,i.high))}subtract(i){return i.low<=this.low&&i.high>=this.high?[]:i.low>this.low&&i.high<this.high?[new s(this.low,i.low-1),new s(i.high+1,this.high)]:i.low<=this.low?[new s(i.high+1,this.high)]:[new s(this.low,i.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}class t{constructor(i,n){this.ranges=[],this.length=0,i!=null&&this.add(i,n)}_update_length(){this.length=this.ranges.reduce((i,n)=>i+n.length,0)}add(i,n){var r=f=>{for(var o=0;o<this.ranges.length&&!f.touches(this.ranges[o]);)o++;for(var l=this.ranges.slice(0,o);o<this.ranges.length&&f.touches(this.ranges[o]);)f=f.add(this.ranges[o]),o++;l.push(f),this.ranges=l.concat(this.ranges.slice(o)),this._update_length()};return i instanceof t?i.ranges.forEach(r):(n==null&&(n=i),r(new s(i,n))),this}subtract(i,n){var r=f=>{for(var o=0;o<this.ranges.length&&!f.overlaps(this.ranges[o]);)o++;for(var l=this.ranges.slice(0,o);o<this.ranges.length&&f.overlaps(this.ranges[o]);)l=l.concat(this.ranges[o].subtract(f)),o++;this.ranges=l.concat(this.ranges.slice(o)),this._update_length()};return i instanceof t?i.ranges.forEach(r):(n==null&&(n=i),r(new s(i,n))),this}intersect(i,n){var r=[],f=o=>{for(var l=0;l<this.ranges.length&&!o.overlaps(this.ranges[l]);)l++;for(;l<this.ranges.length&&o.overlaps(this.ranges[l]);){var c=Math.max(this.ranges[l].low,o.low),u=Math.min(this.ranges[l].high,o.high);r.push(new s(c,u)),l++}};return i instanceof t?i.ranges.forEach(f):(n==null&&(n=i),f(new s(i,n))),this.ranges=r,this._update_length(),this}index(i){for(var n=0;n<this.ranges.length&&this.ranges[n].length<=i;)i-=this.ranges[n].length,n++;return this.ranges[n].low+i}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new t(this)}numbers(){return this.ranges.reduce((i,n)=>{for(var r=n.low;r<=n.high;)i.push(r),r++;return i},[])}subranges(){return this.ranges.map(i=>({low:i.low,high:i.high,length:1+i.high-i.low}))}}return Ge=t,Ge}var Ye,fi;function In(){if(fi)return Ye;fi=1;const s=zn(),t=Mn(),e=s.types;return Ye=class fe{constructor(n,r){if(this._setDefaults(n),n instanceof RegExp)this.ignoreCase=n.ignoreCase,this.multiline=n.multiline,n=n.source;else if(typeof n=="string")this.ignoreCase=r&&r.indexOf("i")!==-1,this.multiline=r&&r.indexOf("m")!==-1;else throw new Error("Expected a regexp or string");this.tokens=s(n)}_setDefaults(n){this.max=n.max!=null?n.max:fe.prototype.max!=null?fe.prototype.max:100,this.defaultRange=n.defaultRange?n.defaultRange:this.defaultRange.clone(),n.randInt&&(this.randInt=n.randInt)}gen(){return this._gen(this.tokens,[])}_gen(n,r){var f,o,l,c,u;switch(n.type){case e.ROOT:case e.GROUP:if(n.followedBy||n.notFollowedBy)return"";for(n.remember&&n.groupNumber===void 0&&(n.groupNumber=r.push(null)-1),f=n.options?this._randSelect(n.options):n.stack,o="",c=0,u=f.length;c<u;c++)o+=this._gen(f[c],r);return n.remember&&(r[n.groupNumber]=o),o;case e.POSITION:return"";case e.SET:var d=this._expand(n);return d.length?String.fromCharCode(this._randSelect(d)):"";case e.REPETITION:for(l=this.randInt(n.min,n.max===1/0?n.min+this.max:n.max),o="",c=0;c<l;c++)o+=this._gen(n.value,r);return o;case e.REFERENCE:return r[n.value-1]||"";case e.CHAR:var z=this.ignoreCase&&this._randBool()?this._toOtherCase(n.value):n.value;return String.fromCharCode(z)}}_toOtherCase(n){return n+(97<=n&&n<=122?-32:65<=n&&n<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(n){return n instanceof t?n.index(this.randInt(0,n.length-1)):n[this.randInt(0,n.length-1)]}_expand(n){if(n.type===s.types.CHAR)return new t(n.value);if(n.type===s.types.RANGE)return new t(n.from,n.to);{let r=new t;for(let f=0;f<n.set.length;f++){let o=this._expand(n.set[f]);if(r.add(o),this.ignoreCase)for(let l=0;l<o.length;l++){let c=o.index(l),u=this._toOtherCase(c);c!==u&&r.add(u)}}return n.not?this.defaultRange.clone().subtract(r):this.defaultRange.clone().intersect(r)}}randInt(n,r){return n+Math.floor(Math.random()*(1+r-n))}get defaultRange(){return this._range=this._range||new t(32,126)}set defaultRange(n){this._range=n}static randexp(n,r){var f;return typeof n=="string"&&(n=new RegExp(n,r)),n._randexp===void 0?(f=new fe(n,r),n._randexp=f):(f=n._randexp,f._setDefaults(n)),f.gen()}static sugar(){RegExp.prototype.gen=function(){return fe.randexp(this)}}},Ye}var $n=In();const jn=mi($n);var We={},oi;function Dn(){return oi||(oi=1,(function(s){(function(){function t(a,w,_){this.text=a,this.offset=w,this.elements=_}t.prototype.forEach=function(a,w){for(var _=this.elements,y=0,p=_.length;y<p;y++)a.call(w,_[y],y,_)},typeof Symbol<"u"&&Symbol.iterator&&(t.prototype[Symbol.iterator]=function(){return this.elements[Symbol.iterator]()});var e=function(a,w,_){t.apply(this,arguments),this.regexp=_[1],this.flags=_[3]};U(e,t);var i=function(a,w,_){t.apply(this,arguments),this.regexp=_[0],this.flags=_[1]};U(i,t);var n=function(a,w,_){t.apply(this,arguments),this.match=_[0],this.alternates=_[1]};U(n,t);var r=function(a,w,_){t.apply(this,arguments),this.match=_[1]};U(r,t);var f=function(a,w,_){t.apply(this,arguments),this.parts=_[1]};U(f,t);var o=function(a,w,_){t.apply(this,arguments),this.content=_[0],this.repeat=_[1]};U(o,t);var l=function(a,w,_){t.apply(this,arguments),this.spec=_[0],this.greedy=_[1]};U(l,t);var c=function(a,w,_){t.apply(this,arguments),this.min=_[1],this.max=_[3]};U(c,t);var u=function(a,w,_){t.apply(this,arguments),this.min=_[1]};U(u,t);var d=function(a,w,_){t.apply(this,arguments),this.exact=_[1]};U(d,t);var z=function(a,w,_){t.apply(this,arguments),this.capture=_[1],this.regexp=_[2]};U(z,t);var T=function(a,w,_){t.apply(this,arguments),this.invert=_[1],this.parts=_[2]};U(T,t);var b=function(a,w,_){t.apply(this,arguments),this.first=_[0],this.charset_range_terminal=_[2],this.last=_[2]};U(b,t);var D=function(a,w,_){t.apply(this,arguments),this.esc=_[1]};U(D,t);var M=function(a,w,_){t.apply(this,arguments),this.code=_[0],this.arg=_[1]};U(M,t);var P=function(a,w,_){t.apply(this,arguments),this.esc=_[1]};U(P,t);var H=function(a,w,_){t.apply(this,arguments),this.code=_[0],this.arg=_[1]};U(H,t);var X=function(a,w,_){t.apply(this,arguments),this.literal=_[1]};U(X,t);var tt=function(a,w,_){t.apply(this,arguments),this.literal=_[0]};U(tt,t);var ht=function(a,w,_){t.apply(this,arguments),this.literal=_[1]};U(ht,t);var nt=function(a,w,_){t.apply(this,arguments),this.literal=_[1]};U(nt,t);var Et=function(a,w,_){t.apply(this,arguments),this.literal=_[0]};U(Et,t);var Y=function(a,w,_){t.apply(this,arguments),this.literal=_[1]};U(Y,t);var ut=function(a,w,_){t.apply(this,arguments),this.code=_[0],this.arg=_[1]};U(ut,t);var ks=function(a,w,_){t.apply(this,arguments),this.code=_[0],this.arg=_[1]};U(ks,t);var zs=function(a,w,_){t.apply(this,arguments),this.code=_[0],this.arg=_[1]};U(zs,t);var Ms=function(a,w,_){t.apply(this,arguments),this.code=_[0],this.arg=_[1]};U(Ms,t);var Is=function(a,w,_){t.apply(this,arguments),this.code=_[0],this.arg=_[1]};U(Is,t);var $s=function(a,w,_){t.apply(this,arguments),this.esc=_[1]};U($s,t);var js=function(a,w,_){t.apply(this,arguments),this.code=_[0],this.arg=_[1]};U(js,t);var h={},Ds={_read_root(){var a=h,w=this._offset;this._cache._root=this._cache._root||{};var _=this._cache._root[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=this._offset,g=new Array(4),v=h,R=null,m=this._offset+1;if(m<=this._inputSize&&(R=this._input.substring(this._offset,m)),R==="/"?(v=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root",'"/"'])),v!==h){g[0]=v;var x=h;if(x=this._read_regexp(),x!==h){g[1]=x;var S=h,A=null,E=this._offset+1;if(E<=this._inputSize&&(A=this._input.substring(this._offset,E)),A==="/"?(S=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(S=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root",'"/"'])),S!==h){g[2]=S;for(var O=h,k=this._offset,C=[],L=null;;){var J=null,I=this._offset+1;if(I<=this._inputSize&&(J=this._input.substring(this._offset,I)),J!==null&&/^[yigmu]/.test(J)?(L=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(L=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root","[yigmu]"])),L!==h)C.push(L);else break}C.length>=0?(O=new t(this._input.substring(k,this._offset),k,C),this._offset=this._offset):O=h,O!==h?g[3]=O:(g=null,this._offset=p)}else g=null,this._offset=p}else g=null,this._offset=p}else g=null,this._offset=p;if(g===null?a=h:(a=new e(this._input.substring(p,this._offset),p,g),this._offset=this._offset),a===h){this._offset=y;var rt=this._offset,et=new Array(2),ft=h;if(ft=this._read_regexp(),ft!==h){et[0]=ft;var st=h,it=this._offset,ot=null,Rt=this._offset+0;Rt<=this._inputSize&&(ot=this._input.substring(this._offset,Rt)),ot===""?(st=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(st=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root",'""'])),st===h&&(st=new t(this._input.substring(it,it),it,[]),this._offset=it),st!==h?et[1]=st:(et=null,this._offset=rt)}else et=null,this._offset=rt;et===null?a=h:(a=new i(this._input.substring(rt,this._offset),rt,et),this._offset=this._offset),a===h&&(this._offset=y)}return a!==h&&Object.assign(a,this._types.Root),this._cache._root[w]=[a,this._offset],a},_read_regexp(){var a=h,w=this._offset;this._cache._regexp=this._cache._regexp||{};var _=this._cache._regexp[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h;if(g=this._read_match(),g!==h){p[0]=g;for(var v=h,R=this._offset,m=[],x=null;;){var S=this._offset,A=new Array(2),E=h,O=null,k=this._offset+1;if(k<=this._inputSize&&(O=this._input.substring(this._offset,k)),O==="|"?(E=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(E=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::regexp",'"|"'])),E!==h){A[0]=E;var C=h;C=this._read_match(),C!==h?A[1]=C:(A=null,this._offset=S)}else A=null,this._offset=S;if(A===null?x=h:(x=new r(this._input.substring(S,this._offset),S,A),this._offset=this._offset),x!==h)m.push(x);else break}m.length>=0?(v=new t(this._input.substring(R,this._offset),R,m),this._offset=this._offset):v=h,v!==h?p[1]=v:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new n(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.Regexp),this._cache._regexp[w]=[a,this._offset],a},_read_match(){var a=h,w=this._offset;this._cache._match=this._cache._match||{};var _=this._cache._match[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=this._offset;if(g=this._read_repeat(),this._offset=v,g===h?(g=new t(this._input.substring(this._offset,this._offset),this._offset,[]),this._offset=this._offset):g=h,g!==h){p[0]=g;for(var R=h,m=this._offset,x=[],S=null;S=this._read_match_fragment(),S!==h;)x.push(S);x.length>=0?(R=new t(this._input.substring(m,this._offset),m,x),this._offset=this._offset):R=h,R!==h?p[1]=R:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new f(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.Match),this._cache._match[w]=[a,this._offset],a},_read_match_fragment(){var a=h,w=this._offset;this._cache._match_fragment=this._cache._match_fragment||{};var _=this._cache._match_fragment[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=this._offset;if(g=this._read_anchor(),g===h&&(this._offset=v,g=this._read_subexp(),g===h&&(this._offset=v,g=this._read_charset(),g===h&&(this._offset=v,g=this._read_terminal(),g===h&&(this._offset=v)))),g!==h){p[0]=g;var R=h,m=this._offset;R=this._read_repeat(),R===h&&(R=new t(this._input.substring(m,m),m,[]),this._offset=m),R!==h?p[1]=R:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new o(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.MatchFragment),this._cache._match_fragment[w]=[a,this._offset],a},_read_repeat(){var a=h,w=this._offset;this._cache._repeat=this._cache._repeat||{};var _=this._cache._repeat[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=this._offset;if(g=this._read_repeat_any(),g===h&&(this._offset=v,g=this._read_repeat_required(),g===h&&(this._offset=v,g=this._read_repeat_optional(),g===h&&(this._offset=v,g=this._read_repeat_spec(),g===h&&(this._offset=v)))),g!==h){p[0]=g;var R=h,m=this._offset,x=null,S=this._offset+1;S<=this._inputSize&&(x=this._input.substring(this._offset,S)),x==="?"?(R=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(R=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat",'"?"'])),R===h&&(R=new t(this._input.substring(m,m),m,[]),this._offset=m),R!==h?p[1]=R:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new l(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.Repeat),this._cache._repeat[w]=[a,this._offset],a},_read_repeat_any(){var a=h,w=this._offset;this._cache._repeat_any=this._cache._repeat_any||{};var _=this._cache._repeat_any[w];if(_)return this._offset=_[1],_[0];var y=null,p=this._offset+1;return p<=this._inputSize&&(y=this._input.substring(this._offset,p)),y==="*"?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_any",'"*"'])),a!==h&&Object.assign(a,this._types.RepeatAny),this._cache._repeat_any[w]=[a,this._offset],a},_read_repeat_required(){var a=h,w=this._offset;this._cache._repeat_required=this._cache._repeat_required||{};var _=this._cache._repeat_required[w];if(_)return this._offset=_[1],_[0];var y=null,p=this._offset+1;return p<=this._inputSize&&(y=this._input.substring(this._offset,p)),y==="+"?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_required",'"+"'])),a!==h&&Object.assign(a,this._types.RepeatRequired),this._cache._repeat_required[w]=[a,this._offset],a},_read_repeat_optional(){var a=h,w=this._offset;this._cache._repeat_optional=this._cache._repeat_optional||{};var _=this._cache._repeat_optional[w];if(_)return this._offset=_[1],_[0];var y=null,p=this._offset+1;return p<=this._inputSize&&(y=this._input.substring(this._offset,p)),y==="?"?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_optional",'"?"'])),a!==h&&Object.assign(a,this._types.RepeatOptional),this._cache._repeat_optional[w]=[a,this._offset],a},_read_repeat_spec(){var a=h,w=this._offset;this._cache._repeat_spec=this._cache._repeat_spec||{};var _=this._cache._repeat_spec[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=this._offset,g=new Array(5),v=h,R=null,m=this._offset+1;if(m<=this._inputSize&&(R=this._input.substring(this._offset,m)),R==="{"?(v=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"{"'])),v!==h){g[0]=v;for(var x=h,S=this._offset,A=[],E=null;;){var O=null,k=this._offset+1;if(k<=this._inputSize&&(O=this._input.substring(this._offset,k)),O!==null&&/^[0-9]/.test(O)?(E=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(E=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),E!==h)A.push(E);else break}if(A.length>=1?(x=new t(this._input.substring(S,this._offset),S,A),this._offset=this._offset):x=h,x!==h){g[1]=x;var C=h,L=null,J=this._offset+1;if(J<=this._inputSize&&(L=this._input.substring(this._offset,J)),L===","?(C=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(C=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'","'])),C!==h){g[2]=C;for(var I=h,rt=this._offset,et=[],ft=null;;){var st=null,it=this._offset+1;if(it<=this._inputSize&&(st=this._input.substring(this._offset,it)),st!==null&&/^[0-9]/.test(st)?(ft=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ft=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),ft!==h)et.push(ft);else break}if(et.length>=1?(I=new t(this._input.substring(rt,this._offset),rt,et),this._offset=this._offset):I=h,I!==h){g[3]=I;var ot=h,Rt=null,zt=this._offset+1;zt<=this._inputSize&&(Rt=this._input.substring(this._offset,zt)),Rt==="}"?(ot=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ot=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"}"'])),ot!==h?g[4]=ot:(g=null,this._offset=p)}else g=null,this._offset=p}else g=null,this._offset=p}else g=null,this._offset=p}else g=null,this._offset=p;if(g===null?a=h:(a=new c(this._input.substring(p,this._offset),p,g),this._offset=this._offset),a===h){this._offset=y;var ct=this._offset,bt=new Array(3),qt=h,qs=null,Ps=this._offset+1;if(Ps<=this._inputSize&&(qs=this._input.substring(this._offset,Ps)),qs==="{"?(qt=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(qt=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"{"'])),qt!==h){bt[0]=qt;for(var we=h,Js=this._offset,De=[],xe=null;;){var Le=null,Fs=this._offset+1;if(Fs<=this._inputSize&&(Le=this._input.substring(this._offset,Fs)),Le!==null&&/^[0-9]/.test(Le)?(xe=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(xe=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),xe!==h)De.push(xe);else break}if(De.length>=1?(we=new t(this._input.substring(Js,this._offset),Js,De),this._offset=this._offset):we=h,we!==h){bt[1]=we;var be=h,Bs=null,Hs=this._offset+2;Hs<=this._inputSize&&(Bs=this._input.substring(this._offset,Hs)),Bs===",}"?(be=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(be=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'",}"'])),be!==h?bt[2]=be:(bt=null,this._offset=ct)}else bt=null,this._offset=ct}else bt=null,this._offset=ct;if(bt===null?a=h:(a=new u(this._input.substring(ct,this._offset),ct,bt),this._offset=this._offset),a===h){this._offset=y;var ne=this._offset,Mt=new Array(3),ve=h,Us=null,Gs=this._offset+1;if(Gs<=this._inputSize&&(Us=this._input.substring(this._offset,Gs)),Us==="{"?(ve=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ve=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"{"'])),ve!==h){Mt[0]=ve;for(var Se=h,Ys=this._offset,qe=[],Re=null;;){var Pe=null,Ws=this._offset+1;if(Ws<=this._inputSize&&(Pe=this._input.substring(this._offset,Ws)),Pe!==null&&/^[0-9]/.test(Pe)?(Re=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(Re=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),Re!==h)qe.push(Re);else break}if(qe.length>=1?(Se=new t(this._input.substring(Ys,this._offset),Ys,qe),this._offset=this._offset):Se=h,Se!==h){Mt[1]=Se;var Ae=h,Vs=null,Xs=this._offset+1;Xs<=this._inputSize&&(Vs=this._input.substring(this._offset,Xs)),Vs==="}"?(Ae=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(Ae=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"}"'])),Ae!==h?Mt[2]=Ae:(Mt=null,this._offset=ne)}else Mt=null,this._offset=ne}else Mt=null,this._offset=ne;Mt===null?a=h:(a=new d(this._input.substring(ne,this._offset),ne,Mt),this._offset=this._offset),a===h&&(this._offset=y)}}return a!==h&&Object.assign(a,this._types.RepeatSpec),this._cache._repeat_spec[w]=[a,this._offset],a},_read_anchor(){var a=h,w=this._offset;this._cache._anchor=this._cache._anchor||{};var _=this._cache._anchor[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=null,g=this._offset+1;if(g<=this._inputSize&&(p=this._input.substring(this._offset,g)),p==="^"?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::anchor",'"^"'])),a===h){this._offset=y;var v=null,R=this._offset+1;R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="$"?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::anchor",'"$"'])),a===h&&(this._offset=y)}return a!==h&&Object.assign(a,this._types.Anchor),this._cache._anchor[w]=[a,this._offset],a},_read_subexp(){var a=h,w=this._offset;this._cache._subexp=this._cache._subexp||{};var _=this._cache._subexp[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(4),g=h,v=null,R=this._offset+1;if(R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="("?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"("'])),g!==h){p[0]=g;var m=h,x=this._offset,S=this._offset,A=null,E=this._offset+2;if(E<=this._inputSize&&(A=this._input.substring(this._offset,E)),A==="?:"?(m=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(m=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"?:"'])),m===h){this._offset=S;var O=null,k=this._offset+2;if(k<=this._inputSize&&(O=this._input.substring(this._offset,k)),O==="?="?(m=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(m=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"?="'])),m===h){this._offset=S;var C=null,L=this._offset+2;L<=this._inputSize&&(C=this._input.substring(this._offset,L)),C==="?!"?(m=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(m=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"?!"'])),m===h&&(this._offset=S)}}if(m===h&&(m=new t(this._input.substring(x,x),x,[]),this._offset=x),m!==h){p[1]=m;var J=h;if(J=this._read_regexp(),J!==h){p[2]=J;var I=h,rt=null,et=this._offset+1;et<=this._inputSize&&(rt=this._input.substring(this._offset,et)),rt===")"?(I=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(I=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'")"'])),I!==h?p[3]=I:(p=null,this._offset=y)}else p=null,this._offset=y}else p=null,this._offset=y}else p=null,this._offset=y;return p===null?a=h:(a=new z(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.Subexp),this._cache._subexp[w]=[a,this._offset],a},_read_charset(){var a=h,w=this._offset;this._cache._charset=this._cache._charset||{};var _=this._cache._charset[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(4),g=h,v=null,R=this._offset+1;if(R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="["?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset",'"["'])),g!==h){p[0]=g;var m=h,x=this._offset,S=null,A=this._offset+1;if(A<=this._inputSize&&(S=this._input.substring(this._offset,A)),S==="^"?(m=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(m=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset",'"^"'])),m===h&&(m=new t(this._input.substring(x,x),x,[]),this._offset=x),m!==h){p[1]=m;for(var E=h,O=this._offset,k=[],C=null;;){var L=this._offset;if(C=this._read_charset_range(),C===h&&(this._offset=L,C=this._read_charset_terminal(),C===h&&(this._offset=L)),C!==h)k.push(C);else break}if(k.length>=0?(E=new t(this._input.substring(O,this._offset),O,k),this._offset=this._offset):E=h,E!==h){p[2]=E;var J=h,I=null,rt=this._offset+1;rt<=this._inputSize&&(I=this._input.substring(this._offset,rt)),I==="]"?(J=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(J=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset",'"]"'])),J!==h?p[3]=J:(p=null,this._offset=y)}else p=null,this._offset=y}else p=null,this._offset=y}else p=null,this._offset=y;return p===null?a=h:(a=new T(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.Charset),this._cache._charset[w]=[a,this._offset],a},_read_charset_range(){var a=h,w=this._offset;this._cache._charset_range=this._cache._charset_range||{};var _=this._cache._charset_range[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(3),g=h;if(g=this._read_charset_range_terminal(),g!==h){p[0]=g;var v=h,R=null,m=this._offset+1;if(m<=this._inputSize&&(R=this._input.substring(this._offset,m)),R==="-"?(v=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range",'"-"'])),v!==h){p[1]=v;var x=h;x=this._read_charset_range_terminal(),x!==h?p[2]=x:(p=null,this._offset=y)}else p=null,this._offset=y}else p=null,this._offset=y;return p===null?a=h:(a=new b(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.CharsetRange),this._cache._charset_range[w]=[a,this._offset],a},_read_charset_range_terminal(){var a=h,w=this._offset;this._cache._charset_range_terminal=this._cache._charset_range_terminal||{};var _=this._cache._charset_range_terminal[w];if(_)return this._offset=_[1],_[0];var y=this._offset;return a=this._read_charset_range_escape(),a!==h&&Object.assign(a,this._types.CharsetEscape),a===h&&(this._offset=y,a=this._read_charset_literal(),a!==h&&Object.assign(a,this._types.Literal),a===h&&(this._offset=y)),this._cache._charset_range_terminal[w]=[a,this._offset],a},_read_charset_terminal(){var a=h,w=this._offset;this._cache._charset_terminal=this._cache._charset_terminal||{};var _=this._cache._charset_terminal[w];if(_)return this._offset=_[1],_[0];var y=this._offset;return a=this._read_charset_escape(),a!==h&&Object.assign(a,this._types.CharsetEscape),a===h&&(this._offset=y,a=this._read_charset_literal(),a!==h&&Object.assign(a,this._types.Literal),a===h&&(this._offset=y)),this._cache._charset_terminal[w]=[a,this._offset],a},_read_charset_escape(){var a=h,w=this._offset;this._cache._charset_escape=this._cache._charset_escape||{};var _=this._cache._charset_escape[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=null,R=this._offset+1;if(R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="\\"?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_escape",'"\\\\"'])),g!==h){p[0]=g;var m=h,x=this._offset,S=this._offset,A=new Array(2),E=h,O=null,k=this._offset+1;if(k<=this._inputSize&&(O=this._input.substring(this._offset,k)),O!==null&&/^[bdDfnrsStvwW]/.test(O)?(E=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(E=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_escape","[bdDfnrsStvwW]"])),E!==h){A[0]=E;var C=h,L=this._offset,J=null,I=this._offset+0;I<=this._inputSize&&(J=this._input.substring(this._offset,I)),J===""?(C=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(C=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_escape",'""'])),C===h&&(C=new t(this._input.substring(L,L),L,[]),this._offset=L),C!==h?A[1]=C:(A=null,this._offset=S)}else A=null,this._offset=S;A===null?m=h:(m=new M(this._input.substring(S,this._offset),S,A),this._offset=this._offset),m===h&&(this._offset=x,m=this._read_control_escape(),m===h&&(this._offset=x,m=this._read_octal_escape(),m===h&&(this._offset=x,m=this._read_hex_escape(),m===h&&(this._offset=x,m=this._read_unicode_escape(),m===h&&(this._offset=x,m=this._read_null_escape(),m===h&&(this._offset=x)))))),m!==h?p[1]=m:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new D(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._charset_escape[w]=[a,this._offset],a},_read_charset_range_escape(){var a=h,w=this._offset;this._cache._charset_range_escape=this._cache._charset_range_escape||{};var _=this._cache._charset_range_escape[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=null,R=this._offset+1;if(R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="\\"?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range_escape",'"\\\\"'])),g!==h){p[0]=g;var m=h,x=this._offset,S=this._offset,A=new Array(2),E=h,O=null,k=this._offset+1;if(k<=this._inputSize&&(O=this._input.substring(this._offset,k)),O!==null&&/^[bfnrtv]/.test(O)?(E=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(E=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range_escape","[bfnrtv]"])),E!==h){A[0]=E;var C=h,L=this._offset,J=null,I=this._offset+0;I<=this._inputSize&&(J=this._input.substring(this._offset,I)),J===""?(C=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(C=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range_escape",'""'])),C===h&&(C=new t(this._input.substring(L,L),L,[]),this._offset=L),C!==h?A[1]=C:(A=null,this._offset=S)}else A=null,this._offset=S;A===null?m=h:(m=new H(this._input.substring(S,this._offset),S,A),this._offset=this._offset),m===h&&(this._offset=x,m=this._read_control_escape(),m===h&&(this._offset=x,m=this._read_octal_escape(),m===h&&(this._offset=x,m=this._read_hex_escape(),m===h&&(this._offset=x,m=this._read_unicode_escape(),m===h&&(this._offset=x,m=this._read_null_escape(),m===h&&(this._offset=x)))))),m!==h?p[1]=m:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new P(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._charset_range_escape[w]=[a,this._offset],a},_read_charset_literal(){var a=h,w=this._offset;this._cache._charset_literal=this._cache._charset_literal||{};var _=this._cache._charset_literal[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=this._offset,g=new Array(2),v=h,R=this._offset,m=null,x=this._offset+0;if(x<=this._inputSize&&(m=this._input.substring(this._offset,x)),m===""?(v=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'""'])),v===h&&(v=new t(this._input.substring(R,R),R,[]),this._offset=R),v!==h){g[0]=v;var S=h,A=null,E=this._offset+1;E<=this._inputSize&&(A=this._input.substring(this._offset,E)),A!==null&&/^[^\\\]]/.test(A)?(S=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(S=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal","[^\\\\\\]]"])),S!==h?g[1]=S:(g=null,this._offset=p)}else g=null,this._offset=p;if(g===null?a=h:(a=new X(this._input.substring(p,this._offset),p,g),this._offset=this._offset),a===h){this._offset=y;var O=this._offset,k=new Array(2),C=h,L=null,J=this._offset+1;if(J<=this._inputSize&&(L=this._input.substring(this._offset,J)),L==="\\"?(C=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(C=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'"\\\\"'])),C!==h){k[0]=C;var I=h,rt=this._offset,et=null,ft=this._offset+1;ft<=this._inputSize&&(et=this._input.substring(this._offset,ft)),et==="c"?(I=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(I=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'"c"'])),this._offset=rt,I!==h?(I=new t(this._input.substring(this._offset,this._offset),this._offset,[]),this._offset=this._offset):I=h,I!==h?k[1]=I:(k=null,this._offset=O)}else k=null,this._offset=O;if(k===null?a=h:(a=new tt(this._input.substring(O,this._offset),O,k),this._offset=this._offset),a===h){this._offset=y;var st=this._offset,it=new Array(2),ot=h,Rt=null,zt=this._offset+1;if(zt<=this._inputSize&&(Rt=this._input.substring(this._offset,zt)),Rt==="\\"?(ot=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ot=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'"\\\\"'])),ot!==h){it[0]=ot;var ct=h,bt=null,qt=this._offset+1;qt<=this._inputSize&&(bt=this._input.substring(this._offset,qt)),bt!==null&&/^[^bdDfnrsStvwW]/.test(bt)?(ct=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ct=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal","[^bdDfnrsStvwW]"])),ct!==h?it[1]=ct:(it=null,this._offset=st)}else it=null,this._offset=st;it===null?a=h:(a=new ht(this._input.substring(st,this._offset),st,it),this._offset=this._offset),a===h&&(this._offset=y)}}return this._cache._charset_literal[w]=[a,this._offset],a},_read_terminal(){var a=h,w=this._offset;this._cache._terminal=this._cache._terminal||{};var _=this._cache._terminal[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=null,g=this._offset+1;return g<=this._inputSize&&(p=this._input.substring(this._offset,g)),p==="."?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::terminal",'"."'])),a!==h&&Object.assign(a,this._types.AnyCharacter),a===h&&(this._offset=y,a=this._read_escape(),a!==h&&Object.assign(a,this._types.Escape),a===h&&(this._offset=y,a=this._read_literal(),a!==h&&Object.assign(a,this._types.Literal),a===h&&(this._offset=y))),this._cache._terminal[w]=[a,this._offset],a},_read_literal(){var a=h,w=this._offset;this._cache._literal=this._cache._literal||{};var _=this._cache._literal[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=this._offset,g=new Array(2),v=h,R=this._offset,m=null,x=this._offset+0;if(x<=this._inputSize&&(m=this._input.substring(this._offset,x)),m===""?(v=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'""'])),v===h&&(v=new t(this._input.substring(R,R),R,[]),this._offset=R),v!==h){g[0]=v;var S=h,A=null,E=this._offset+1;E<=this._inputSize&&(A=this._input.substring(this._offset,E)),A!==null&&/^[^|\\/.\[\(\)?+*$^]/.test(A)?(S=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(S=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal","[^|\\\\/.\\[\\(\\)?+*$^]"])),S!==h?g[1]=S:(g=null,this._offset=p)}else g=null,this._offset=p;if(g===null?a=h:(a=new nt(this._input.substring(p,this._offset),p,g),this._offset=this._offset),a===h){this._offset=y;var O=this._offset,k=new Array(2),C=h,L=null,J=this._offset+1;if(J<=this._inputSize&&(L=this._input.substring(this._offset,J)),L==="\\"?(C=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(C=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'"\\\\"'])),C!==h){k[0]=C;var I=h,rt=this._offset,et=null,ft=this._offset+1;ft<=this._inputSize&&(et=this._input.substring(this._offset,ft)),et==="c"?(I=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(I=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'"c"'])),this._offset=rt,I!==h?(I=new t(this._input.substring(this._offset,this._offset),this._offset,[]),this._offset=this._offset):I=h,I!==h?k[1]=I:(k=null,this._offset=O)}else k=null,this._offset=O;if(k===null?a=h:(a=new Et(this._input.substring(O,this._offset),O,k),this._offset=this._offset),a===h){this._offset=y;var st=this._offset,it=new Array(2),ot=h,Rt=null,zt=this._offset+1;if(zt<=this._inputSize&&(Rt=this._input.substring(this._offset,zt)),Rt==="\\"?(ot=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ot=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'"\\\\"'])),ot!==h){it[0]=ot;var ct=h;this._offset<this._inputSize?(ct=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ct=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal","<any char>"])),ct!==h?it[1]=ct:(it=null,this._offset=st)}else it=null,this._offset=st;it===null?a=h:(a=new Y(this._input.substring(st,this._offset),st,it),this._offset=this._offset),a===h&&(this._offset=y)}}return this._cache._literal[w]=[a,this._offset],a},_read_control_escape(){var a=h,w=this._offset;this._cache._control_escape=this._cache._control_escape||{};var _=this._cache._control_escape[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=null,R=this._offset+1;if(R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="c"?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::control_escape",'"c"'])),g!==h){p[0]=g;var m=h,x=null,S=this._offset+1;S<=this._inputSize&&(x=this._input.substring(this._offset,S)),x!==null&&/^[a-zA-Z]/.test(x)?(m=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(m=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::control_escape","[a-zA-Z]"])),m!==h?p[1]=m:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new ut(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._control_escape[w]=[a,this._offset],a},_read_octal_escape(){var a=h,w=this._offset;this._cache._octal_escape=this._cache._octal_escape||{};var _=this._cache._octal_escape[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=null,R=this._offset+1;if(R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="0"?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::octal_escape",'"0"'])),g!==h){p[0]=g;for(var m=h,x=this._offset,S=[],A=null;;){var E=null,O=this._offset+1;if(O<=this._inputSize&&(E=this._input.substring(this._offset,O)),E!==null&&/^[0-7]/.test(E)?(A=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::octal_escape","[0-7]"])),A!==h)S.push(A);else break}S.length>=1?(m=new t(this._input.substring(x,this._offset),x,S),this._offset=this._offset):m=h,m!==h?p[1]=m:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new ks(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._octal_escape[w]=[a,this._offset],a},_read_hex_escape(){var a=h,w=this._offset;this._cache._hex_escape=this._cache._hex_escape||{};var _=this._cache._hex_escape[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=null,R=this._offset+1;if(R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="x"?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::hex_escape",'"x"'])),g!==h){p[0]=g;var m=h,x=this._offset,S=new Array(2),A=h,E=null,O=this._offset+1;if(O<=this._inputSize&&(E=this._input.substring(this._offset,O)),E!==null&&/^[0-9a-fA-F]/.test(E)?(A=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::hex_escape","[0-9a-fA-F]"])),A!==h){S[0]=A;var k=h,C=null,L=this._offset+1;L<=this._inputSize&&(C=this._input.substring(this._offset,L)),C!==null&&/^[0-9a-fA-F]/.test(C)?(k=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(k=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::hex_escape","[0-9a-fA-F]"])),k!==h?S[1]=k:(S=null,this._offset=x)}else S=null,this._offset=x;S===null?m=h:(m=new t(this._input.substring(x,this._offset),x,S),this._offset=this._offset),m!==h?p[1]=m:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new zs(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._hex_escape[w]=[a,this._offset],a},_read_unicode_escape(){var a=h,w=this._offset;this._cache._unicode_escape=this._cache._unicode_escape||{};var _=this._cache._unicode_escape[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=null,R=this._offset+1;if(R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="u"?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape",'"u"'])),g!==h){p[0]=g;var m=h,x=this._offset,S=new Array(4),A=h,E=null,O=this._offset+1;if(O<=this._inputSize&&(E=this._input.substring(this._offset,O)),E!==null&&/^[0-9a-fA-F]/.test(E)?(A=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),A!==h){S[0]=A;var k=h,C=null,L=this._offset+1;if(L<=this._inputSize&&(C=this._input.substring(this._offset,L)),C!==null&&/^[0-9a-fA-F]/.test(C)?(k=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(k=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),k!==h){S[1]=k;var J=h,I=null,rt=this._offset+1;if(rt<=this._inputSize&&(I=this._input.substring(this._offset,rt)),I!==null&&/^[0-9a-fA-F]/.test(I)?(J=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(J=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),J!==h){S[2]=J;var et=h,ft=null,st=this._offset+1;st<=this._inputSize&&(ft=this._input.substring(this._offset,st)),ft!==null&&/^[0-9a-fA-F]/.test(ft)?(et=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(et=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),et!==h?S[3]=et:(S=null,this._offset=x)}else S=null,this._offset=x}else S=null,this._offset=x}else S=null,this._offset=x;S===null?m=h:(m=new t(this._input.substring(x,this._offset),x,S),this._offset=this._offset),m!==h?p[1]=m:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new Ms(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._unicode_escape[w]=[a,this._offset],a},_read_null_escape(){var a=h,w=this._offset;this._cache._null_escape=this._cache._null_escape||{};var _=this._cache._null_escape[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=null,R=this._offset+1;if(R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="0"?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::null_escape",'"0"'])),g!==h){p[0]=g;var m=h,x=this._offset,S=null,A=this._offset+0;A<=this._inputSize&&(S=this._input.substring(this._offset,A)),S===""?(m=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(m=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::null_escape",'""'])),m===h&&(m=new t(this._input.substring(x,x),x,[]),this._offset=x),m!==h?p[1]=m:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new Is(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._null_escape[w]=[a,this._offset],a},_read_escape(){var a=h,w=this._offset;this._cache._escape=this._cache._escape||{};var _=this._cache._escape[w];if(_)return this._offset=_[1],_[0];var y=this._offset,p=new Array(2),g=h,v=null,R=this._offset+1;if(R<=this._inputSize&&(v=this._input.substring(this._offset,R)),v==="\\"?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::escape",'"\\\\"'])),g!==h){p[0]=g;var m=h,x=this._offset,S=this._offset,A=new Array(2),E=h,O=null,k=this._offset+1;if(k<=this._inputSize&&(O=this._input.substring(this._offset,k)),O!==null&&/^[bBdDfnrsStvwW1-9]/.test(O)?(E=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(E=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::escape","[bBdDfnrsStvwW1-9]"])),E!==h){A[0]=E;var C=h,L=this._offset,J=null,I=this._offset+0;I<=this._inputSize&&(J=this._input.substring(this._offset,I)),J===""?(C=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(C=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::escape",'""'])),C===h&&(C=new t(this._input.substring(L,L),L,[]),this._offset=L),C!==h?A[1]=C:(A=null,this._offset=S)}else A=null,this._offset=S;A===null?m=h:(m=new js(this._input.substring(S,this._offset),S,A),this._offset=this._offset),m===h&&(this._offset=x,m=this._read_control_escape(),m===h&&(this._offset=x,m=this._read_octal_escape(),m===h&&(this._offset=x,m=this._read_hex_escape(),m===h&&(this._offset=x,m=this._read_unicode_escape(),m===h&&(this._offset=x,m=this._read_null_escape(),m===h&&(this._offset=x)))))),m!==h?p[1]=m:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new $s(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._escape[w]=[a,this._offset],a}},ye=function(a,w,_){this._input=a,this._inputSize=a.length,this._actions=w,this._types=_,this._offset=0,this._cache={},this._failure=0,this._expected=[]};ye.prototype.parse=function(){var a=this._read_root();if(a!==h&&this._offset===this._inputSize)return a;throw this._expected.length===0&&(this._failure=this._offset,this._expected.push(["JavaScriptRegexp","<EOF>"])),this.constructor.lastError={offset:this._offset,expected:this._expected},new SyntaxError(nn(this._input,this._failure,this._expected))},Object.assign(ye.prototype,Ds);function sn(a,w){w=w||{};var _=new ye(a,w.actions,w.types);return _.parse()}function nn(a,w,_){for(var y=a.split(/\n/g),p=0,g=0;g<=w;)g+=y[p].length+1,p+=1;for(var v=y[p-1],R="Line "+p+`: expected one of:

`,m=0;m<_.length;m++)R+="    - "+_[m][1]+" from "+_[m][0]+`
`;for(var x=p.toString();x.length<6;)x=" "+x;for(R+=`
`+x+" | "+v+`
`,g-=v.length+10;g<w;)R+=" ",g+=1;return R+"^"}function U(a,w){function _(){}_.prototype=w.prototype,a.prototype=new _,a.prototype.constructor=a}var Ls={Grammar:Ds,Parser:ye,parse:sn};if(typeof yn=="function")Object.assign(s,Ls);else{var rn=typeof this>"u"?window:this;rn.JavaScriptRegexp=Ls}})()})(We)),We}var Ln=Dn();const qn=mi(Ln),ss={},wi=[];function j(s,t){if(Array.isArray(s)){for(const e of s)j(e,t);return}if(typeof s=="object"){for(const e in s)j(e,s[e]);return}xi(Object.getOwnPropertyNames(t)),ss[s]=Object.assign(ss[s]||{},t)}function gt(s){return ss[s]||{}}function Pn(){return[...new Set(wi)]}function xi(s){wi.push(...s)}function ps(s,t){let e;const i=s.length,n=[];for(e=0;e<i;e++)n.push(t(s[e]));return n}function Jn(s,t){let e;const i=s.length,n=[];for(e=0;e<i;e++)t(s[e])&&n.push(s[e]);return n}function Ve(s){return s%360*Math.PI/180}function Fn(s){return s.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})}function bi(s){return s.charAt(0).toUpperCase()+s.slice(1)}function ee(s,t,e,i){return(t==null||e==null)&&(i=i||s.bbox(),t==null?t=i.width/i.height*e:e==null&&(e=i.height/i.width*t)),{width:t,height:e}}function is(s,t){const e=s.origin;let i=s.ox!=null?s.ox:s.originX!=null?s.originX:"center",n=s.oy!=null?s.oy:s.originY!=null?s.originY:"center";e!=null&&([i,n]=Array.isArray(e)?e:typeof e=="object"?[e.x,e.y]:[e,e]);const r=typeof i=="string",f=typeof n=="string";if(r||f){const{height:o,width:l,x:c,y:u}=t.bbox();r&&(i=i.includes("left")?c:i.includes("right")?c+l:c+l/2),f&&(n=n.includes("top")?u:n.includes("bottom")?u+o:u+o/2)}return[i,n]}const Bn=new Set(["desc","metadata","title"]),ns=s=>Bn.has(s.nodeName),vi=(s,t,e={})=>{const i={...t};for(const n in i)i[n].valueOf()===e[n]&&delete i[n];Object.keys(i).length?s.node.setAttribute("data-svgjs",JSON.stringify(i)):(s.node.removeAttribute("data-svgjs"),s.node.removeAttribute("svgjs:data"))},ds="http://www.w3.org/2000/svg",Hn="http://www.w3.org/1999/xhtml",Xe="http://www.w3.org/2000/xmlns/",ce="http://www.w3.org/1999/xlink",F={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Un(){return F.window}class gs{}const Ht={},ms="___SYMBOL___ROOT___";function Kt(s,t=ds){return F.document.createElementNS(t,s)}function dt(s,t=!1){if(s instanceof gs)return s;if(typeof s=="object")return Qe(s);if(s==null)return new Ht[ms];if(typeof s=="string"&&s.trim().charAt(0)!=="<")return Qe(F.document.querySelector(s));const e=t?F.document.createElement("div"):Kt("svg");return e.innerHTML=s.trim(),s=Qe(e.firstElementChild),e.removeChild(e.firstElementChild),s}function K(s,t){return t&&(t instanceof F.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:Kt(s)}function St(s){if(!s)return null;if(s.instance instanceof gs)return s.instance;if(s.nodeName==="#document-fragment")return new Ht.Fragment(s);let t=bi(s.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":Ht[t]||(t="Dom"),new Ht[t](s)}let Qe=St;function B(s,t=s.name,e=!1){return Ht[t]=s,e&&(Ht[ms]=s),xi(Object.getOwnPropertyNames(s.prototype)),s}function Gn(s){return Ht[s]}let Yn=1e3;function Si(s){return"Svgjs"+bi(s)+Yn++}function Ri(s){for(let t=s.children.length-1;t>=0;t--)Ri(s.children[t]);return s.id&&(s.id=Si(s.nodeName)),s}function q(s,t){let e,i;for(s=Array.isArray(s)?s:[s],i=s.length-1;i>=0;i--)for(e in t)s[i].prototype[e]=t[e]}function Z(s){return function(...t){const e=t[t.length-1];return e&&e.constructor===Object&&!(e instanceof Array)?s.apply(this,t.slice(0,-1)).attr(e):s.apply(this,t)}}function Wn(){return this.parent().children()}function Vn(){return this.parent().index(this)}function Xn(){return this.siblings()[this.position()+1]}function Qn(){return this.siblings()[this.position()-1]}function Zn(){const s=this.position();return this.parent().add(this.remove(),s+1),this}function Kn(){const s=this.position();return this.parent().add(this.remove(),s?s-1:0),this}function tr(){return this.parent().add(this.remove()),this}function er(){return this.parent().add(this.remove(),0),this}function sr(s){s=dt(s),s.remove();const t=this.position();return this.parent().add(s,t),this}function ir(s){s=dt(s),s.remove();const t=this.position();return this.parent().add(s,t+1),this}function nr(s){return s=dt(s),s.before(this),this}function rr(s){return s=dt(s),s.after(this),this}j("Dom",{siblings:Wn,position:Vn,next:Xn,prev:Qn,forward:Zn,backward:Kn,front:tr,back:er,before:sr,after:ir,insertBefore:nr,insertAfter:rr});const Ai=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hr=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,fr=/rgb\((\d+),(\d+),(\d+)\)/,or=/(#[a-z_][a-z0-9\-_]*)/i,ar=/\)\s*,?\s*/,ur=/\s/g,ai=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ui=/^rgb\(/,li=/^(\s+)?$/,ci=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,kt=/[\s,]+/,ys=/[MLHVCSQTAZ]/i;function cr(){const s=this.attr("class");return s==null?[]:s.trim().split(kt)}function _r(s){return this.classes().indexOf(s)!==-1}function pr(s){if(!this.hasClass(s)){const t=this.classes();t.push(s),this.attr("class",t.join(" "))}return this}function dr(s){return this.hasClass(s)&&this.attr("class",this.classes().filter(function(t){return t!==s}).join(" ")),this}function gr(s){return this.hasClass(s)?this.removeClass(s):this.addClass(s)}j("Dom",{classes:cr,hasClass:_r,addClass:pr,removeClass:dr,toggleClass:gr});function mr(s,t){const e={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){const n=i.split(/\s*:\s*/);e[n[0]]=n[1]}),e;if(arguments.length<2){if(Array.isArray(s)){for(const i of s){const n=i;e[i]=this.node.style.getPropertyValue(n)}return e}if(typeof s=="string")return this.node.style.getPropertyValue(s);if(typeof s=="object")for(const i in s)this.node.style.setProperty(i,s[i]==null||li.test(s[i])?"":s[i])}return arguments.length===2&&this.node.style.setProperty(s,t==null||li.test(t)?"":t),this}function yr(){return this.css("display","")}function wr(){return this.css("display","none")}function xr(){return this.css("display")!=="none"}j("Dom",{css:mr,show:yr,hide:wr,visible:xr});function br(s,t,e){if(s==null)return this.data(ps(Jn(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(s instanceof Array){const i={};for(const n of s)i[n]=this.data(n);return i}else if(typeof s=="object")for(t in s)this.data(t,s[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+s))}catch{return this.attr("data-"+s)}else this.attr("data-"+s,t===null?null:e===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}j("Dom",{data:br});function vr(s,t){if(typeof arguments[0]=="object")for(const e in s)this.remember(e,s[e]);else{if(arguments.length===1)return this.memory()[s];this.memory()[s]=t}return this}function Sr(){if(arguments.length===0)this._memory={};else for(let s=arguments.length-1;s>=0;s--)delete this.memory()[arguments[s]];return this}function Rr(){return this._memory=this._memory||{}}j("Dom",{remember:vr,forget:Sr,memory:Rr});function Ar(s){return s.length===4?["#",s.substring(1,2),s.substring(1,2),s.substring(2,3),s.substring(2,3),s.substring(3,4),s.substring(3,4)].join(""):s}function Cr(s){const t=Math.round(s),i=Math.max(0,Math.min(255,t)).toString(16);return i.length===1?"0"+i:i}function Wt(s,t){for(let e=t.length;e--;)if(s[t[e]]==null)return!1;return!0}function Tr(s,t){const e=Wt(s,"rgb")?{_a:s.r,_b:s.g,_c:s.b,_d:0,space:"rgb"}:Wt(s,"xyz")?{_a:s.x,_b:s.y,_c:s.z,_d:0,space:"xyz"}:Wt(s,"hsl")?{_a:s.h,_b:s.s,_c:s.l,_d:0,space:"hsl"}:Wt(s,"lab")?{_a:s.l,_b:s.a,_c:s.b,_d:0,space:"lab"}:Wt(s,"lch")?{_a:s.l,_b:s.c,_c:s.h,_d:0,space:"lch"}:Wt(s,"cmyk")?{_a:s.c,_b:s.m,_c:s.y,_d:s.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return e.space=t||e.space,e}function Er(s){return s==="lab"||s==="xyz"||s==="lch"}function Ze(s,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+(t-s)*6*e:e<1/2?t:e<2/3?s+(t-s)*(2/3-e)*6:s}class W{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof W||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",e){const{random:i,round:n,sin:r,PI:f}=Math;if(t==="vibrant"){const o=24*i()+57,l=38*i()+45,c=360*i();return new W(o,l,c,"lch")}else if(t==="sine"){e=e??i();const o=n(80*r(2*f*e/.5+.01)+150),l=n(50*r(2*f*e/.5+4.6)+200),c=n(100*r(2*f*e/.5+2.3)+150);return new W(o,l,c)}else if(t==="pastel"){const o=8*i()+86,l=17*i()+9,c=360*i();return new W(o,l,c,"lch")}else if(t==="dark"){const o=10+10*i(),l=50*i()+86,c=360*i();return new W(o,l,c,"lch")}else if(t==="rgb"){const o=255*i(),l=255*i(),c=255*i();return new W(o,l,c)}else if(t==="lab"){const o=100*i(),l=256*i()-128,c=256*i()-128;return new W(o,l,c,"lab")}else if(t==="grey"){const o=255*i();return new W(o,o,o)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(ai.test(t)||ui.test(t))}cmyk(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,f]=[t,e,i].map(z=>z/255),o=Math.min(1-n,1-r,1-f);if(o===1)return new W(0,0,0,1,"cmyk");const l=(1-n-o)/(1-o),c=(1-r-o)/(1-o),u=(1-f-o)/(1-o);return new W(l,c,u,o,"cmyk")}hsl(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,f]=[t,e,i].map(D=>D/255),o=Math.max(n,r,f),l=Math.min(n,r,f),c=(o+l)/2,u=o===l,d=o-l,z=u?0:c>.5?d/(2-o-l):d/(o+l),T=u?0:o===n?((r-f)/d+(r<f?6:0))/6:o===r?((f-n)/d+2)/6:o===f?((n-r)/d+4)/6:0;return new W(360*T,100*z,100*c,"hsl")}init(t=0,e=0,i=0,n=0,r="rgb"){if(t=t||0,this.space)for(const d in this.space)delete this[this.space[d]];if(typeof t=="number")r=typeof n=="string"?n:r,n=typeof n=="string"?0:n,Object.assign(this,{_a:t,_b:e,_c:i,_d:n,space:r});else if(t instanceof Array)this.space=e||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const d=Tr(t,e);Object.assign(this,d)}else if(typeof t=="string")if(ui.test(t)){const d=t.replace(ur,""),[z,T,b]=fr.exec(d).slice(1,4).map(D=>parseInt(D));Object.assign(this,{_a:z,_b:T,_c:b,_d:0,space:"rgb"})}else if(ai.test(t)){const d=D=>parseInt(D,16),[,z,T,b]=hr.exec(Ar(t)).map(d);Object.assign(this,{_a:z,_b:T,_c:b,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:f,_b:o,_c:l,_d:c}=this,u=this.space==="rgb"?{r:f,g:o,b:l}:this.space==="xyz"?{x:f,y:o,z:l}:this.space==="hsl"?{h:f,s:o,l}:this.space==="lab"?{l:f,a:o,b:l}:this.space==="lch"?{l:f,c:o,h:l}:this.space==="cmyk"?{c:f,m:o,y:l,k:c}:{};Object.assign(this,u)}lab(){const{x:t,y:e,z:i}=this.xyz(),n=116*e-16,r=500*(t-e),f=200*(e-i);return new W(n,r,f,"lab")}lch(){const{l:t,a:e,b:i}=this.lab(),n=Math.sqrt(e**2+i**2);let r=180*Math.atan2(i,e)/Math.PI;return r<0&&(r*=-1,r=360-r),new W(t,n,r,"lch")}rgb(){if(this.space==="rgb")return this;if(Er(this.space)){let{x:t,y:e,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:T,a:b,b:D}=this;if(this.space==="lch"){const{c:nt,h:Et}=this,Y=Math.PI/180;b=nt*Math.cos(Y*Et),D=nt*Math.sin(Y*Et)}const M=(T+16)/116,P=b/500+M,H=M-D/200,X=16/116,tt=.008856,ht=7.787;t=.95047*(P**3>tt?P**3:(P-X)/ht),e=1*(M**3>tt?M**3:(M-X)/ht),i=1.08883*(H**3>tt?H**3:(H-X)/ht)}const n=t*3.2406+e*-1.5372+i*-.4986,r=t*-.9689+e*1.8758+i*.0415,f=t*.0557+e*-.204+i*1.057,o=Math.pow,l=.0031308,c=n>l?1.055*o(n,1/2.4)-.055:12.92*n,u=r>l?1.055*o(r,1/2.4)-.055:12.92*r,d=f>l?1.055*o(f,1/2.4)-.055:12.92*f;return new W(255*c,255*u,255*d)}else if(this.space==="hsl"){let{h:t,s:e,l:i}=this;if(t/=360,e/=100,i/=100,e===0)return i*=255,new W(i,i,i);const n=i<.5?i*(1+e):i+e-i*e,r=2*i-n,f=255*Ze(r,n,t+1/3),o=255*Ze(r,n,t),l=255*Ze(r,n,t-1/3);return new W(f,o,l)}else if(this.space==="cmyk"){const{c:t,m:e,y:i,k:n}=this,r=255*(1-Math.min(1,t*(1-n)+n)),f=255*(1-Math.min(1,e*(1-n)+n)),o=255*(1-Math.min(1,i*(1-n)+n));return new W(r,f,o)}else return this}toArray(){const{_a:t,_b:e,_c:i,_d:n,space:r}=this;return[t,e,i,n,r]}toHex(){const[t,e,i]=this._clamped().map(Cr);return`#${t}${e}${i}`}toRgb(){const[t,e,i]=this._clamped();return`rgb(${t},${e},${i})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,f]=[t,e,i].map(P=>P/255),o=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,l=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,c=f>.04045?Math.pow((f+.055)/1.055,2.4):f/12.92,u=(o*.4124+l*.3576+c*.1805)/.95047,d=(o*.2126+l*.7152+c*.0722)/1,z=(o*.0193+l*.1192+c*.9505)/1.08883,T=u>.008856?Math.pow(u,1/3):7.787*u+16/116,b=d>.008856?Math.pow(d,1/3):7.787*d+16/116,D=z>.008856?Math.pow(z,1/3):7.787*z+16/116;return new W(T,b,D,"xyz")}_clamped(){const{_a:t,_b:e,_c:i}=this.rgb(),{max:n,min:r,round:f}=Math,o=l=>n(0,r(f(l),255));return[t,e,i].map(o)}}class V{constructor(...t){this.init(...t)}clone(){return new V(this)}init(t,e){const i={x:0,y:0},n=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:e};return this.x=n.x==null?i.x:n.x,this.y=n.y==null?i.y:n.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){N.isMatrixLike(t)||(t=new N(t));const{x:e,y:i}=this;return this.x=t.a*e+t.c*i+t.e,this.y=t.b*e+t.d*i+t.f,this}}function Nr(s,t){return new V(s,t).transformO(this.screenCTM().inverseO())}function Vt(s,t,e){return Math.abs(t-s)<1e-6}class N{constructor(...t){this.init(...t)}static formatTransforms(t){const e=t.flip==="both"||t.flip===!0,i=t.flip&&(e||t.flip==="x")?-1:1,n=t.flip&&(e||t.flip==="y")?-1:1,r=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,f=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,l=t.scale&&t.scale.length?t.scale[1]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleY)?t.scaleY*n:n,c=t.shear||0,u=t.rotate||t.theta||0,d=new V(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),z=d.x,T=d.y,b=new V(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),D=b.x,M=b.y,P=new V(t.translate||t.tx||t.translateX,t.ty||t.translateY),H=P.x,X=P.y,tt=new V(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),ht=tt.x,nt=tt.y;return{scaleX:o,scaleY:l,skewX:r,skewY:f,shear:c,theta:u,rx:ht,ry:nt,tx:H,ty:X,ox:z,oy:T,px:D,py:M}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,e,i){const n=t.a*e.a+t.c*e.b,r=t.b*e.a+t.d*e.b,f=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,l=t.e+t.a*e.e+t.c*e.f,c=t.f+t.b*e.e+t.d*e.f;return i.a=n,i.b=r,i.c=f,i.d=o,i.e=l,i.f=c,i}around(t,e,i){return this.clone().aroundO(t,e,i)}aroundO(t,e,i){const n=t||0,r=e||0;return this.translateO(-n,-r).lmultiplyO(i).translateO(n,r)}clone(){return new N(this)}decompose(t=0,e=0){const i=this.a,n=this.b,r=this.c,f=this.d,o=this.e,l=this.f,c=i*f-n*r,u=c>0?1:-1,d=u*Math.sqrt(i*i+n*n),z=Math.atan2(u*n,u*i),T=180/Math.PI*z,b=Math.cos(z),D=Math.sin(z),M=(i*r+n*f)/c,P=r*d/(M*i-n)||f*d/(M*n+i),H=o-t+t*b*d+e*(M*b*d-D*P),X=l-e+t*D*d+e*(M*D*d+b*P);return{scaleX:d,scaleY:P,shear:M,rotate:T,translateX:H,translateY:X,originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new N(t);return Vt(this.a,e.a)&&Vt(this.b,e.b)&&Vt(this.c,e.c)&&Vt(this.d,e.d)&&Vt(this.e,e.e)&&Vt(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return t==="x"?this.scaleO(-1,1,e,0):t==="y"?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=N.fromArray([1,0,0,1,0,0]);return t=t instanceof Tt?t.matrixify():typeof t=="string"?N.fromArray(t.split(kt).map(parseFloat)):Array.isArray(t)?N.fromArray(t):typeof t=="object"&&N.isMatrixLike(t)?t:typeof t=="object"?new N().transform(t):arguments.length===6?N.fromArray([].slice.call(arguments)):e,this.a=t.a!=null?t.a:e.a,this.b=t.b!=null?t.b:e.b,this.c=t.c!=null?t.c:e.c,this.d=t.d!=null?t.d:e.d,this.e=t.e!=null?t.e:e.e,this.f=t.f!=null?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,i=this.c,n=this.d,r=this.e,f=this.f,o=t*n-e*i;if(!o)throw new Error("Cannot invert "+this);const l=n/o,c=-e/o,u=-i/o,d=t/o,z=-(l*r+u*f),T=-(c*r+d*f);return this.a=l,this.b=c,this.c=u,this.d=d,this.e=z,this.f=T,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=this,i=t instanceof N?t:new N(t);return N.matrixMultiply(i,e,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=this,i=t instanceof N?t:new N(t);return N.matrixMultiply(e,i,this)}rotate(t,e,i){return this.clone().rotateO(t,e,i)}rotateO(t,e=0,i=0){t=Ve(t);const n=Math.cos(t),r=Math.sin(t),{a:f,b:o,c:l,d:c,e:u,f:d}=this;return this.a=f*n-o*r,this.b=o*n+f*r,this.c=l*n-c*r,this.d=c*n+l*r,this.e=u*n-d*r+i*r-e*n+e,this.f=d*n+u*r-e*r-i*n+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,i=0,n=0){arguments.length===3&&(n=i,i=e,e=t);const{a:r,b:f,c:o,d:l,e:c,f:u}=this;return this.a=r*t,this.b=f*e,this.c=o*t,this.d=l*e,this.e=c*t-i*t+i,this.f=u*e-n*e+n,this}shear(t,e,i){return this.clone().shearO(t,e,i)}shearO(t,e=0,i=0){const{a:n,b:r,c:f,d:o,e:l,f:c}=this;return this.a=n+r*t,this.c=f+o*t,this.e=l+c*t-i*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,i=0,n=0){arguments.length===3&&(n=i,i=e,e=t),t=Ve(t),e=Ve(e);const r=Math.tan(t),f=Math.tan(e),{a:o,b:l,c,d:u,e:d,f:z}=this;return this.a=o+l*r,this.b=l+o*f,this.c=c+u*r,this.d=u+c*f,this.e=d+z*r-n*r,this.f=z+d*f-i*f,this}skewX(t,e,i){return this.skew(t,0,e,i)}skewY(t,e,i){return this.skew(0,t,e,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(N.isMatrixLike(t))return new N(t).multiplyO(this);const e=N.formatTransforms(t),i=this,{x:n,y:r}=new V(e.ox,e.oy).transform(i),f=new N().translateO(e.rx,e.ry).lmultiplyO(i).translateO(-n,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,r);if(isFinite(e.px)||isFinite(e.py)){const o=new V(n,r).transform(f),l=isFinite(e.px)?e.px-o.x:0,c=isFinite(e.py)?e.py-o.y:0;f.translateO(l,c)}return f.translateO(e.tx,e.ty),f}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Or(){return new N(this.node.getCTM())}function kr(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const s=this.rect(1,1),t=s.node.getScreenCTM();return s.remove(),new N(t)}return new N(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new N}}B(N,"Matrix");function jt(){if(!jt.nodes){const s=dt().size(2,0);s.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),s.attr("focusable","false"),s.attr("aria-hidden","true");const t=s.path().node;jt.nodes={svg:s,path:t}}if(!jt.nodes.svg.node.parentNode){const s=F.document.body||F.document.documentElement;jt.nodes.svg.addTo(s)}return jt.nodes}function Ci(s){return!s.width&&!s.height&&!s.x&&!s.y}function zr(s){return s===F.document||(F.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===F.document}).call(F.document.documentElement,s)}class at{constructor(...t){this.init(...t)}addOffset(){return this.x+=F.window.pageXOffset,this.y+=F.window.pageYOffset,new at(this)}init(t){const e=[0,0,0,0];return t=typeof t=="string"?t.split(kt).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):e,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Ci(this)}merge(t){const e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width)-e,r=Math.max(this.y+this.height,t.y+t.height)-i;return new at(e,i,n,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof N||(t=new N(t));let e=1/0,i=-1/0,n=1/0,r=-1/0;return[new V(this.x,this.y),new V(this.x2,this.y),new V(this.x,this.y2),new V(this.x2,this.y2)].forEach(function(o){o=o.transform(t),e=Math.min(e,o.x),i=Math.max(i,o.x),n=Math.min(n,o.y),r=Math.max(r,o.y)}),new at(e,n,i-e,r-n)}}function Ti(s,t,e){let i;try{if(i=t(s.node),Ci(i)&&!zr(s.node))throw new Error("Element not in the dom")}catch{i=e(s)}return i}function Mr(){const e=Ti(this,n=>n.getBBox(),n=>{try{const r=n.clone().addTo(jt().svg).show(),f=r.node.getBBox();return r.remove(),f}catch(r){throw new Error(`Getting bbox of element "${n.node.nodeName}" is not possible: ${r.toString()}`)}});return new at(e)}function Ir(s){const i=Ti(this,r=>r.getBoundingClientRect(),r=>{throw new Error(`Getting rbox of element "${r.node.nodeName}" is not possible`)}),n=new at(i);return s?n.transform(s.screenCTM().inverseO()):n.addOffset()}function $r(s,t){const e=this.bbox();return s>e.x&&t>e.y&&s<e.x+e.width&&t<e.y+e.height}j({viewbox:{viewbox(s,t,e,i){return s==null?new at(this.attr("viewBox")):this.attr("viewBox",new at(s,t,e,i))},zoom(s,t){let{width:e,height:i}=this.attr(["width","height"]);if((!e&&!i||typeof e=="string"||typeof i=="string")&&(e=this.node.clientWidth,i=this.node.clientHeight),!e||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const n=this.viewbox(),r=e/n.width,f=i/n.height,o=Math.min(r,f);if(s==null)return o;let l=o/s;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),t=t||new V(e/2/r+n.x,i/2/f+n.y);const c=new at(n).transform(new N({scale:l,origin:t}));return this.viewbox(c)}}});B(at,"Box");class Ut extends Array{constructor(t=[],...e){if(super(t,...e),typeof t=="number")return this;this.length=0,this.push(...t)}}q([Ut],{each(s,...t){return typeof s=="function"?this.map((e,i,n)=>s.call(e,e,i,n)):this.map(e=>e[s](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const jr=["toArray","constructor","each"];Ut.extend=function(s){s=s.reduce((t,e)=>(jr.includes(e)||e[0]==="_"||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...i){return this.each(e,...i)}),t),{}),q([Ut],s)};function se(s,t){return new Ut(ps((t||F.document).querySelectorAll(s),function(e){return St(e)}))}function Dr(s){return se(s,this.node)}function Lr(s){return St(this.node.querySelector(s))}let qr=0;const Ei={};function Ni(s){let t=s.getEventHolder();return t===F.window&&(t=Ei),t.events||(t.events={}),t.events}function ws(s){return s.getEventTarget()}function Pr(s){let t=s.getEventHolder();t===F.window&&(t=Ei),t.events&&(t.events={})}function rs(s,t,e,i,n){const r=e.bind(i||s),f=dt(s),o=Ni(f),l=ws(f);t=Array.isArray(t)?t:t.split(kt),e._svgjsListenerId||(e._svgjsListenerId=++qr),t.forEach(function(c){const u=c.split(".")[0],d=c.split(".")[1]||"*";o[u]=o[u]||{},o[u][d]=o[u][d]||{},o[u][d][e._svgjsListenerId]=r,l.addEventListener(u,r,n||!1)})}function Qt(s,t,e,i){const n=dt(s),r=Ni(n),f=ws(n);typeof e=="function"&&(e=e._svgjsListenerId,!e)||(t=Array.isArray(t)?t:(t||"").split(kt),t.forEach(function(o){const l=o&&o.split(".")[0],c=o&&o.split(".")[1];let u,d;if(e)r[l]&&r[l][c||"*"]&&(f.removeEventListener(l,r[l][c||"*"][e],i||!1),delete r[l][c||"*"][e]);else if(l&&c){if(r[l]&&r[l][c]){for(d in r[l][c])Qt(f,[l,c].join("."),d);delete r[l][c]}}else if(c)for(o in r)for(u in r[o])c===u&&Qt(f,[o,c].join("."));else if(l){if(r[l]){for(u in r[l])Qt(f,[l,u].join("."));delete r[l]}}else{for(o in r)Qt(f,o);Pr(n)}}))}function Jr(s,t,e,i){const n=ws(s);return t instanceof F.window.Event||(t=new F.window.CustomEvent(t,{detail:e,cancelable:!0,...i})),n.dispatchEvent(t),t}class _e extends gs{addEventListener(){}dispatch(t,e,i){return Jr(this,t,e,i)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const i=e[t.type];for(const n in i)for(const r in i[n])i[n][r](t);return!t.defaultPrevented}fire(t,e,i){return this.dispatch(t,e,i),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,i){return Qt(this,t,e,i),this}on(t,e,i,n){return rs(this,t,e,i,n),this}removeEventListener(){}}B(_e,"EventTarget");function _i(){}const oe={duration:400,ease:">",delay:0},Fr={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class te extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(kt).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class ${constructor(...t){this.init(...t)}convert(t){return new $(this.value,t)}divide(t){return t=new $(t),new $(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(e=t.match(Ai),e&&(this.value=parseFloat(e[1]),e[5]==="%"?this.value/=100:e[5]==="s"&&(this.value*=1e3),this.unit=e[5])):t instanceof $&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new $(t),new $(this-t,this.unit||t.unit)}plus(t){return t=new $(t),new $(this+t,this.unit||t.unit)}times(t){return t=new $(t),new $(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Br=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Oi=[];function Hr(s){Oi.push(s)}function Ur(s,t,e){if(s==null){s={},t=this.node.attributes;for(const i of t)s[i.nodeName]=ci.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return s}else{if(s instanceof Array)return s.reduce((i,n)=>(i[n]=this.attr(n),i),{});if(typeof s=="object"&&s.constructor===Object)for(t in s)this.attr(t,s[t]);else if(t===null)this.node.removeAttribute(s);else{if(t==null)return t=this.node.getAttribute(s),t==null?Fr[s]:ci.test(t)?parseFloat(t):t;t=Oi.reduce((i,n)=>n(s,i,this),t),typeof t=="number"?t=new $(t):Br.has(s)&&W.isColor(t)?t=new W(t):t.constructor===Array&&(t=new te(t)),s==="leading"?this.leading&&this.leading(t):typeof e=="string"?this.node.setAttributeNS(e,s,t.toString()):this.node.setAttribute(s,t.toString()),this.rebuild&&(s==="font-size"||s==="x")&&this.rebuild()}}return this}class Dt extends _e{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return t=dt(t),t.removeNamespace&&this.node instanceof F.window.SVGElement&&t.removeNamespace(),e==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return dt(t).put(this,e)}children(){return new Ut(ps(this.node.children,function(t){return St(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let i=this.node.cloneNode(t);return e&&(i=Ri(i)),new this.constructor(i)}each(t,e){const i=this.children();let n,r;for(n=0,r=i.length;n<r;n++)t.apply(i[n],[n,i]),e&&i[n].each(t,e);return this}element(t,e){return this.put(new Dt(Kt(t),e))}first(){return St(this.node.firstChild)}get(t){return St(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,Hn)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=Si(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return St(this.node.lastChild)}matches(t){const e=this.node,i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return i&&i.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=St(e.node.parentNode),!t)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=St(e.node.parentNode));return e}put(t,e){return t=dt(t),this.add(t,e),t}putIn(t,e){return dt(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=dt(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const i=10**t,n=this.attr(e);for(const r in n)typeof n[r]=="number"&&(n[r]=Math.round(n[r]*i)/i);return this.attr(n),this}svg(t,e){return this.xml(t,e,ds)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const i=e.index(this);return e.put(t,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){e=e??!0,this.writeDataToDom();let o=this;if(t!=null){if(o=St(o.node.cloneNode(!0)),e){const l=t(o);if(o=l||o,l===!1)return""}o.each(function(){const l=t(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return e?o.node.outerHTML:o.node.innerHTML}e=e??!1;const n=Kt("wrapper",i),r=F.document.createDocumentFragment();n.innerHTML=t;for(let o=n.children.length;o--;)r.appendChild(n.firstElementChild);const f=this.parent();return e?this.replace(r)&&f:this.add(r)}}q(Dt,{attr:Ur,find:Dr,findOne:Lr});B(Dt,"Dom");class Tt extends Dt{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new $(t).plus(this.x()))}dy(t=0){return this.y(new $(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=dt(t));const i=new Ut;let n=this;for(;(n=n.parent())&&n.node!==F.document&&n.nodeName!=="#document-fragment"&&(i.push(n),!(!e&&n.node===t.node||e&&n.matches(t)));)if(n.node===this.root().node)return null;return i}reference(t){if(t=this.attr(t),!t)return null;const e=(t+"").match(or);return e?dt(e[1]):null}root(){const t=this.parent(Gn(ms));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const i=ee(this,t,e);return this.width(new $(i.width)).height(new $(i.height))}width(t){return this.attr("width",t)}writeDataToDom(){return vi(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}q(Tt,{bbox:Mr,rbox:Ir,inside:$r,point:Nr,ctm:Or,screenCTM:kr});B(Tt,"Element");const re={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(s,t){return t==="color"?s:s+"-"+t}};["fill","stroke"].forEach(function(s){const t={};let e;t[s]=function(i){if(typeof i>"u")return this.attr(s);if(typeof i=="string"||i instanceof W||W.isRgb(i)||i instanceof Tt)this.attr(s,i);else for(e=re[s].length-1;e>=0;e--)i[re[s][e]]!=null&&this.attr(re.prefix(s,re[s][e]),i[re[s][e]]);return this},j(["Element","Runner"],t)});j(["Element","Runner"],{matrix:function(s,t,e,i,n,r){return s==null?new N(this):this.attr("transform",new N(s,t,e,i,n,r))},rotate:function(s,t,e){return this.transform({rotate:s,ox:t,oy:e},!0)},skew:function(s,t,e,i){return arguments.length===1||arguments.length===3?this.transform({skew:s,ox:t,oy:e},!0):this.transform({skew:[s,t],ox:e,oy:i},!0)},shear:function(s,t,e){return this.transform({shear:s,ox:t,oy:e},!0)},scale:function(s,t,e,i){return arguments.length===1||arguments.length===3?this.transform({scale:s,ox:t,oy:e},!0):this.transform({scale:[s,t],ox:e,oy:i},!0)},translate:function(s,t){return this.transform({translate:[s,t]},!0)},relative:function(s,t){return this.transform({relative:[s,t]},!0)},flip:function(s="both",t="center"){return"xybothtrue".indexOf(s)===-1&&(t=s,s="both"),this.transform({flip:s,origin:t},!0)},opacity:function(s){return this.attr("opacity",s)}});j("radius",{radius:function(s,t=s){return(this._element||this).type==="radialGradient"?this.attr("r",new $(s)):this.rx(s).ry(t)}});j("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(s){return new V(this.node.getPointAtLength(s))}});j(["Element","Runner"],{font:function(s,t){if(typeof s=="object"){for(t in s)this.font(t,s[t]);return this}return s==="leading"?this.leading(t):s==="anchor"?this.attr("text-anchor",t):s==="size"||s==="family"||s==="weight"||s==="stretch"||s==="variant"||s==="style"?this.attr("font-"+s,t):this.attr(s,t)}});const Gr=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(s,t){const e=function(i){return i===null?this.off(t):this.on(t,i),this};return s[t]=e,s},{});j("Element",Gr);function Yr(){return this.attr("transform",null)}function Wr(){return(this.attr("transform")||"").split(ar).slice(0,-1).map(function(t){const e=t.trim().split("(");return[e[0],e[1].split(kt).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(t,e){return e[0]==="matrix"?t.lmultiply(N.fromArray(e[1])):t[e[0]].apply(t,e[1])},new N)}function Vr(s,t){if(this===s)return this;if(ns(this.node))return this.addTo(s,t);const e=this.screenCTM(),i=s.screenCTM().inverse();return this.addTo(s,t).untransform().transform(i.multiply(e)),this}function Xr(s){return this.toParent(this.root(),s)}function Qr(s,t){if(s==null||typeof s=="string"){const n=new N(this).decompose();return s==null?n:n[s]}N.isMatrixLike(s)||(s={...s,origin:is(s,this)});const e=t===!0?this:t||!1,i=new N(e).transform(s);return this.attr("transform",i)}j("Element",{untransform:Yr,matrixify:Wr,toParent:Vr,toRoot:Xr,transform:Qr});class mt extends Tt{flatten(){return this.each(function(){if(this instanceof mt)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=e===-1?t.children().length:e,this.each(function(i,n){return n[n.length-i-1].toParent(t,e)}),this.remove()}}B(mt,"Container");class xs extends mt{constructor(t,e=t){super(K("defs",t),e)}flatten(){return this}ungroup(){return this}}B(xs,"Defs");class xt extends Tt{}B(xt,"Shape");function bs(s){return this.attr("rx",s)}function vs(s){return this.attr("ry",s)}function ki(s){return s==null?this.cx()-this.rx():this.cx(s+this.rx())}function zi(s){return s==null?this.cy()-this.ry():this.cy(s+this.ry())}function Mi(s){return this.attr("cx",s)}function Ii(s){return this.attr("cy",s)}function $i(s){return s==null?this.rx()*2:this.rx(new $(s).divide(2))}function ji(s){return s==null?this.ry()*2:this.ry(new $(s).divide(2))}const Zr=Object.freeze(Object.defineProperty({__proto__:null,cx:Mi,cy:Ii,height:ji,rx:bs,ry:vs,width:$i,x:ki,y:zi},Symbol.toStringTag,{value:"Module"}));class Me extends xt{constructor(t,e=t){super(K("ellipse",t),e)}size(t,e){const i=ee(this,t,e);return this.rx(new $(i.width).divide(2)).ry(new $(i.height).divide(2))}}q(Me,Zr);j("Container",{ellipse:Z(function(s=0,t=s){return this.put(new Me).size(s,t).move(0,0)})});B(Me,"Ellipse");class Di extends Dt{constructor(t=F.document.createDocumentFragment()){super(t)}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){const n=new Dt(Kt("wrapper",i));return n.add(this.node.cloneNode(!0)),n.xml(!1,i)}return super.xml(t,!1,i)}}B(Di,"Fragment");function Li(s,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new $(s),fy:new $(t)}):this.attr({x1:new $(s),y1:new $(t)})}function qi(s,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new $(s),cy:new $(t)}):this.attr({x2:new $(s),y2:new $(t)})}const Kr=Object.freeze(Object.defineProperty({__proto__:null,from:Li,to:qi},Symbol.toStringTag,{value:"Module"}));class pe extends mt{constructor(t,e){super(K(t+"Gradient",typeof t=="string"?null:t),e)}attr(t,e,i){return t==="transform"&&(t="gradientTransform"),super.attr(t,e,i)}bbox(){return new at}targets(){return se("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}q(pe,Kr);j({Container:{gradient(...s){return this.defs().gradient(...s)}},Defs:{gradient:Z(function(s,t){return this.put(new pe(s)).update(t)})}});B(pe,"Gradient");class ae extends mt{constructor(t,e=t){super(K("pattern",t),e)}attr(t,e,i){return t==="transform"&&(t="patternTransform"),super.attr(t,e,i)}bbox(){return new at}targets(){return se("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}j({Container:{pattern(...s){return this.defs().pattern(...s)}},Defs:{pattern:Z(function(s,t,e){return this.put(new ae).update(e).attr({x:0,y:0,width:s,height:t,patternUnits:"userSpaceOnUse"})})}});B(ae,"Pattern");class Ie extends xt{constructor(t,e=t){super(K("image",t),e)}load(t,e){if(!t)return this;const i=new F.window.Image;return rs(i,"load",function(n){const r=this.parent(ae);this.width()===0&&this.height()===0&&this.size(i.width,i.height),r instanceof ae&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),rs(i,"load error",function(){Qt(i)}),this.attr("href",i.src=t,ce)}}Hr(function(s,t,e){return(s==="fill"||s==="stroke")&&lr.test(t)&&(t=e.root().defs().image(t)),t instanceof Ie&&(t=e.root().defs().pattern(0,0,i=>{i.add(t)})),t});j({Container:{image:Z(function(s,t){return this.put(new Ie).size(0,0).load(s,t)})}});B(Ie,"Image");class Lt extends te{bbox(){let t=-1/0,e=-1/0,i=1/0,n=1/0;return this.forEach(function(r){t=Math.max(r[0],t),e=Math.max(r[1],e),i=Math.min(r[0],i),n=Math.min(r[1],n)}),new at(i,n,t-i,e-n)}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this}parse(t=[0,0]){const e=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(kt).map(parseFloat),t.length%2!==0&&t.pop();for(let i=0,n=t.length;i<n;i=i+2)e.push([t[i],t[i+1]]);return e}size(t,e){let i;const n=this.bbox();for(i=this.length-1;i>=0;i--)n.width&&(this[i][0]=(this[i][0]-n.x)*t/n.width+n.x),n.height&&(this[i][1]=(this[i][1]-n.y)*e/n.height+n.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,i=this.length;e<i;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){N.isMatrixLike(t)||(t=new N(t));for(let e=this.length;e--;){const[i,n]=this[e];this[e][0]=t.a*i+t.c*n+t.e,this[e][1]=t.b*i+t.d*n+t.f}return this}}const th=Lt;function eh(s){return s==null?this.bbox().x:this.move(s,this.bbox().y)}function sh(s){return s==null?this.bbox().y:this.move(this.bbox().x,s)}function ih(s){const t=this.bbox();return s==null?t.width:this.size(s,t.height)}function nh(s){const t=this.bbox();return s==null?t.height:this.size(t.width,s)}const Ss=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:th,height:nh,width:ih,x:eh,y:sh},Symbol.toStringTag,{value:"Module"}));class ue extends xt{constructor(t,e=t){super(K("line",t),e)}array(){return new Lt([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,i,n){return t==null?this.array():(typeof e<"u"?t={x1:t,y1:e,x2:i,y2:n}:t=new Lt(t).toLine(),this.attr(t))}size(t,e){const i=ee(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}}q(ue,Ss);j({Container:{line:Z(function(...s){return ue.prototype.plot.apply(this.put(new ue),s[0]!=null?s:[0,0,0,0])})}});B(ue,"Line");class Te extends mt{constructor(t,e=t){super(K("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}j({Container:{marker(...s){return this.defs().marker(...s)}},Defs:{marker:Z(function(s,t,e){return this.put(new Te).size(s,t).ref(s/2,t/2).viewbox(0,0,s,t).attr("orient","auto").update(e)})},marker:{marker(s,t,e,i){let n=["marker"];return s!=="all"&&n.push(s),n=n.join("-"),s=arguments[1]instanceof Te?arguments[1]:this.defs().marker(t,e,i),this.attr(n,s)}}});B(Te,"Marker");function Zt(s,t){return function(e){return e==null?this[s]:(this[s]=e,t&&t.call(this),this)}}const rh={"-":function(s){return s},"<>":function(s){return-Math.cos(s*Math.PI)/2+.5},">":function(s){return Math.sin(s*Math.PI/2)},"<":function(s){return-Math.cos(s*Math.PI/2)+1},bezier:function(s,t,e,i){return function(n){return n<0?s>0?t/s*n:e>0?i/e*n:0:n>1?e<1?(1-i)/(1-e)*n+(i-e)/(1-e):s<1?(1-t)/(1-s)*n+(t-s)/(1-s):1:3*n*(1-n)**2*t+3*n**2*(1-n)*i+n**3}},steps:function(s,t="end"){t=t.split("-").reverse()[0];let e=s;return t==="none"?--e:t==="both"&&++e,(i,n=!1)=>{let r=Math.floor(i*s);const f=i*r%1===0;return(t==="start"||t==="both")&&++r,n&&f&&--r,i>=0&&r<0&&(r=0),i<=1&&r>e&&(r=e),r/e}}};class Rs{done(){return!1}}class hs extends Rs{constructor(t=oe.ease){super(),this.ease=rh[t]||t}step(t,e,i){return typeof t!="number"?i<1?t:e:t+(e-t)*this.ease(i)}}class Ee extends Rs{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,i,n){return this.stepper(t,e,i,n)}}function pi(){const s=(this._duration||500)/1e3,t=this._overshoot||0,e=1e-10,i=Math.PI,n=Math.log(t/100+e),r=-n/Math.sqrt(i*i+n*n),f=3.9/(r*s);this.d=2*r*f,this.k=f*f}class hh extends Ee{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,i,n){if(typeof t=="string")return t;if(n.done=i===1/0,i===1/0)return e;if(i===0)return t;i>100&&(i=16),i/=1e3;const r=n.velocity||0,f=-this.d*r-this.k*(t-e),o=t+r*i+f*i*i/2;return n.velocity=r+f*i,n.done=Math.abs(e-o)+Math.abs(r)<.002,n.done?e:o}}q(hh,{duration:Zt("_duration",pi),overshoot:Zt("_overshoot",pi)});class fh extends Ee{constructor(t=.1,e=.01,i=0,n=1e3){super(),this.p(t).i(e).d(i).windup(n)}step(t,e,i,n){if(typeof t=="string")return t;if(n.done=i===1/0,i===1/0)return e;if(i===0)return t;const r=e-t;let f=(n.integral||0)+r*i;const o=(r-(n.error||0))/i,l=this._windup;return l!==!1&&(f=Math.max(-l,Math.min(f,l))),n.error=r,n.integral=f,n.done=Math.abs(r)<.001,n.done?e:t+(this.P*r+this.I*f+this.D*o)}}q(fh,{windup:Zt("_windup"),p:Zt("P"),i:Zt("I"),d:Zt("D")});const oh={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},fs={M:function(s,t,e){return t.x=e.x=s[0],t.y=e.y=s[1],["M",t.x,t.y]},L:function(s,t){return t.x=s[0],t.y=s[1],["L",s[0],s[1]]},H:function(s,t){return t.x=s[0],["H",s[0]]},V:function(s,t){return t.y=s[0],["V",s[0]]},C:function(s,t){return t.x=s[4],t.y=s[5],["C",s[0],s[1],s[2],s[3],s[4],s[5]]},S:function(s,t){return t.x=s[2],t.y=s[3],["S",s[0],s[1],s[2],s[3]]},Q:function(s,t){return t.x=s[2],t.y=s[3],["Q",s[0],s[1],s[2],s[3]]},T:function(s,t){return t.x=s[0],t.y=s[1],["T",s[0],s[1]]},Z:function(s,t,e){return t.x=e.x,t.y=e.y,["Z"]},A:function(s,t){return t.x=s[5],t.y=s[6],["A",s[0],s[1],s[2],s[3],s[4],s[5],s[6]]}},Ke="mlhvqtcsaz".split("");for(let s=0,t=Ke.length;s<t;++s)fs[Ke[s]]=(function(e){return function(i,n,r){if(e==="H")i[0]=i[0]+n.x;else if(e==="V")i[0]=i[0]+n.y;else if(e==="A")i[5]=i[5]+n.x,i[6]=i[6]+n.y;else for(let f=0,o=i.length;f<o;++f)i[f]=i[f]+(f%2?n.y:n.x);return fs[e](i,n,r)}})(Ke[s].toUpperCase());function ah(s){const t=s.segment[0];return fs[t](s.segment.slice(1),s.p,s.p0)}function os(s){return s.segment.length&&s.segment.length-1===oh[s.segment[0].toUpperCase()]}function uh(s,t){s.inNumber&&Jt(s,!1);const e=ys.test(t);if(e)s.segment=[t];else{const i=s.lastCommand,n=i.toLowerCase(),r=i===n;s.segment=[n==="m"?r?"l":"L":i]}return s.inSegment=!0,s.lastCommand=s.segment[0],e}function Jt(s,t){if(!s.inNumber)throw new Error("Parser Error");s.number&&s.segment.push(parseFloat(s.number)),s.inNumber=t,s.number="",s.pointSeen=!1,s.hasExponent=!1,os(s)&&as(s)}function as(s){s.inSegment=!1,s.absolute&&(s.segment=ah(s)),s.segments.push(s.segment)}function lh(s){if(!s.segment.length)return!1;const t=s.segment[0].toUpperCase()==="A",e=s.segment.length;return t&&(e===4||e===5)}function ch(s){return s.lastToken.toUpperCase()==="E"}const _h=new Set([" ",",","	",`
`,"\r","\f"]);function ph(s,t=!0){let e=0,i="";const n={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new V,p:new V};for(;n.lastToken=i,i=s.charAt(e++);)if(!(!n.inSegment&&uh(n,i))){if(i==="."){if(n.pointSeen||n.hasExponent){Jt(n,!1),--e;continue}n.inNumber=!0,n.pointSeen=!0,n.number+=i;continue}if(!isNaN(parseInt(i))){if(n.number==="0"||lh(n)){n.inNumber=!0,n.number=i,Jt(n,!0);continue}n.inNumber=!0,n.number+=i;continue}if(_h.has(i)){n.inNumber&&Jt(n,!1);continue}if(i==="-"||i==="+"){if(n.inNumber&&!ch(n)){Jt(n,!1),--e;continue}n.number+=i,n.inNumber=!0;continue}if(i.toUpperCase()==="E"){n.number+=i,n.hasExponent=!0;continue}if(ys.test(i)){if(n.inNumber)Jt(n,!1);else if(os(n))as(n);else throw new Error("parser Error");--e}}return n.inNumber&&Jt(n,!1),n.inSegment&&os(n)&&as(n),n.segments}function dh(s){let t="";for(let e=0,i=s.length;e<i;e++)t+=s[e][0],s[e][1]!=null&&(t+=s[e][1],s[e][2]!=null&&(t+=" ",t+=s[e][2],s[e][3]!=null&&(t+=" ",t+=s[e][3],t+=" ",t+=s[e][4],s[e][5]!=null&&(t+=" ",t+=s[e][5],t+=" ",t+=s[e][6],s[e][7]!=null&&(t+=" ",t+=s[e][7])))));return t+" "}class Gt extends te{bbox(){return jt().path.setAttribute("d",this.toString()),new at(jt.nodes.path.getBBox())}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],n==="M"||n==="L"||n==="T"?(this[r][1]+=t,this[r][2]+=e):n==="H"?this[r][1]+=t:n==="V"?this[r][1]+=e:n==="C"||n==="S"||n==="Q"?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,n==="C"&&(this[r][5]+=t,this[r][6]+=e)):n==="A"&&(this[r][6]+=t,this[r][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),ph(t)}size(t,e){const i=this.bbox();let n,r;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,n=this.length-1;n>=0;n--)r=this[n][0],r==="M"||r==="L"||r==="T"?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y):r==="H"?this[n][1]=(this[n][1]-i.x)*t/i.width+i.x:r==="V"?this[n][1]=(this[n][1]-i.y)*e/i.height+i.y:r==="C"||r==="S"||r==="Q"?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y,this[n][3]=(this[n][3]-i.x)*t/i.width+i.x,this[n][4]=(this[n][4]-i.y)*e/i.height+i.y,r==="C"&&(this[n][5]=(this[n][5]-i.x)*t/i.width+i.x,this[n][6]=(this[n][6]-i.y)*e/i.height+i.y)):r==="A"&&(this[n][1]=this[n][1]*t/i.width,this[n][2]=this[n][2]*e/i.height,this[n][6]=(this[n][6]-i.x)*t/i.width+i.x,this[n][7]=(this[n][7]-i.y)*e/i.height+i.y);return this}toString(){return dh(this)}}const Pi=s=>{const t=typeof s;return t==="number"?$:t==="string"?W.isColor(s)?W:kt.test(s)?ys.test(s)?Gt:te:Ai.test(s)?$:us:As.indexOf(s.constructor)>-1?s.constructor:Array.isArray(s)?te:t==="object"?le:us};class Ft{constructor(t){this._stepper=t||new hs("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,i){return e&&i},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(Pi(t));let e=new this._type(t);return this._type===W&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===le&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(i){return i.done=!0,i}),e}}class us{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class de{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,de.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}de.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const gh=(s,t)=>s[0]<t[0]?-1:s[0]>t[0]?1:0;class le{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let i=0,n=e.length;i<n;++i){if(e[i+1]===t[i+1]){if(e[i+1]===W&&t[i+7]!==e[i+7]){const o=t[i+7],l=new W(this.values.splice(i+3,5))[o]().toArray();this.values.splice(i+3,0,...l)}i+=e[i+2]+2;continue}if(!t[i+1])return this;const r=new t[i+1]().toArray(),f=e[i+2]+3;e.splice(i,f,t[i],t[i+1],t[i+2],...r),i+=e[i+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const e=[];for(const i in t){const n=Pi(t[i]),r=new n(t[i]).toArray();e.push([i,n,r.length,...r])}return e.sort(gh),this.values=e.reduce((i,n)=>i.concat(n),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const i=e.shift(),n=e.shift(),r=e.shift(),f=e.splice(0,r);t[i]=new n(f)}return t}}const As=[us,de,le];function mh(s=[]){As.push(...[].concat(s))}function yh(){q(As,{to(s){return new Ft().type(this.constructor).from(this.toArray()).to(s)},fromArray(s){return this.init(s),this},toConsumable(){return this.toArray()},morph(s,t,e,i,n){const r=function(f,o){return i.step(f,t[o],e,n[o],n)};return this.fromArray(s.map(r))}})}class ie extends xt{constructor(t,e=t){super(K("path",t),e)}array(){return this._array||(this._array=new Gt(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new Gt(t))}size(t,e){const i=ee(this,t,e);return this.attr("d",this.array().size(i.width,i.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}ie.prototype.MorphArray=Gt;j({Container:{path:Z(function(s){return this.put(new ie).plot(s||new Gt)})}});B(ie,"Path");function wh(){return this._array||(this._array=new Lt(this.attr("points")))}function xh(){return delete this._array,this}function bh(s,t){return this.attr("points",this.array().move(s,t))}function vh(s){return s==null?this.array():this.clear().attr("points",typeof s=="string"?s:this._array=new Lt(s))}function Sh(s,t){const e=ee(this,s,t);return this.attr("points",this.array().size(e.width,e.height))}const Ji=Object.freeze(Object.defineProperty({__proto__:null,array:wh,clear:xh,move:bh,plot:vh,size:Sh},Symbol.toStringTag,{value:"Module"}));class ge extends xt{constructor(t,e=t){super(K("polygon",t),e)}}j({Container:{polygon:Z(function(s){return this.put(new ge).plot(s||new Lt)})}});q(ge,Ss);q(ge,Ji);B(ge,"Polygon");class me extends xt{constructor(t,e=t){super(K("polyline",t),e)}}j({Container:{polyline:Z(function(s){return this.put(new me).plot(s||new Lt)})}});q(me,Ss);q(me,Ji);B(me,"Polyline");class $e extends xt{constructor(t,e=t){super(K("rect",t),e)}}q($e,{rx:bs,ry:vs});j({Container:{rect:Z(function(s,t){return this.put(new $e).size(s,t)})}});B($e,"Rect");class ts{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const G={nextDraw:null,frames:new ts,timeouts:new ts,immediates:new ts,timer:()=>F.window.performance||F.window.Date,transforms:[],frame(s){const t=G.frames.push({run:s});return G.nextDraw===null&&(G.nextDraw=F.window.requestAnimationFrame(G._draw)),t},timeout(s,t){t=t||0;const e=G.timer().now()+t,i=G.timeouts.push({run:s,time:e});return G.nextDraw===null&&(G.nextDraw=F.window.requestAnimationFrame(G._draw)),i},immediate(s){const t=G.immediates.push(s);return G.nextDraw===null&&(G.nextDraw=F.window.requestAnimationFrame(G._draw)),t},cancelFrame(s){s!=null&&G.frames.remove(s)},clearTimeout(s){s!=null&&G.timeouts.remove(s)},cancelImmediate(s){s!=null&&G.immediates.remove(s)},_draw(s){let t=null;const e=G.timeouts.last();for(;(t=G.timeouts.shift())&&(s>=t.time?t.run():G.timeouts.push(t),t!==e););let i=null;const n=G.frames.last();for(;i!==n&&(i=G.frames.shift());)i.run(s);let r=null;for(;r=G.immediates.shift();)r();G.nextDraw=G.timeouts.first()||G.frames.first()?F.window.requestAnimationFrame(G._draw):null}},Rh=function(s){const t=s.start,e=s.runner.duration(),i=t+e;return{start:t,duration:e,end:i,runner:s.runner}},Ah=function(){const s=F.window;return(s.performance||s.Date).now()};class Fi extends _e{constructor(t=Ah){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map(e=>e.start+e.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(t==null)return this.speed(-e);const i=Math.abs(e);return this.speed(t?-i:i)}schedule(t,e,i){if(t==null)return this._runners.map(Rh);let n=0;const r=this.getEndTime();if(e=e||0,i==null||i==="last"||i==="after")n=r;else if(i==="absolute"||i==="start")n=e,e=0;else if(i==="now")n=this._time;else if(i==="relative"){const l=this.getRunnerInfoById(t.id);l&&(n=l.start+e,e=0)}else if(i==="with-last"){const l=this.getLastRunnerInfo();n=l?l.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const f=t.persist(),o={persist:f===null?this._persist:f,start:n+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0?this:(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return G.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=G.frame(this._step),this)}_stepFn(t=!1){const e=this._timeSource();let i=e-this._lastSourceTime;t&&(i=0);const n=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let f=this._runners.length;f--;){const o=this._runners[f],l=o.runner;this._time-o.start<=0&&l.reset()}let r=!1;for(let f=0,o=this._runners.length;f<o;f++){const l=this._runners[f],c=l.runner;let u=n;const d=this._time-l.start;if(d<=0){r=!0;continue}else d<u&&(u=d);if(!c.active())continue;c.step(u).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--f,--o):r=!0}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}j({Element:{timeline:function(s){return s==null?(this._timeline=this._timeline||new Fi,this._timeline):(this._timeline=s,this)}}});class wt extends _e{constructor(t){super(),this.id=wt.id++,t=t??oe.duration,t=typeof t=="function"?new Ee(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof Ee,this._stepper=this._isDeclarative?t:new hs,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new N,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,e,i){let n=1,r=!1,f=0;return t=t??oe.duration,e=e??oe.delay,i=i||"last",typeof t=="object"&&!(t instanceof Rs)&&(e=t.delay??e,i=t.when??i,r=t.swing||r,n=t.times??n,f=t.wait??f,t=t.duration??oe.duration),{duration:t,delay:e,swing:r,times:n,wait:f,when:i}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,i){const n=wt.sanitise(t,e,i),r=new wt(n.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(n).schedule(n.delay,n.when)}clearTransform(){return this.transforms=new N,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new hs(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,i){return typeof t=="object"&&(e=t.swing,i=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(t==null){const f=Math.floor(this._time/e),l=(this._time-f*e)/this._duration;return Math.min(f+l,this._times)}const i=Math.floor(t),n=t%1,r=e*i+this._duration*n;return this.time(r)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const e=this._time,i=this._duration,n=this._wait,r=this._times,f=this._swing,o=this._reverse;let l;if(t==null){const z=function(b){const D=f*Math.floor(b%(2*(n+i))/(n+i)),M=D&&!o||!D&&o,P=Math.pow(-1,M)*(b%(n+i))/i+M;return Math.max(Math.min(P,1),0)},T=r*(n+i)-n;return l=e<=0?Math.round(z(1e-5)):e<T?z(e):Math.round(z(T-1e-5)),l}const c=Math.floor(this.loops()),u=f&&c%2===0;return l=c+(u&&!o||o&&u?t:1-t),this.loops(l)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,i,n){return this._queue.push({initialiser:t||_i,runner:e||_i,retarget:i,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,e,i){if(t instanceof Fi||(i=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,i),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const e=this.position(),i=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const n=this.duration(),r=this._lastTime<=0&&this._time>0,f=this._lastTime<n&&this._time>=n;this._lastTime=this._time,r&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!f&&this._time>=n,this._reseted=!1;let l=!1;return(i||o)&&(this._initialise(i),this.transforms=new N,l=this._run(o?t:e),this.fire("step",this)),this.done=this.done||l&&o,f&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return typeof t>"u"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let e=0,i=this._queue.length;e<i;++e){const n=this._queue[e],r=this._isDeclarative||!n.initialised&&t;t=!n.finished,r&&t&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(t){let e=!0;for(let i=0,n=this._queue.length;i<n;++i){const r=this._queue[i],f=r.runner.call(this,t);r.finished=r.finished||f===!0,e=e&&r.finished}return e}_tryRetarget(t,e,i){if(this._history[t]){if(!this._history[t].caller.initialised){const r=this._queue.indexOf(this._history[t].caller);return this._queue.splice(r,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,i):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const n=this.timeline();return n&&n.play(),!0}return!1}}wt.id=0;class Ne{constructor(t=new N,e=-1,i=!0){this.transforms=t,this.id=e,this.done=i}clearTransformsFromQueue(){}}q([wt,Ne],{mergeWith(s){return new Ne(s.transforms.lmultiply(this.transforms),s.id)}});const Bi=(s,t)=>s.lmultiplyO(t),Hi=s=>s.transforms;function Ch(){const t=this._transformationRunners.runners.map(Hi).reduce(Bi,new N);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Th{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Ne).forEach(i=>i.clearTransformsFromQueue()),this}edit(t,e){const i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const i=this.runners[e];if(t&&i.done&&t.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(i.id);const r=i.mergeWith(t);this.edit(t.id,r),t=r,--e}else t=i}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}j({Element:{animate(s,t,e){const i=wt.sanitise(s,t,e),n=this.timeline();return new wt(i.duration).loop(i).element(this).timeline(n.play()).schedule(i.delay,i.when)},delay(s,t){return this.animate(0,s,t)},_clearTransformRunnersBefore(s){this._transformationRunners.clearBefore(s.id)},_currentTransform(s){return this._transformationRunners.runners.filter(t=>t.id<=s.id).map(Hi).reduce(Bi,new N)},_addRunner(s){this._transformationRunners.add(s),G.cancelImmediate(this._frameId),this._frameId=G.immediate(Ch.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Th().add(new Ne(new N(this))))}}});const Eh=(s,t)=>s.filter(e=>!t.includes(e));q(wt,{attr(s,t){return this.styleAttr("attr",s,t)},css(s,t){return this.styleAttr("css",s,t)},styleAttr(s,t,e){if(typeof t=="string")return this.styleAttr(s,{[t]:e});let i=t;if(this._tryRetarget(s,i))return this;let n=new Ft(this._stepper).to(i),r=Object.keys(i);return this.queue(function(){n=n.from(this.element()[s](r))},function(f){return this.element()[s](n.at(f).valueOf()),n.done()},function(f){const o=Object.keys(f),l=Eh(o,r);if(l.length){const u=this.element()[s](l),d=new le(n.from()).valueOf();Object.assign(d,u),n.from(d)}const c=new le(n.to()).valueOf();Object.assign(c,f),n.to(c),r=o,i=f}),this._rememberMorpher(s,n),this},zoom(s,t){if(this._tryRetarget("zoom",s,t))return this;let e=new Ft(this._stepper).to(new $(s));return this.queue(function(){e=e.from(this.element().zoom())},function(i){return this.element().zoom(e.at(i),t),e.done()},function(i,n){t=n,e.to(i)}),this._rememberMorpher("zoom",e),this},transform(s,t,e){if(t=s.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",s))return this;const i=N.isMatrixLike(s);e=s.affine!=null?s.affine:e??!i;const n=new Ft(this._stepper).type(e?de:N);let r,f,o,l,c;function u(){f=f||this.element(),r=r||is(s,f),c=new N(t?void 0:f),f._addRunner(this),t||f._clearTransformRunnersBefore(this)}function d(T){t||this.clearTransform();const{x:b,y:D}=new V(r).transform(f._currentTransform(this));let M=new N({...s,origin:[b,D]}),P=this._isDeclarative&&o?o:c;if(e){M=M.decompose(b,D),P=P.decompose(b,D);const X=M.rotate,tt=P.rotate,ht=[X-360,X,X+360],nt=ht.map(ut=>Math.abs(ut-tt)),Et=Math.min(...nt),Y=nt.indexOf(Et);M.rotate=ht[Y]}t&&(i||(M.rotate=s.rotate||0),this._isDeclarative&&l&&(P.rotate=l)),n.from(P),n.to(M);const H=n.at(T);return l=H.rotate,o=new N(H),this.addTransform(o),f._addRunner(this),n.done()}function z(T){(T.origin||"center").toString()!==(s.origin||"center").toString()&&(r=is(T,f)),s={...T,origin:r}}return this.queue(u,d,z,!0),this._isDeclarative&&this._rememberMorpher("transform",n),this},x(s){return this._queueNumber("x",s)},y(s){return this._queueNumber("y",s)},ax(s){return this._queueNumber("ax",s)},ay(s){return this._queueNumber("ay",s)},dx(s=0){return this._queueNumberDelta("x",s)},dy(s=0){return this._queueNumberDelta("y",s)},dmove(s,t){return this.dx(s).dy(t)},_queueNumberDelta(s,t){if(t=new $(t),this._tryRetarget(s,t))return this;const e=new Ft(this._stepper).to(t);let i=null;return this.queue(function(){i=this.element()[s](),e.from(i),e.to(i+t)},function(n){return this.element()[s](e.at(n)),e.done()},function(n){e.to(i+new $(n))}),this._rememberMorpher(s,e),this},_queueObject(s,t){if(this._tryRetarget(s,t))return this;const e=new Ft(this._stepper).to(t);return this.queue(function(){e.from(this.element()[s]())},function(i){return this.element()[s](e.at(i)),e.done()}),this._rememberMorpher(s,e),this},_queueNumber(s,t){return this._queueObject(s,new $(t))},cx(s){return this._queueNumber("cx",s)},cy(s){return this._queueNumber("cy",s)},move(s,t){return this.x(s).y(t)},amove(s,t){return this.ax(s).ay(t)},center(s,t){return this.cx(s).cy(t)},size(s,t){let e;return(!s||!t)&&(e=this._element.bbox()),s||(s=e.width/e.height*t),t||(t=e.height/e.width*s),this.width(s).height(t)},width(s){return this._queueNumber("width",s)},height(s){return this._queueNumber("height",s)},plot(s,t,e,i){if(arguments.length===4)return this.plot([s,t,e,i]);if(this._tryRetarget("plot",s))return this;const n=new Ft(this._stepper).type(this._element.MorphArray).to(s);return this.queue(function(){n.from(this._element.array())},function(r){return this._element.plot(n.at(r)),n.done()}),this._rememberMorpher("plot",n),this},leading(s){return this._queueNumber("leading",s)},viewbox(s,t,e,i){return this._queueObject("viewbox",new at(s,t,e,i))},update(s){return typeof s!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(s.opacity!=null&&this.attr("stop-opacity",s.opacity),s.color!=null&&this.attr("stop-color",s.color),s.offset!=null&&this.attr("offset",s.offset),this)}});q(wt,{rx:bs,ry:vs,from:Li,to:qi});B(wt,"Runner");class Cs extends mt{constructor(t,e=t){super(K("svg",t),e),this.namespace()}defs(){return this.isRoot()?St(this.node.querySelector("defs"))||this.put(new xs):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof F.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:ds,version:"1.1"}).attr("xmlns:xlink",ce,Xe):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Xe).attr("xmlns:svgjs",null,Xe)}root(){return this.isRoot()?this:super.root()}}j({Container:{nested:Z(function(){return this.put(new Cs)})}});B(Cs,"Svg",!0);let Ts=class extends mt{constructor(t,e=t){super(K("symbol",t),e)}};j({Container:{symbol:Z(function(){return this.put(new Ts)})}});B(Ts,"Symbol");function Nh(s){return this._build===!1&&this.clear(),this.node.appendChild(F.document.createTextNode(s)),this}function Oh(){return this.node.getComputedTextLength()}function kh(s,t=this.bbox()){return s==null?t.x:this.attr("x",this.attr("x")+s-t.x)}function zh(s,t=this.bbox()){return s==null?t.y:this.attr("y",this.attr("y")+s-t.y)}function Mh(s,t,e=this.bbox()){return this.x(s,e).y(t,e)}function Ih(s,t=this.bbox()){return s==null?t.cx:this.attr("x",this.attr("x")+s-t.cx)}function $h(s,t=this.bbox()){return s==null?t.cy:this.attr("y",this.attr("y")+s-t.cy)}function jh(s,t,e=this.bbox()){return this.cx(s,e).cy(t,e)}function Dh(s){return this.attr("x",s)}function Lh(s){return this.attr("y",s)}function qh(s,t){return this.ax(s).ay(t)}function Ph(s){return this._build=!!s,this}const Ui=Object.freeze(Object.defineProperty({__proto__:null,amove:qh,ax:Dh,ay:Lh,build:Ph,center:jh,cx:Ih,cy:$h,length:Oh,move:Mh,plain:Nh,x:kh,y:zh},Symbol.toStringTag,{value:"Module"}));class Ct extends xt{constructor(t,e=t){super(K("text",t),e),this.dom.leading=this.dom.leading??new $(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new $(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const e=this;let i=0;const n=this.dom.leading;this.each(function(r){if(ns(this.node))return;const f=F.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=n*new $(f);this.dom.newLined&&(this.attr("x",e.attr("x")),this.text()===`
`?i+=o:(this.attr("dy",r?o+i:0),i=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new $(t.leading||1.3),this}writeDataToDom(){return vi(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const e=this.node.childNodes;let i=0;t="";for(let n=0,r=e.length;n<r;++n){if(e[n].nodeName==="textPath"||ns(e[n])){n===0&&(i=n+1);continue}n!==i&&e[n].nodeType!==3&&St(e[n]).dom.newLined===!0&&(t+=`
`),t+=e[n].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let e=0,i=t.length;e<i;e++)this.newLine(t[e])}return this.build(!1).rebuild()}}q(Ct,Ui);j({Container:{text:Z(function(s=""){return this.put(new Ct).text(s)}),plain:Z(function(s=""){return this.put(new Ct).plain(s)})}});B(Ct,"Text");class je extends xt{constructor(t,e=t){super(K("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Ct))return this;const e=t.index(this),i=F.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=t.dom.leading*new $(i);return this.dy(e?n:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}q(je,Ui);j({Tspan:{tspan:Z(function(s=""){const t=new je;return this._build||this.clear(),this.put(t).text(s)})},Text:{newLine:function(s=""){return this.tspan(s).newLine()}}});B(je,"Tspan");class Es extends xt{constructor(t,e=t){super(K("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new $(t).divide(2))}}q(Es,{x:ki,y:zi,cx:Mi,cy:Ii,width:$i,height:ji});j({Container:{circle:Z(function(s=0){return this.put(new Es).size(s).move(0,0)})}});B(Es,"Circle");class ls extends mt{constructor(t,e=t){super(K("clipPath",t),e)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return se("svg [clip-path*="+this.id()+"]")}}j({Container:{clip:Z(function(){return this.defs().put(new ls)})},Element:{clipper(){return this.reference("clip-path")},clipWith(s){const t=s instanceof ls?s:this.parent().clip().add(s);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});B(ls,"ClipPath");class Gi extends Tt{constructor(t,e=t){super(K("foreignObject",t),e)}}j({Container:{foreignObject:Z(function(s,t){return this.put(new Gi).size(s,t)})}});B(Gi,"ForeignObject");function Jh(s,t){return this.children().forEach(e=>{let i;try{i=e.node instanceof Un().SVGSVGElement?new at(e.attr(["x","y","width","height"])):e.bbox()}catch{return}const n=new N(e),r=n.translate(s,t).transform(n.inverse()),f=new V(i.x,i.y).transform(r);e.move(f.x,f.y)}),this}function Fh(s){return this.dmove(s,0)}function Bh(s){return this.dmove(0,s)}function Hh(s,t=this.bbox()){return s==null?t.height:this.size(t.width,s,t)}function Uh(s=0,t=0,e=this.bbox()){const i=s-e.x,n=t-e.y;return this.dmove(i,n)}function Gh(s,t,e=this.bbox()){const i=ee(this,s,t,e),n=i.width/e.width,r=i.height/e.height;return this.children().forEach(f=>{const o=new V(e).transform(new N(f).inverse());f.scale(n,r,o.x,o.y)}),this}function Yh(s,t=this.bbox()){return s==null?t.width:this.size(s,t.height,t)}function Wh(s,t=this.bbox()){return s==null?t.x:this.move(s,t.y,t)}function Vh(s,t=this.bbox()){return s==null?t.y:this.move(t.x,s,t)}const Yi=Object.freeze(Object.defineProperty({__proto__:null,dmove:Jh,dx:Fh,dy:Bh,height:Hh,move:Uh,size:Gh,width:Yh,x:Wh,y:Vh},Symbol.toStringTag,{value:"Module"}));class Ns extends mt{constructor(t,e=t){super(K("g",t),e)}}q(Ns,Yi);j({Container:{group:Z(function(){return this.put(new Ns)})}});B(Ns,"G");class Oe extends mt{constructor(t,e=t){super(K("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,ce)}}q(Oe,Yi);j({Container:{link:Z(function(s){return this.put(new Oe).to(s)})},Element:{unlink(){const s=this.linker();if(!s)return this;const t=s.parent();if(!t)return this.remove();const e=t.index(s);return t.add(this,e),s.remove(),this},linkTo(s){let t=this.linker();return t||(t=new Oe,this.wrap(t)),typeof s=="function"?s.call(t,t):t.to(s),this},linker(){const s=this.parent();return s&&s.node.nodeName.toLowerCase()==="a"?s:null}}});B(Oe,"A");class cs extends mt{constructor(t,e=t){super(K("mask",t),e)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return se("svg [mask*="+this.id()+"]")}}j({Container:{mask:Z(function(){return this.defs().put(new cs)})},Element:{masker(){return this.reference("mask")},maskWith(s){const t=s instanceof cs?s:this.parent().mask().add(s);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});B(cs,"Mask");class Wi extends Tt{constructor(t,e=t){super(K("stop",t),e)}update(t){return(typeof t=="number"||t instanceof $)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new $(t.offset)),this}}j({Gradient:{stop:function(s,t,e){return this.put(new Wi).update(s,t,e)}}});B(Wi,"Stop");function Xh(s,t){if(!s)return"";if(!t)return s;let e=s+"{";for(const i in t)e+=Fn(i)+":"+t[i]+";";return e+="}",e}class _s extends Tt{constructor(t,e=t){super(K("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,i={}){return this.rule("@font-face",{fontFamily:t,src:e,...i})}rule(t,e){return this.addText(Xh(t,e))}}j("Dom",{style(s,t){return this.put(new _s).rule(s,t)},fontface(s,t,e){return this.put(new _s).font(s,t,e)}});B(_s,"Style");class Os extends Ct{constructor(t,e=t){super(K("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let i=null;return e&&(i=e.plot(t)),t==null?i:this}track(){return this.reference("href")}}j({Container:{textPath:Z(function(s,t){return s instanceof Ct||(s=this.text(s)),s.path(t)})},Text:{path:Z(function(s,t=!0){const e=new Os;s instanceof ie||(s=this.defs().path(s)),e.attr("href","#"+s,ce);let i;if(t)for(;i=this.node.firstChild;)e.node.appendChild(i);return this.put(e)}),textPath(){return this.findOne("textPath")}},Path:{text:Z(function(s){return s instanceof Ct||(s=new Ct().addTo(this.parent()).text(s)),s.path(this)}),targets(){return se("svg textPath").filter(s=>(s.attr("href")||"").includes(this.id()))}}});Os.prototype.MorphArray=Gt;B(Os,"TextPath");class Vi extends xt{constructor(t,e=t){super(K("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,ce)}}j({Container:{use:Z(function(s,t){return this.put(new Vi).use(s,t)})}});B(Vi,"Use");const Qh=dt;q([Cs,Ts,Ie,ae,Te],gt("viewbox"));q([ue,me,ge,ie],gt("marker"));q(Ct,gt("Text"));q(ie,gt("Path"));q(xs,gt("Defs"));q([Ct,je],gt("Tspan"));q([$e,Me,pe,wt],gt("radius"));q(_e,gt("EventTarget"));q(Dt,gt("Dom"));q(Tt,gt("Element"));q(xt,gt("Shape"));q([mt,Di],gt("Container"));q(pe,gt("Gradient"));q(wt,gt("Runner"));Ut.extend(Pn());mh([$,W,at,N,te,Lt,Gt,V]);yh();const Zh=`
svg {
  background-color: #fff;
}

.root text,
.root tspan {
  font: 12px Arial;
}

.root path {
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #000;
}

.root circle {
  fill: #6b6659;
  stroke-width: 2px;
  stroke: #000;
}

.anchor text,
.any-character text {
  fill: #fff;
}

.anchor rect,
.any-character rect {
  fill: #6b6659;
}

.escape text,
.charset-escape text,
.literal text {
  fill: #000;
}

.escape rect,
.charset-escape rect {
  fill: #bada55;
}

.literal rect {
  fill: #dae9e5;
}

.charset .charset-box {
  fill: #cbcbba;
}

.subexp .subexp-label tspan,
.charset .charset-label tspan,
.match-fragment .repeat-label tspan {
  font-size: 10px;
}

.repeat-label {
  cursor: help;
}

.subexp .subexp-label tspan,
.charset .charset-label tspan {
  dominant-baseline: text-after-edge;
}

.subexp .subexp-box {
  stroke: #bfbfbf;
  stroke-dasharray: 6, 2;
  stroke-width: 2px;
  fill-opacity: 0;
}

.quote {
  fill: #8c8c8c;
}
`.trim();function Xi(s){const t=s.bbox(),e=s.matrix();return t.transform(e)}function Kh(s){return new Promise(t=>{setTimeout(t,s)})}function tf(){return Kh(0)}function Bt(s){const t=s;return t.ax==null&&(t.ax=s.x),t.ax2==null&&(t.ax2=s.x2),t.ay==null&&(t.ay=s.cy),t}function Qi(s,t){const e=s.map(n=>({bbox:Bt(n.bbox()),node:n})),i=e.reduce((n,{bbox:r})=>Math.max(n,r.ay),0);e.reduce((n,{node:r,bbox:f})=>(r.translate(n,i-f.ay),n+t+f.width),0)}function Zi(s,t){const e=s.map(n=>({bbox:n.bbox(),node:n})),i=e.reduce((n,{bbox:r})=>Math.max(n,r.cx),0);e.reduce((n,{node:r,bbox:f})=>(r.translate(i-f.cx,n),n+t+f.height),0)}var he=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};class yt{constructor(t,e){this.metadata=t,this.state=e instanceof yt?e.state:e}get type(){return this.metadata.type}get text(){return this.metadata.text}get offset(){return this.metadata.offset}get elements(){return this.metadata.elements}get anchor(){return{}}getAnchor(){return this.proxy?this.proxy.getAnchor():this.anchor}bbox(){const t=Xi(this.container),e=this.getAnchor();return Object.assign(Bt(t),e)}translate(t,e){return this.container.translate(t,e)}defer(t){return he(this,void 0,void 0,function*(){if(yield tf(),this.state.cancelRender)throw new Error("Render cancelled");return t})}render(t){return he(this,void 0,void 0,function*(){return t&&(this.container=t,this.container.addClass(this.type)),this.proxy?this.proxy.render(this.container):(this.state.inc(),yield this.renderNode(),this.state.dec(),this)})}renderNode(){return he(this,void 0,void 0,function*(){})}renderLabel(t,e={}){return he(this,void 0,void 0,function*(){const i=this.container.group().addClass("label"),n=i.rect(),r=this.renderText(i,t);e.className&&i.addClass(e.className),yield this.defer();const f=r.bbox(),o=5;return r.translate(o,f.height/2+2*o),n.attr({width:f.width+2*o,height:f.height+2*o}),e.round&&n.attr({rx:e.round,ry:e.round}),i})}renderLabeledBox(t,e,i=0){return he(this,void 0,void 0,function*(){const n=this.renderText(this.container,t),r=this.container.rect().attr({rx:3,ry:3});n.addClass(`${this.type}-label`).back(),r.addClass(`${this.type}-box`).back(),yield this.defer();const f=n.bbox(),o=e.bbox(),l=Math.max(o.width+i*2,f.width),c=o.height+i*2;n.translate(0,f.height),r.translate(0,f.height).attr({width:l,height:c}),e.translate(l/2-o.cx,f.height+i)})}renderText(t,e){const i=Array.isArray(e)?e:[e];return t.text(n=>{i.forEach(r=>n.tspan(r))})}}var ef=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};class sf extends yt{constructor(){super(...arguments),this.label=this.text==="^"?"Start of line":"End of line"}renderNode(){return ef(this,void 0,void 0,function*(){yield this.renderLabel(this.label,{className:this.type,round:3})})}}var nf=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};class rf extends yt{constructor(){super(...arguments),this.label="any character"}renderNode(){return nf(this,void 0,void 0,function*(){yield this.renderLabel(this.label,{round:3})})}}function hf(s){let t=s.toString(16).toUpperCase();return t.length<2&&(t=`0${t}`),`(0x${t})`}const Ki={b:["word boundary",-1,!1],B:["non-word boundary",-1,!1],d:["digit",-1,!1],D:["non-digit",-1,!1],f:["form feed",12,!0],n:["line feed",10,!0],r:["carriage return",13,!0],s:["white space",-1,!1],S:["non-white space",-1,!1],t:["tab",9,!0],v:["vertical tab",11,!0],w:["word",-1,!1],W:["non-word",-1,!1],1:["Back reference (group = 1)",-1,!1],2:["Back reference (group = 2)",-1,!1],3:["Back reference (group = 3)",-1,!1],4:["Back reference (group = 4)",-1,!1],5:["Back reference (group = 5)",-1,!1],6:["Back reference (group = 6)",-1,!1],7:["Back reference (group = 7)",-1,!1],8:["Back reference (group = 8)",-1,!1],9:["Back reference (group = 9)",-1,!1],0(s){return s?[`octal: ${s}`,parseInt(s,8),!0]:["null",0,!0]},c(s){return[`ctrl-${s.toUpperCase()}`,s.toUpperCase().charCodeAt(0)-64,!0]},x(s){return[`0x${s.toUpperCase()}`,parseInt(s,16),!1]},u(s){return[`U+${s.toUpperCase()}`,parseInt(s,16),!1]}};function ff(s,t,e){const i=s[t];return typeof i=="function"?i(e):i}var of=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};class tn extends yt{constructor(t,e){super(t,e),this.mapping=Ki;const i=t.esc;this.code=i.code.text,this.arg=i.arg.text;const n=ff(this.mapping,this.code,this.arg);this.label=n[0],this.ordinal=n[1],n[2]&&(this.label=`${this.label} ${hf(this.ordinal)}`)}renderNode(){return of(this,void 0,void 0,function*(){yield this.renderLabel(this.label,{round:3})})}}class af extends tn{constructor(){super(...arguments),this.mapping=Object.assign(Object.assign({},Ki),{b:["backspace",8,!0]})}}var uf=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};class ke extends yt{constructor(t,e){super(t,e);const i=t.literal;this.label=i.text,this.order=this.label.charCodeAt(0)}renderNode(){return uf(this,void 0,void 0,function*(){const t=["",this.label,""],i=(yield this.renderLabel(t,{round:3})).find("tspan");i[0].addClass("quote"),i[2].addClass("quote")})}merge(t){this.label+=t.label}}var lf=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};class cf extends yt{constructor(t,e){if(super(t,e),this.first=new ke(t.first,this),this.last=new ke(t.last,this),this.first.order>this.last.order)throw new Error(`Range out of order in character class: ${this.text}`)}renderNode(){return lf(this,void 0,void 0,function*(){const t=[this.first,this.container.text("-"),this.last];yield Promise.all([this.first.render(this.container.group()),this.last.render(this.container.group())]),Qi(t,5)})}}var _f=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};class pf extends yt{constructor(t,e){super(t,e);const i=t.parts,n=t.invert;this.label=n.text==="^"?"None of:":"One of:";const r=[],f=[];i.elements.forEach(o=>{const l=`${o.type}:${o.text}`;r.includes(l)||(r.push(l),f.push(o))}),this.parts=f.map(o=>this.createPartNode(o)),this.text.match(/\\c[^a-zA-Z]/)&&this.state.warnings.push(`The character set "${this.text}" contains the \\c escape followed by a character other than A-Z. This can lead to different behavior depending on browser. The representation here is the most common interpretation.`)}get anchor(){const t=this.container.matrix(),e=Xi(this.partContainer);return{ay:new V(0,e.cy).transform(t).y}}createPartNode(t){const e=t.type,i=e==="charset-range"?cf:e==="charset-escape"?af:e==="literal"?ke:null;if(i)return new i(t,this);throw new Error(`Unknown node type: "${e}"`)}renderNode(){return _f(this,void 0,void 0,function*(){this.partContainer=this.container.group(),yield Promise.all(this.parts.map(t=>t.render(this.partContainer.group()))),Zi(this.parts,5),yield this.renderLabeledBox(this.label,this.partContainer,5)})}}function Xt(s){return s===1?"once":`${s} times`}class df extends yt{constructor(t,e){super(t,e);const i=t.spec,n=t.greedy,{min:r,max:f}=i?i.specific():{min:-1,max:-2};this.greedy=n==null||n.text==="",this.hasSkip=r===0,this.hasLoop=f===-1||f>1,this.min=r,this.max=f}getContentOffset(){return this.hasSkip?{x:15,y:10}:this.hasLoop?{x:10,y:0}:{x:0,y:0}}getLabel(){const t=this.min,e=this.max;if(t===e)return t===0?void 0:Xt(t-1);if(t<=1&&e>=2)return`at most ${Xt(e-1)}`;if(t>=2)return e===-1?`${t-1}+ times`:`${t-1}${Xt(e-1)}`}getTooltip(){const t=this.min,e=this.max;let i;return t===e?t===0?i=void 0:i=Xt(t):t<=1&&e>=2?i=`at most ${Xt(e)}`:t>=2&&(e===-1?i=`${t}+ times`:i=`${t}${Xt(e)}`),i&&`repeats ${i} in total`}skipPath(t){const e=[];if(this.hasSkip){const i=Math.max(0,t.ay-t.y-10),n=t.width-10;e.push(`M0,${t.ay}q10,0 10,-10v${-i}q0,-10 10,-10h${n}q10,0 10,10v${i}q0,10 10,10`),this.greedy||e.push(`M10,${t.ay-15}l5,5m-5,-5l-5,5`)}return e}loopPath(t){const e=[];if(this.hasLoop){const i=t.y2-t.ay-10;e.push(`M${t.x},${t.ay}q-10,0 -10,10v${i}q0,10 10,10h${t.width}q10,0 10,-10v${-i}q0,-10 -10,-10`),this.greedy&&e.push(`M${t.x2+10},${t.ay+15}l5,-5m-5,5l-5,-5`)}return e}}var gf=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};const mf={"?:":"","?=":"positive lookahead","?!":"negative lookahead"};class yf extends yt{constructor(t,e){super(t,e),this.capture=t.capture,this.regexp=new en(t.regexp,this),this.capture.text==="?:"&&(this.proxy=this.regexp)}get anchor(){const t=this.regexp.bbox(),e=this.container.matrix(),i=new V(t.ax,t.ay).transform(e),n=new V(t.ax2,t.ay).transform(e);return{ax:i.x,ax2:n.x,ay:i.y}}renderNode(){return gf(this,void 0,void 0,function*(){const t=this.label();yield this.regexp.render(this.container.group()),yield this.renderLabeledBox(t,this.regexp,10)})}label(){const t=mf[this.capture.text];return t||(this.state.groupCounter+=1,`group #${this.state.groupCounter}`)}}var wf=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};class xf extends yt{constructor(t,e){super(t,e),this.content=this.createContentNode(),this.repeat=new df(t.repeat,this),!this.repeat.hasLoop&&!this.repeat.hasSkip?(this.canMerge=this.content.type==="literal",this.proxy=this.content):this.canMerge=!1}createContentNode(){const t=this.metadata.content,e=t.type,i=e==="anchor"?sf:e==="subexp"?yf:e==="charset"?pf:e==="any-character"?rf:e==="escape"?tn:e==="literal"?ke:null;if(i)return new i(t,this);throw new Error(`Unknow match fragment type: "${e}"`)}get anchor(){const t=this.content.bbox(),e=this.container.matrix(),i=new V(t.ax,t.ay).transform(e),n=new V(t.ax2,t.ay).transform(e);return{ax:i.x,ax2:n.x,ay:i.y}}renderNode(){return wf(this,void 0,void 0,function*(){yield this.content.render(this.container.group());const{x:t,y:e}=this.repeat.getContentOffset();this.content.translate(t,e);const i=this.content.bbox(),n=[...this.repeat.skipPath(i),...this.repeat.loopPath(i)];this.container.path(n.join("")).back(),this.renderLoopLabel()})}renderLoopLabel(){const t=this.repeat.getLabel(),e=this.repeat.getTooltip();if(t){const i=this.container.text(t).addClass("repeat-label"),n=i.bbox(),r=this.bbox();if(e){const f=Kt("title");this.container.text(e).addTo(f),i.add(f)}i.translate(r.x2-n.width-(this.repeat.hasSkip?5:0),r.y2+n.height)}}}var bf=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};class vf extends yt{constructor(t,e){super(t,e);const i=this.metadata.parts;this.fragments=[];const n=this.fragments;i.elements.forEach(r=>{const f=n[n.length-1],o=new xf(r,this);f&&f.canMerge&&o.canMerge?f.content.merge(o.content):n.push(o)}),n.length===1&&(this.proxy=n[0])}get anchor(){const t=Bt(this.start.bbox()),e=Bt(this.end.bbox()),i=this.container.matrix(),n=new V(t.ax,t.ay).transform(i),r=new V(e.ax2,e.ay).transform(i);return{ax:n.x,ax2:r.x,ay:n.y}}renderNode(){return bf(this,void 0,void 0,function*(){const t=this.fragments.map(e=>e.render(this.container.group()));return t.length===0&&t.push(this.container.group().path("M0,0h10")),Promise.all(t).then(e=>{this.start=e[0],this.end=e[e.length-1],Qi(e,10),this.container.path(this.connectorPaths(e).join("")).back()})})}connectorPaths(t){let e=Bt(t[0].bbox()),i;return t.slice(1).map(n=>{i=Bt(n.bbox());const r=`M${e.ax2},${e.ay}H${i.ax}`;return e=i,r})}}var Sf=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};class en extends yt{constructor(t,e){super(t,e);const i=this.metadata.alternates;this.matches=[this.metadata.match].concat(i.elements.map(n=>n.match)).map(n=>new vf(n,this)),this.proxy=i.elements.length===0?this.matches[0]:null}renderNode(){return Sf(this,void 0,void 0,function*(){const t=this.container.group().addClass(`${this.type}-matches`).translate(20,0),e=this.matches;yield Promise.all(e.map(f=>f.render(t.group()))),Zi(e,5);let i=this.bbox();const n=[];e.forEach(f=>n.push(...this.makeCurve(i,f))),n.push(...this.makeSide(i,e[0])),n.push(...this.makeSide(i,e[e.length-1])),this.container.path(n.join("")).back(),i=Bt(t.bbox());const r=e.map(f=>this.makeConnector(i,f));t.path(r.join("")).back()})}makeSide(t,e){const i=e.bbox();if(Math.abs(i.ay-t.cy)>=15){const r=i.ay>t.cy?10:-10,f=i.ay-r;return[`M0,${t.cy}q10,0 10,${r}V${f}`,`M${t.width+40},${t.cy}q-10,0 -10,${r}V${f}`]}}makeCurve(t,e){const i=e.bbox();if(Math.abs(i.ay-t.cy)>=15){const f=i.ay>t.cy?10:-10;return[`M10,${i.ay-f}q0,${f} 10,${f}`,`M${t.width+30},${i.ay-f}q0,${f} -10,${f}`]}const r=i.ay-t.cy;return[`M0,${t.cy}c10,0 10,${r} 20,${r}`,`M${t.width+40},${t.cy}c-10,0 -10,${r} -20,${r}`]}makeConnector(t,e){const i=e.bbox();return`M0,${i.ay}h${i.ax}M${i.ax2},${i.ay}H${t.width}`}}var Rf=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};const Af={i:"Ignore Case",g:"Global",m:"Multiline",y:"Sticky",u:"Unicode"};class Cf extends yt{constructor(t,e){super(t,e),this.regexp=new en(this.metadata.regexp,this)}get flags(){return this.metadata.flags}renderNode(){return Rf(this,void 0,void 0,function*(){const t=[];this.flags.text.split("").forEach(f=>{t.includes(f)||t.push(f)});const e=t.sort().map(f=>Af[f]);let i;e.length>0&&(i=this.container.text(`Flags: ${e.join(", ")}`)),yield this.regexp.render(this.container.group()),i?this.regexp.translate(10,i.bbox().height):this.regexp.translate(10,0);const n=this.regexp.bbox(),r=10;this.container.path(`M${n.ax},${n.ay}H0M${n.ax2},${n.ay}H${n.x2+10}`),this.container.circle(10).center(0,n.ay),this.container.circle(10).center(n.x2+r,n.ay)})}}class Tf{constructor(t={}){this.groupCounter=0,this.cancelRender=!1,this.warnings=[],this.renderCounter=0,this.maxCounter=0,this.options=t}update(t){if(t>this.renderCounter&&(this.maxCounter=t),this.renderCounter=t,this.maxCounter&&!this.cancelRender){const e=this.options.onChange;if(e){const i=100-Math.round(100*this.renderCounter/this.maxCounter);e({progress:i})}}}inc(){this.update(this.renderCounter+1)}dec(){this.update(this.renderCounter-1)}}const Ef={specific(){return{min:0,max:-1}}},Nf={specific(){return{min:0,max:1}}},Of={specific(){return{min:1,max:-1}}},kf={specific(){const s=this.min?+this.min.text:this.exact?+this.exact.text:0,t=this.max?+this.max.text:this.exact?+this.exact.text:-1;if(s>t&&t!==-1)throw new Error(`Numbers out of order: ${this.text}`);return{min:s,max:t}}};function zf(){return{Root:{type:"root"},Regexp:{type:"regexp"},Match:{type:"match"},MatchFragment:{type:"match-fragment"},Repeat:{type:"repeat"},RepeatSpec:kf,RepeatAny:Ef,RepeatOptional:Nf,RepeatRequired:Of,Anchor:{type:"anchor"},Subexp:{type:"subexp"},Charset:{type:"charset"},CharsetRange:{type:"charset-range"},CharsetEscape:{type:"charset-escape"},Escape:{type:"escape"},Literal:{type:"literal"},AnyCharacter:{type:"any-character"}}}var Mf=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(u){try{c(i.next(u))}catch(d){f(d)}}function l(u){try{c(i.throw(u))}catch(d){f(d)}}function c(u){u.done?r(u.value):n(u.value).then(o,l)}c((i=i.apply(s,t||[])).next())})};function If(s,t,e={}){return Mf(this,void 0,void 0,function*(){const i=new Tf(e),n=zf(),r=typeof s=="string"?s:s.toString(),f=qn.parse(r,{types:n}),o=new Cf(f,i),l=Qh(t);l.defs().style().add(document.createTextNode(Zh)),yield o.render(l.group());const c=o.bbox();return o.translate(10-c.x,10-c.y),l.size(c.width+20,c.height+20),o})}function $f(s,t,e){let i=-1;const n=new RegExp(s,e),r=[];let f=n.exec(t);for(;f!==null&&!(n.lastIndex===i||f[0]==="");){const o=f.indices,l=[];Object.entries(f).forEach(([u,d])=>{u!=="0"&&u.match(/\d+/)&&l.push({name:u,value:d,start:o[Number(u)][0],end:o[Number(u)][1]})});const c=[];Object.entries(f.groups||{}).forEach(([u,d])=>{c.push({name:u,value:d,start:o.groups[u][0],end:o.groups[u][1]})}),r.push({index:f.index,value:f[0],captures:l,groups:c}),i=n.lastIndex,f=n.exec(t)}return r}const jf={"max-w-600px":""},Df={style:{"white-space":"pre-wrap","word-break":"break-all"}},Wf=di({__name:"regex-tester",setup(s){const t=wn({name:"regex",storageName:"regex-tester:regex",defaultValue:""}),e=It(""),i=It(!0),n=It(!1),r=It(!1),f=It(!0),o=It(!0),l=It(!1),c=It(),u=_n({source:t,rules:[{message:"Invalid regex: {0}",validator:T=>new RegExp(T),getErrorMessage:T=>""}]}),d=es(()=>{let T="d";i.value&&(T+="g"),n.value&&(T+="i"),r.value&&(T+="m"),f.value&&(T+="s"),o.value?T+="u":l.value&&(T+="v");try{return $f(t.value,e.value,T)}catch{return[]}}),z=es(()=>{try{return new jn(new RegExp(t.value.replace(/\(\?\<[^\>]*\>/g,"(?:"))).gen()}catch{return""}});return pn(async()=>{const T=t.value,b=c.value?.shadow_root;if(b){for(;b.lastChild;)b.removeChild(b.lastChild);const D=document.createElementNS("http://www.w3.org/2000/svg","svg");try{await If(T,D)}catch{}b.appendChild(D)}}),(T,b)=>{const D=dn,M=Ks("router-link"),P=vn,H=Nn,X=Rn,tt=gn,ht=Sn,nt=mn,Et=Ks("shadow-root");return Nt(),Pt("div",jf,[lt(tt,{title:"Regex","mb-1":""},{default:_t(()=>[lt(D,{value:vt(t),"onUpdate:value":b[0]||(b[0]=Y=>$t(t)?t.value=Y:null),label:"Regex to test:",placeholder:"Put the regex to test",multiline:"",rows:"3",validation:vt(u)},null,8,["value","validation"]),lt(M,{target:"_blank",to:"/regex-memo","mb-1":"","mt-1":""},{default:_t(()=>[...b[8]||(b[8]=[pt(" See Regular Expression Cheatsheet ",-1)])]),_:1}),lt(H,null,{default:_t(()=>[lt(P,{checked:vt(i),"onUpdate:checked":b[1]||(b[1]=Y=>$t(i)?i.value=Y:null)},{default:_t(()=>[...b[9]||(b[9]=[Q("span",{title:"Global search"},[pt("Global search. ("),Q("code",null,"g"),pt(")")],-1)])]),_:1},8,["checked"]),lt(P,{checked:vt(n),"onUpdate:checked":b[2]||(b[2]=Y=>$t(n)?n.value=Y:null)},{default:_t(()=>[...b[10]||(b[10]=[Q("span",{title:"Case-insensitive search"},[pt("Case-insensitive search. ("),Q("code",null,"i"),pt(")")],-1)])]),_:1},8,["checked"]),lt(P,{checked:vt(r),"onUpdate:checked":b[3]||(b[3]=Y=>$t(r)?r.value=Y:null)},{default:_t(()=>[...b[11]||(b[11]=[Q("span",{title:"Allows ^ and $ to match next to newline characters."},[pt("Multiline("),Q("code",null,"m"),pt(")")],-1)])]),_:1},8,["checked"]),lt(P,{checked:vt(f),"onUpdate:checked":b[4]||(b[4]=Y=>$t(f)?f.value=Y:null)},{default:_t(()=>[...b[12]||(b[12]=[Q("span",{title:"Allows . to match newline characters."},[pt("Singleline("),Q("code",null,"s"),pt(")")],-1)])]),_:1},8,["checked"]),lt(P,{checked:vt(o),"onUpdate:checked":b[5]||(b[5]=Y=>$t(o)?o.value=Y:null)},{default:_t(()=>[...b[13]||(b[13]=[Q("span",{title:"Unicode; treat a pattern as a sequence of Unicode code points."},[pt("Unicode("),Q("code",null,"u"),pt(")")],-1)])]),_:1},8,["checked"]),lt(P,{checked:vt(l),"onUpdate:checked":b[6]||(b[6]=Y=>$t(l)?l.value=Y:null)},{default:_t(()=>[...b[14]||(b[14]=[Q("span",{title:"An upgrade to the u mode with more Unicode features."},[pt("Unicode Sets ("),Q("code",null,"v"),pt(")")],-1)])]),_:1},8,["checked"])]),_:1}),lt(X),lt(D,{value:vt(e),"onUpdate:value":b[7]||(b[7]=Y=>$t(e)?e.value=Y:null),label:"Text to match:",placeholder:"Put the text to match",multiline:"",rows:"5"},null,8,["value"])]),_:1}),lt(tt,{title:"Matches","mb-1":"","mt-3":""},{default:_t(()=>[vt(d)?.length>0?(Nt(),ti(ht,{key:0},{default:_t(()=>[b[15]||(b[15]=Q("thead",null,[Q("tr",null,[Q("th",{scope:"col"}," Index in text "),Q("th",{scope:"col"}," Value "),Q("th",{scope:"col"}," Captures "),Q("th",{scope:"col"}," Groups ")])],-1)),Q("tbody",null,[(Nt(!0),Pt(Je,null,Fe(vt(d),Y=>(Nt(),Pt("tr",{key:Y.index},[Q("td",null,At(Y.index),1),Q("td",null,At(Y.value),1),Q("td",null,[Q("ul",null,[(Nt(!0),Pt(Je,null,Fe(Y.captures,ut=>(Nt(),Pt("li",{key:ut.name},' "'+At(ut.name)+'" = '+At(ut.value)+" ["+At(ut.start)+" - "+At(ut.end)+"] ",1))),128))])]),Q("td",null,[Q("ul",null,[(Nt(!0),Pt(Je,null,Fe(Y.groups,ut=>(Nt(),Pt("li",{key:ut.name},' "'+At(ut.name)+'" = '+At(ut.value)+" ["+At(ut.start)+" - "+At(ut.end)+"] ",1))),128))])])]))),128))])]),_:1})):(Nt(),ti(nt,{key:1},{default:_t(()=>[...b[16]||(b[16]=[pt(" No match ",-1)])]),_:1}))]),_:1}),lt(tt,{title:"Sample matching text","mt-3":""},{default:_t(()=>[Q("pre",Df,At(vt(z)),1)]),_:1}),lt(tt,{title:"Regex Diagram",style:{"overflow-x":"scroll"},"mt-3":""},{default:_t(()=>[lt(Et,{ref_key:"visualizerSVG",ref:c},{default:_t(()=>[...b[17]||(b[17]=[pt("  ",-1)])]),_:1},512)]),_:1})])}}});export{Wf as default};
