import{d as x,f as p,o as m,g as l,C as N,b as E,m as w,S as V,j as g,y as C,x as P,w as v,F as A,h as $,t as F,c as B,i as I,aZ as j,k as M}from"./index-Br2O5Rg4.js";import{w as S}from"./defaults-CMtlFFSf.js";import{i as z}from"./boolean-ByBdOQql.js";import{_ as R}from"./SpanCopyable.vue_vue_type_script_setup_true_lang-BKpj0UPN.js";import{_ as D}from"./Table-BLwHXgDC.js";const O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},T=l("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("path",{d:"M5 12h14"}),l("path",{d:"M5 12l6 6"}),l("path",{d:"M5 12l6-6"})],-1),q=[T],U=x({name:"ArrowLeft",render:function(i,f){return m(),p("svg",O,q)}}),W={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},X=l("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("path",{d:"M5 12h14"}),l("path",{d:"M13 18l6-6"}),l("path",{d:"M13 6l6 6"})],-1),Z=[X],G=x({name:"ArrowRight",render:function(i,f){return m(),p("svg",W,Z)}});var k={},L;function H(){return L||(L=1,(function(){var c,i,f,d,_,b,h,n;n=function(e){var t,s,r,o;return t=(e&255<<24)>>>24,s=(e&255<<16)>>>16,r=(e&65280)>>>8,o=e&255,[t,s,r,o].join(".")},h=function(e){var t,s,r,o,a,u;for(t=[],r=o=0;o<=3&&e.length!==0;r=++o){if(r>0){if(e[0]!==".")throw new Error("Invalid IP");e=e.substring(1)}u=i(e),a=u[0],s=u[1],e=e.substring(s),t.push(a)}if(e.length!==0)throw new Error("Invalid IP");switch(t.length){case 1:if(t[0]>4294967295)throw new Error("Invalid IP");return t[0]>>>0;case 2:if(t[0]>255||t[1]>16777215)throw new Error("Invalid IP");return(t[0]<<24|t[1])>>>0;case 3:if(t[0]>255||t[1]>255||t[2]>65535)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2])>>>0;case 4:if(t[0]>255||t[1]>255||t[2]>255||t[3]>255)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2]<<8|t[3])>>>0;default:throw new Error("Invalid IP")}},f=function(e){return e.charCodeAt(0)},d=f("0"),b=f("a"),_=f("A"),i=function(e){var t,s,r,o,a;for(o=0,t=10,s="9",r=0,e.length>1&&e[r]==="0"&&(e[r+1]==="x"||e[r+1]==="X"?(r+=2,t=16):"0"<=e[r+1]&&e[r+1]<="9"&&(r++,t=8,s="7")),a=r;r<e.length;){if("0"<=e[r]&&e[r]<=s)o=o*t+(f(e[r])-d)>>>0;else if(t===16)if("a"<=e[r]&&e[r]<="f")o=o*t+(10+f(e[r])-b)>>>0;else if("A"<=e[r]&&e[r]<="F")o=o*t+(10+f(e[r])-_)>>>0;else break;else break;if(o>4294967295)throw new Error("too large");r++}if(r===a)throw new Error("empty octet");return[o,r]},c=(function(){function e(t,s){var r,o,a;if(typeof t!="string")throw new Error("Missing `net' parameter");if(s||(a=t.split("/",2),t=a[0],s=a[1]),s||(s=32),typeof s=="string"&&s.indexOf(".")>-1){try{this.maskLong=h(s)}catch{throw new Error("Invalid mask: "+s)}for(r=o=32;o>=0;r=--o)if(this.maskLong===4294967295<<32-r>>>0){this.bitmask=r;break}}else if(s||s===0)this.bitmask=parseInt(s,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(h(t)&this.maskLong)>>>0}catch{throw new Error("Invalid net address: "+t)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+s);this.size=Math.pow(2,32-this.bitmask),this.base=n(this.netLong),this.mask=n(this.maskLong),this.hostmask=n(~this.maskLong),this.first=this.bitmask<=30?n(this.netLong+1):this.base,this.last=this.bitmask<=30?n(this.netLong+this.size-2):n(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?n(this.netLong+this.size-1):void 0}return e.prototype.contains=function(t){return typeof t=="string"&&(t.indexOf("/")>0||t.split(".").length!==4)&&(t=new e(t)),t instanceof e?this.contains(t.base)&&this.contains(t.broadcast||t.last):(h(t)&this.maskLong)>>>0===(this.netLong&this.maskLong)>>>0},e.prototype.next=function(t){return t==null&&(t=1),new e(n(this.netLong+this.size*t),this.mask)},e.prototype.forEach=function(t){var s,r,o;for(o=h(this.first),r=h(this.last),s=0;o<=r;)t(n(o),o,s),s++,o++},e.prototype.toString=function(){return this.base+"/"+this.bitmask},e})(),k.ip2long=h,k.long2ip=n,k.Netmask=c}).call(k)),k}var J=H();function K({ip:c}){const[i]=c.split(".").map(Number);if(i<128)return"A";if(i>127&&i<192)return"B";if(i>191&&i<224)return"C";if(i>223&&i<240)return"D";if(i>239&&i<256)return"E"}const Q={key:0},Y={"font-bold":""},tt={key:1,"op-70":""},et={"mt-3":"",flex:"","items-center":"","justify-between":""},at=x({__name:"ipv4-subnet-calculator",setup(c){const i=N("ipv4-subnet-calculator:ip","192.168.0.1/24"),f=n=>new J.Netmask(n.trim()),d=E(()=>S(()=>f(i.value),void 0)),_=[{message:"We cannot parse this address, check the format",validator:n=>z(()=>f(n.trim()))}],b=[{label:"Netmask",getValue:n=>n.toString()},{label:"Network address",getValue:({base:n})=>n},{label:"Network mask",getValue:({mask:n})=>n},{label:"Network mask in binary",getValue:({bitmask:n})=>("1".repeat(n)+"0".repeat(32-n)).match(/.{8}/g)?.join(".")??""},{label:"CIDR notation",getValue:({bitmask:n})=>`/${n}`},{label:"Wildcard mask",getValue:({hostmask:n})=>n},{label:"Network size",getValue:({size:n})=>String(n)},{label:"First address",getValue:({first:n})=>n},{label:"Last address",getValue:({last:n})=>n},{label:"Broadcast address",getValue:({broadcast:n})=>n,undefinedFallback:"No broadcast address with this mask"},{label:"IP class",getValue:({base:n})=>K({ip:n}),undefinedFallback:"Unknown class type"}];function h({count:n=1}){const e=d.value?.next(n);e&&(i.value=e.toString())}return(n,e)=>{const t=P,s=D,r=j,o=M;return m(),p("div",null,[w(t,{value:g(i),"onUpdate:value":e[0]||(e[0]=a=>C(i)?i.value=a:null),label:"An IPv4 address with or without mask",placeholder:"The ipv4 address...","validation-rules":_,"mb-4":""},null,8,["value"]),g(d)?(m(),p("div",Q,[w(s,null,{default:v(()=>[l("tbody",null,[(m(),p(A,null,$(b,({getValue:a,label:u,undefinedFallback:y})=>l("tr",{key:u},[l("td",Y,F(u),1),l("td",null,[a(g(d))?(m(),B(R,{key:0,value:a(g(d))},null,8,["value"])):(m(),p("span",tt,F(y),1))])])),64))])]),_:1}),l("div",et,[w(o,{onClick:e[1]||(e[1]=a=>h({count:-1}))},{default:v(()=>[w(r,{component:g(U)},null,8,["component"]),e[3]||(e[3]=I(" Previous block ",-1))]),_:1}),w(o,{onClick:e[2]||(e[2]=a=>h({count:1}))},{default:v(()=>[e[4]||(e[4]=I(" Next block ",-1)),w(r,{component:g(G)},null,8,["component"])]),_:1})])])):V("",!0)])}}});export{at as default};
