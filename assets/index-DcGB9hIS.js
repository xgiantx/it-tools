import{W as Gt}from"./index-DtXg1mwU.js";import{r as jt,a as Yt}from"./index-B_oHyrAX.js";var ht={},Et,bt;function Xt(){if(bt)return Et;bt=1,Et=A;function A(T){if(T)return y(T)}function y(T){for(var s in A.prototype)T[s]=A.prototype[s];return T}return A.prototype.on=A.prototype.addEventListener=function(T,s){return this._callbacks=this._callbacks||{},(this._callbacks[T]=this._callbacks[T]||[]).push(s),this},A.prototype.once=function(T,s){var d=this;this._callbacks=this._callbacks||{};function N(){d.off(T,N),s.apply(this,arguments)}return N.fn=s,this.on(T,N),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(T,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var d=this._callbacks[T];if(!d)return this;if(arguments.length==1)return delete this._callbacks[T],this;for(var N,v=0;v<d.length;v++)if(N=d[v],N===s||N.fn===s){d.splice(v,1);break}return this},A.prototype.emit=function(T){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),d=this._callbacks[T];if(d){d=d.slice(0);for(var N=0,v=d.length;N<v;++N)d[N].apply(this,s)}return this},A.prototype.listeners=function(T){return this._callbacks=this._callbacks||{},this._callbacks[T]||[]},A.prototype.hasListeners=function(T){return!!this.listeners(T).length},Et}var mt,Ct;function Wt(){if(Ct)return mt;Ct=1;var A=Xt();function y(){A.call(this)}return y.prototype=new A,mt=y,y.Stream=y,y.prototype.pipe=function(T,s){var d=this;function N(W){T.writable&&T.write(W)===!1&&d.pause&&d.pause()}d.on("data",N);function v(){d.readable&&d.resume&&d.resume()}T.on("drain",v),!T._isStdio&&(!s||s.end!==!1)&&(d.on("end",S),d.on("close",V));var E=!1;function S(){E||(E=!0,T.end())}function V(){E||(E=!0,typeof T.destroy=="function"&&T.destroy())}function L(W){if(P(),!this.hasListeners("error"))throw W}d.on("error",L),T.on("error",L);function P(){d.off("data",N),T.off("drain",v),d.off("end",S),d.off("close",V),d.off("error",L),T.off("error",L),d.off("end",P),d.off("close",P),T.off("end",P),T.off("close",P)}return d.on("end",P),d.on("close",P),T.on("end",P),T.on("close",P),T.emit("pipe",d),T},mt}var yt={},ct={exports:{}},pt={};var Dt;function Ht(){return Dt||(Dt=1,(function(A){var y=Yt(),T=jt(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;A.Buffer=E,A.SlowBuffer=m,A.INSPECT_MAX_BYTES=50;var d=2147483647;A.kMaxLength=d,E.TYPED_ARRAY_SUPPORT=N(),!E.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function N(){try{var i=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(i,t),i.foo()===42}catch{return!1}}Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}});function v(i){if(i>d)throw new RangeError('The value "'+i+'" is invalid for option "size"');var t=new Uint8Array(i);return Object.setPrototypeOf(t,E.prototype),t}function E(i,t,e){if(typeof i=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(i)}return S(i,t,e)}E.poolSize=8192;function S(i,t,e){if(typeof i=="string")return W(i,t);if(ArrayBuffer.isView(i))return J(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(D(i,ArrayBuffer)||i&&D(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(D(i,SharedArrayBuffer)||i&&D(i.buffer,SharedArrayBuffer)))return z(i,t,e);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var a=i.valueOf&&i.valueOf();if(a!=null&&a!==i)return E.from(a,t,e);var h=H(i);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return E.from(i[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}E.from=function(i,t,e){return S(i,t,e)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array);function V(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function L(i,t,e){return V(i),i<=0?v(i):t!==void 0?typeof e=="string"?v(i).fill(t,e):v(i).fill(t):v(i)}E.alloc=function(i,t,e){return L(i,t,e)};function P(i){return V(i),v(i<0?0:o(i)|0)}E.allocUnsafe=function(i){return P(i)},E.allocUnsafeSlow=function(i){return P(i)};function W(i,t){if((typeof t!="string"||t==="")&&(t="utf8"),!E.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var e=c(i,t)|0,a=v(e),h=a.write(i,t);return h!==e&&(a=a.slice(0,h)),a}function Q(i){for(var t=i.length<0?0:o(i.length)|0,e=v(t),a=0;a<t;a+=1)e[a]=i[a]&255;return e}function J(i){if(D(i,Uint8Array)){var t=new Uint8Array(i);return z(t.buffer,t.byteOffset,t.byteLength)}return Q(i)}function z(i,t,e){if(t<0||i.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');var a;return t===void 0&&e===void 0?a=new Uint8Array(i):e===void 0?a=new Uint8Array(i,t):a=new Uint8Array(i,t,e),Object.setPrototypeOf(a,E.prototype),a}function H(i){if(E.isBuffer(i)){var t=o(i.length)|0,e=v(t);return e.length===0||i.copy(e,0,0,t),e}if(i.length!==void 0)return typeof i.length!="number"||j(i.length)?v(0):Q(i);if(i.type==="Buffer"&&Array.isArray(i.data))return Q(i.data)}function o(i){if(i>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return i|0}function m(i){return+i!=i&&(i=0),E.alloc(+i)}E.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==E.prototype},E.compare=function(t,e){if(D(t,Uint8Array)&&(t=E.from(t,t.offset,t.byteLength)),D(e,Uint8Array)&&(e=E.from(e,e.offset,e.byteLength)),!E.isBuffer(t)||!E.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var a=t.length,h=e.length,x=0,w=Math.min(a,h);x<w;++x)if(t[x]!==e[x]){a=t[x],h=e[x];break}return a<h?-1:h<a?1:0},E.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return E.alloc(0);var a;if(e===void 0)for(e=0,a=0;a<t.length;++a)e+=t[a].length;var h=E.allocUnsafe(e),x=0;for(a=0;a<t.length;++a){var w=t[a];if(D(w,Uint8Array))x+w.length>h.length?E.from(w).copy(h,x):Uint8Array.prototype.set.call(h,w,x);else if(E.isBuffer(w))w.copy(h,x);else throw new TypeError('"list" argument must be an Array of Buffers');x+=w.length}return h};function c(i,t){if(E.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||D(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);var e=i.length,a=arguments.length>2&&arguments[2]===!0;if(!a&&e===0)return 0;for(var h=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return r(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return C(i).length;default:if(h)return a?-1:r(i).length;t=(""+t).toLowerCase(),h=!0}}E.byteLength=c;function u(i,t,e){var a=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(i||(i="utf8");;)switch(i){case"hex":return nt(this,t,e);case"utf8":case"utf-8":return rt(this,t,e);case"ascii":return B(this,t,e);case"latin1":case"binary":return ft(this,t,e);case"base64":return tt(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return it(this,t,e);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),a=!0}}E.prototype._isBuffer=!0;function g(i,t,e){var a=i[t];i[t]=i[e],i[e]=a}E.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},E.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},E.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},E.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?rt(this,0,t):u.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(t){if(!E.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:E.compare(this,t)===0},E.prototype.inspect=function(){var t="",e=A.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},s&&(E.prototype[s]=E.prototype.inspect),E.prototype.compare=function(t,e,a,h,x){if(D(t,Uint8Array)&&(t=E.from(t,t.offset,t.byteLength)),!E.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),a===void 0&&(a=t?t.length:0),h===void 0&&(h=0),x===void 0&&(x=this.length),e<0||a>t.length||h<0||x>this.length)throw new RangeError("out of range index");if(h>=x&&e>=a)return 0;if(h>=x)return-1;if(e>=a)return 1;if(e>>>=0,a>>>=0,h>>>=0,x>>>=0,this===t)return 0;for(var w=x-h,b=a-e,O=Math.min(w,b),k=this.slice(h,x),X=t.slice(e,a),q=0;q<O;++q)if(k[q]!==X[q]){w=k[q],b=X[q];break}return w<b?-1:b<w?1:0};function F(i,t,e,a,h){if(i.length===0)return-1;if(typeof e=="string"?(a=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,j(e)&&(e=h?0:i.length-1),e<0&&(e=i.length+e),e>=i.length){if(h)return-1;e=i.length-1}else if(e<0)if(h)e=0;else return-1;if(typeof t=="string"&&(t=E.from(t,a)),E.isBuffer(t))return t.length===0?-1:I(i,t,e,a,h);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(i,t,e):Uint8Array.prototype.lastIndexOf.call(i,t,e):I(i,[t],e,a,h);throw new TypeError("val must be string, number or Buffer")}function I(i,t,e,a,h){var x=1,w=i.length,b=t.length;if(a!==void 0&&(a=String(a).toLowerCase(),a==="ucs2"||a==="ucs-2"||a==="utf16le"||a==="utf-16le")){if(i.length<2||t.length<2)return-1;x=2,w/=2,b/=2,e/=2}function O(It,_t){return x===1?It[_t]:It.readUInt16BE(_t*x)}var k;if(h){var X=-1;for(k=e;k<w;k++)if(O(i,k)===O(t,X===-1?0:k-X)){if(X===-1&&(X=k),k-X+1===b)return X*x}else X!==-1&&(k-=k-X),X=-1}else for(e+b>w&&(e=w-b),k=e;k>=0;k--){for(var q=!0,ot=0;ot<b;ot++)if(O(i,k+ot)!==O(t,ot)){q=!1;break}if(q)return k}return-1}E.prototype.includes=function(t,e,a){return this.indexOf(t,e,a)!==-1},E.prototype.indexOf=function(t,e,a){return F(this,t,e,a,!0)},E.prototype.lastIndexOf=function(t,e,a){return F(this,t,e,a,!1)};function _(i,t,e,a){e=Number(e)||0;var h=i.length-e;a?(a=Number(a),a>h&&(a=h)):a=h;var x=t.length;a>x/2&&(a=x/2);for(var w=0;w<a;++w){var b=parseInt(t.substr(w*2,2),16);if(j(b))return w;i[e+w]=b}return w}function f(i,t,e,a){return K(r(t,i.length-e),i,e,a)}function U(i,t,e,a){return K(p(t),i,e,a)}function $(i,t,e,a){return K(C(t),i,e,a)}function M(i,t,e,a){return K(l(t,i.length-e),i,e,a)}E.prototype.write=function(t,e,a,h){if(e===void 0)h="utf8",a=this.length,e=0;else if(a===void 0&&typeof e=="string")h=e,a=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(a)?(a=a>>>0,h===void 0&&(h="utf8")):(h=a,a=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var x=this.length-e;if((a===void 0||a>x)&&(a=x),t.length>0&&(a<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");for(var w=!1;;)switch(h){case"hex":return _(this,t,e,a);case"utf8":case"utf-8":return f(this,t,e,a);case"ascii":case"latin1":case"binary":return U(this,t,e,a);case"base64":return $(this,t,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,a);default:if(w)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),w=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function tt(i,t,e){return t===0&&e===i.length?y.fromByteArray(i):y.fromByteArray(i.slice(t,e))}function rt(i,t,e){e=Math.min(i.length,e);for(var a=[],h=t;h<e;){var x=i[h],w=null,b=x>239?4:x>223?3:x>191?2:1;if(h+b<=e){var O,k,X,q;switch(b){case 1:x<128&&(w=x);break;case 2:O=i[h+1],(O&192)===128&&(q=(x&31)<<6|O&63,q>127&&(w=q));break;case 3:O=i[h+1],k=i[h+2],(O&192)===128&&(k&192)===128&&(q=(x&15)<<12|(O&63)<<6|k&63,q>2047&&(q<55296||q>57343)&&(w=q));break;case 4:O=i[h+1],k=i[h+2],X=i[h+3],(O&192)===128&&(k&192)===128&&(X&192)===128&&(q=(x&15)<<18|(O&63)<<12|(k&63)<<6|X&63,q>65535&&q<1114112&&(w=q))}}w===null?(w=65533,b=1):w>65535&&(w-=65536,a.push(w>>>10&1023|55296),w=56320|w&1023),a.push(w),h+=b}return ut(a)}var Z=4096;function ut(i){var t=i.length;if(t<=Z)return String.fromCharCode.apply(String,i);for(var e="",a=0;a<t;)e+=String.fromCharCode.apply(String,i.slice(a,a+=Z));return e}function B(i,t,e){var a="";e=Math.min(i.length,e);for(var h=t;h<e;++h)a+=String.fromCharCode(i[h]&127);return a}function ft(i,t,e){var a="";e=Math.min(i.length,e);for(var h=t;h<e;++h)a+=String.fromCharCode(i[h]);return a}function nt(i,t,e){var a=i.length;(!t||t<0)&&(t=0),(!e||e<0||e>a)&&(e=a);for(var h="",x=t;x<e;++x)h+=Y[i[x]];return h}function it(i,t,e){for(var a=i.slice(t,e),h="",x=0;x<a.length-1;x+=2)h+=String.fromCharCode(a[x]+a[x+1]*256);return h}E.prototype.slice=function(t,e){var a=this.length;t=~~t,e=e===void 0?a:~~e,t<0?(t+=a,t<0&&(t=0)):t>a&&(t=a),e<0?(e+=a,e<0&&(e=0)):e>a&&(e=a),e<t&&(e=t);var h=this.subarray(t,e);return Object.setPrototypeOf(h,E.prototype),h};function R(i,t,e){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+t>e)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUintLE=E.prototype.readUIntLE=function(t,e,a){t=t>>>0,e=e>>>0,a||R(t,e,this.length);for(var h=this[t],x=1,w=0;++w<e&&(x*=256);)h+=this[t+w]*x;return h},E.prototype.readUintBE=E.prototype.readUIntBE=function(t,e,a){t=t>>>0,e=e>>>0,a||R(t,e,this.length);for(var h=this[t+--e],x=1;e>0&&(x*=256);)h+=this[t+--e]*x;return h},E.prototype.readUint8=E.prototype.readUInt8=function(t,e){return t=t>>>0,e||R(t,1,this.length),this[t]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||R(t,2,this.length),this[t]|this[t+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||R(t,2,this.length),this[t]<<8|this[t+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||R(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},E.prototype.readIntLE=function(t,e,a){t=t>>>0,e=e>>>0,a||R(t,e,this.length);for(var h=this[t],x=1,w=0;++w<e&&(x*=256);)h+=this[t+w]*x;return x*=128,h>=x&&(h-=Math.pow(2,8*e)),h},E.prototype.readIntBE=function(t,e,a){t=t>>>0,e=e>>>0,a||R(t,e,this.length);for(var h=e,x=1,w=this[t+--h];h>0&&(x*=256);)w+=this[t+--h]*x;return x*=128,w>=x&&(w-=Math.pow(2,8*e)),w},E.prototype.readInt8=function(t,e){return t=t>>>0,e||R(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},E.prototype.readInt16LE=function(t,e){t=t>>>0,e||R(t,2,this.length);var a=this[t]|this[t+1]<<8;return a&32768?a|4294901760:a},E.prototype.readInt16BE=function(t,e){t=t>>>0,e||R(t,2,this.length);var a=this[t+1]|this[t]<<8;return a&32768?a|4294901760:a},E.prototype.readInt32LE=function(t,e){return t=t>>>0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},E.prototype.readInt32BE=function(t,e){return t=t>>>0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},E.prototype.readFloatLE=function(t,e){return t=t>>>0,e||R(t,4,this.length),T.read(this,t,!0,23,4)},E.prototype.readFloatBE=function(t,e){return t=t>>>0,e||R(t,4,this.length),T.read(this,t,!1,23,4)},E.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||R(t,8,this.length),T.read(this,t,!0,52,8)},E.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||R(t,8,this.length),T.read(this,t,!1,52,8)};function G(i,t,e,a,h,x){if(!E.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>h||t<x)throw new RangeError('"value" argument is out of bounds');if(e+a>i.length)throw new RangeError("Index out of range")}E.prototype.writeUintLE=E.prototype.writeUIntLE=function(t,e,a,h){if(t=+t,e=e>>>0,a=a>>>0,!h){var x=Math.pow(2,8*a)-1;G(this,t,e,a,x,0)}var w=1,b=0;for(this[e]=t&255;++b<a&&(w*=256);)this[e+b]=t/w&255;return e+a},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(t,e,a,h){if(t=+t,e=e>>>0,a=a>>>0,!h){var x=Math.pow(2,8*a)-1;G(this,t,e,a,x,0)}var w=a-1,b=1;for(this[e+w]=t&255;--w>=0&&(b*=256);)this[e+w]=t/b&255;return e+a},E.prototype.writeUint8=E.prototype.writeUInt8=function(t,e,a){return t=+t,e=e>>>0,a||G(this,t,e,1,255,0),this[e]=t&255,e+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(t,e,a){return t=+t,e=e>>>0,a||G(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(t,e,a){return t=+t,e=e>>>0,a||G(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(t,e,a){return t=+t,e=e>>>0,a||G(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(t,e,a){return t=+t,e=e>>>0,a||G(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},E.prototype.writeIntLE=function(t,e,a,h){if(t=+t,e=e>>>0,!h){var x=Math.pow(2,8*a-1);G(this,t,e,a,x-1,-x)}var w=0,b=1,O=0;for(this[e]=t&255;++w<a&&(b*=256);)t<0&&O===0&&this[e+w-1]!==0&&(O=1),this[e+w]=(t/b>>0)-O&255;return e+a},E.prototype.writeIntBE=function(t,e,a,h){if(t=+t,e=e>>>0,!h){var x=Math.pow(2,8*a-1);G(this,t,e,a,x-1,-x)}var w=a-1,b=1,O=0;for(this[e+w]=t&255;--w>=0&&(b*=256);)t<0&&O===0&&this[e+w+1]!==0&&(O=1),this[e+w]=(t/b>>0)-O&255;return e+a},E.prototype.writeInt8=function(t,e,a){return t=+t,e=e>>>0,a||G(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1},E.prototype.writeInt16LE=function(t,e,a){return t=+t,e=e>>>0,a||G(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},E.prototype.writeInt16BE=function(t,e,a){return t=+t,e=e>>>0,a||G(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},E.prototype.writeInt32LE=function(t,e,a){return t=+t,e=e>>>0,a||G(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},E.prototype.writeInt32BE=function(t,e,a){return t=+t,e=e>>>0,a||G(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function st(i,t,e,a,h,x){if(e+a>i.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function at(i,t,e,a,h){return t=+t,e=e>>>0,h||st(i,t,e,4),T.write(i,t,e,a,23,4),e+4}E.prototype.writeFloatLE=function(t,e,a){return at(this,t,e,!0,a)},E.prototype.writeFloatBE=function(t,e,a){return at(this,t,e,!1,a)};function et(i,t,e,a,h){return t=+t,e=e>>>0,h||st(i,t,e,8),T.write(i,t,e,a,52,8),e+8}E.prototype.writeDoubleLE=function(t,e,a){return et(this,t,e,!0,a)},E.prototype.writeDoubleBE=function(t,e,a){return et(this,t,e,!1,a)},E.prototype.copy=function(t,e,a,h){if(!E.isBuffer(t))throw new TypeError("argument should be a Buffer");if(a||(a=0),!h&&h!==0&&(h=this.length),e>=t.length&&(e=t.length),e||(e=0),h>0&&h<a&&(h=a),h===a||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),t.length-e<h-a&&(h=t.length-e+a);var x=h-a;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,a,h):Uint8Array.prototype.set.call(t,this.subarray(a,h),e),x},E.prototype.fill=function(t,e,a,h){if(typeof t=="string"){if(typeof e=="string"?(h=e,e=0,a=this.length):typeof a=="string"&&(h=a,a=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!E.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(t.length===1){var x=t.charCodeAt(0);(h==="utf8"&&x<128||h==="latin1")&&(t=x)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<a)throw new RangeError("Out of range index");if(a<=e)return this;e=e>>>0,a=a===void 0?this.length:a>>>0,t||(t=0);var w;if(typeof t=="number")for(w=e;w<a;++w)this[w]=t;else{var b=E.isBuffer(t)?t:E.from(t,h),O=b.length;if(O===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(w=0;w<a-e;++w)this[w+e]=b[w%O]}return this};var lt=/[^+/0-9A-Za-z-_]/g;function n(i){if(i=i.split("=")[0],i=i.trim().replace(lt,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function r(i,t){t=t||1/0;for(var e,a=i.length,h=null,x=[],w=0;w<a;++w){if(e=i.charCodeAt(w),e>55295&&e<57344){if(!h){if(e>56319){(t-=3)>-1&&x.push(239,191,189);continue}else if(w+1===a){(t-=3)>-1&&x.push(239,191,189);continue}h=e;continue}if(e<56320){(t-=3)>-1&&x.push(239,191,189),h=e;continue}e=(h-55296<<10|e-56320)+65536}else h&&(t-=3)>-1&&x.push(239,191,189);if(h=null,e<128){if((t-=1)<0)break;x.push(e)}else if(e<2048){if((t-=2)<0)break;x.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;x.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;x.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return x}function p(i){for(var t=[],e=0;e<i.length;++e)t.push(i.charCodeAt(e)&255);return t}function l(i,t){for(var e,a,h,x=[],w=0;w<i.length&&!((t-=2)<0);++w)e=i.charCodeAt(w),a=e>>8,h=e%256,x.push(h),x.push(a);return x}function C(i){return y.toByteArray(n(i))}function K(i,t,e,a){for(var h=0;h<a&&!(h+e>=t.length||h>=i.length);++h)t[h+e]=i[h];return h}function D(i,t){return i instanceof t||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===t.name}function j(i){return i!==i}var Y=(function(){for(var i="0123456789abcdef",t=new Array(256),e=0;e<16;++e)for(var a=e*16,h=0;h<16;++h)t[a+h]=i[e]+i[h];return t})()})(pt)),pt}var St;function Qt(){return St||(St=1,(function(A,y){var T=Ht(),s=T.Buffer;function d(v,E){for(var S in v)E[S]=v[S]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?A.exports=T:(d(T,y),y.Buffer=N);function N(v,E,S){return s(v,E,S)}N.prototype=Object.create(s.prototype),d(s,N),N.from=function(v,E,S){if(typeof v=="number")throw new TypeError("Argument must not be a number");return s(v,E,S)},N.alloc=function(v,E,S){if(typeof v!="number")throw new TypeError("Argument must be a number");var V=s(v);return E!==void 0?typeof S=="string"?V.fill(E,S):V.fill(E):V.fill(0),V},N.allocUnsafe=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return s(v)},N.allocUnsafeSlow=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return T.SlowBuffer(v)}})(ct,ct.exports)),ct.exports}var Bt;function zt(){if(Bt)return yt;Bt=1;var A=Qt().Buffer,y=A.isEncoding||function(o){switch(o=""+o,o&&o.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function T(o){if(!o)return"utf8";for(var m;;)switch(o){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return o;default:if(m)return;o=(""+o).toLowerCase(),m=!0}}function s(o){var m=T(o);if(typeof m!="string"&&(A.isEncoding===y||!y(o)))throw new Error("Unknown encoding: "+o);return m||o}yt.StringDecoder=d;function d(o){this.encoding=s(o);var m;switch(this.encoding){case"utf16le":this.text=P,this.end=W,m=4;break;case"utf8":this.fillLast=S,m=4;break;case"base64":this.text=Q,this.end=J,m=3;break;default:this.write=z,this.end=H;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(m)}d.prototype.write=function(o){if(o.length===0)return"";var m,c;if(this.lastNeed){if(m=this.fillLast(o),m===void 0)return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<o.length?m?m+this.text(o,c):this.text(o,c):m||""},d.prototype.end=L,d.prototype.text=V,d.prototype.fillLast=function(o){if(this.lastNeed<=o.length)return o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,o.length),this.lastNeed-=o.length};function N(o){return o<=127?0:o>>5===6?2:o>>4===14?3:o>>3===30?4:o>>6===2?-1:-2}function v(o,m,c){var u=m.length-1;if(u<c)return 0;var g=N(m[u]);return g>=0?(g>0&&(o.lastNeed=g-1),g):--u<c||g===-2?0:(g=N(m[u]),g>=0?(g>0&&(o.lastNeed=g-2),g):--u<c||g===-2?0:(g=N(m[u]),g>=0?(g>0&&(g===2?g=0:o.lastNeed=g-3),g):0))}function E(o,m,c){if((m[0]&192)!==128)return o.lastNeed=0,"�";if(o.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return o.lastNeed=1,"�";if(o.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return o.lastNeed=2,"�"}}function S(o){var m=this.lastTotal-this.lastNeed,c=E(this,o);if(c!==void 0)return c;if(this.lastNeed<=o.length)return o.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);o.copy(this.lastChar,m,0,o.length),this.lastNeed-=o.length}function V(o,m){var c=v(this,o,m);if(!this.lastNeed)return o.toString("utf8",m);this.lastTotal=c;var u=o.length-(c-this.lastNeed);return o.copy(this.lastChar,0,u),o.toString("utf8",m,u)}function L(o){var m=o&&o.length?this.write(o):"";return this.lastNeed?m+"�":m}function P(o,m){if((o.length-m)%2===0){var c=o.toString("utf16le",m);if(c){var u=c.charCodeAt(c.length-1);if(u>=55296&&u<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=o[o.length-1],o.toString("utf16le",m,o.length-1)}function W(o){var m=o&&o.length?this.write(o):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,c)}return m}function Q(o,m){var c=(o.length-m)%3;return c===0?o.toString("base64",m):(this.lastNeed=3-c,this.lastTotal=3,c===1?this.lastChar[0]=o[o.length-1]:(this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1]),o.toString("base64",m,o.length-c))}function J(o){var m=o&&o.length?this.write(o):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function z(o){return o.toString(this.encoding)}function H(o){return o&&o.length?this.write(o):""}return yt}var Ut;function Jt(){return Ut||(Ut=1,(function(A){(function(y){y.parser=function(n,r){return new s(n,r)},y.SAXParser=s,y.SAXStream=L,y.createStream=V,y.MAX_BUFFER_LENGTH=64*1024;var T=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];y.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function s(n,r){if(!(this instanceof s))return new s(n,r);var p=this;N(p),p.q=p.c="",p.bufferCheckPosition=y.MAX_BUFFER_LENGTH,p.opt=r||{},p.opt.lowercase=p.opt.lowercase||p.opt.lowercasetags,p.looseCase=p.opt.lowercase?"toLowerCase":"toUpperCase",p.tags=[],p.closed=p.closedRoot=p.sawRoot=!1,p.tag=p.error=null,p.strict=!!n,p.noscript=!!(n||p.opt.noscript),p.state=f.BEGIN,p.strictEntities=p.opt.strictEntities,p.ENTITIES=p.strictEntities?Object.create(y.XML_ENTITIES):Object.create(y.ENTITIES),p.attribList=[],p.opt.xmlns&&(p.ns=Object.create(z)),p.opt.unquotedAttributeValues===void 0&&(p.opt.unquotedAttributeValues=!n),p.trackPosition=p.opt.position!==!1,p.trackPosition&&(p.position=p.line=p.column=0),$(p,"onready")}Object.create||(Object.create=function(n){function r(){}r.prototype=n;var p=new r;return p}),Object.keys||(Object.keys=function(n){var r=[];for(var p in n)n.hasOwnProperty(p)&&r.push(p);return r});function d(n){for(var r=Math.max(y.MAX_BUFFER_LENGTH,10),p=0,l=0,C=T.length;l<C;l++){var K=n[T[l]].length;if(K>r)switch(T[l]){case"textNode":tt(n);break;case"cdata":M(n,"oncdata",n.cdata),n.cdata="";break;case"script":M(n,"onscript",n.script),n.script="";break;default:Z(n,"Max buffer length exceeded: "+T[l])}p=Math.max(p,K)}var D=y.MAX_BUFFER_LENGTH-p;n.bufferCheckPosition=D+n.position}function N(n){for(var r=0,p=T.length;r<p;r++)n[T[r]]=""}function v(n){tt(n),n.cdata!==""&&(M(n,"oncdata",n.cdata),n.cdata=""),n.script!==""&&(M(n,"onscript",n.script),n.script="")}s.prototype={end:function(){ut(this)},write:lt,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){v(this)}};var E;try{E=Wt().Stream}catch{E=function(){}}E||(E=function(){});var S=y.EVENTS.filter(function(n){return n!=="error"&&n!=="end"});function V(n,r){return new L(n,r)}function L(n,r){if(!(this instanceof L))return new L(n,r);E.apply(this),this._parser=new s(n,r),this.writable=!0,this.readable=!0;var p=this;this._parser.onend=function(){p.emit("end")},this._parser.onerror=function(l){p.emit("error",l),p._parser.error=null},this._decoder=null,S.forEach(function(l){Object.defineProperty(p,"on"+l,{get:function(){return p._parser["on"+l]},set:function(C){if(!C)return p.removeAllListeners(l),p._parser["on"+l]=C,C;p.on(l,C)},enumerable:!0,configurable:!1})})}L.prototype=Object.create(E.prototype,{constructor:{value:L}}),L.prototype.write=function(n){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(n)){if(!this._decoder){var r=zt().StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},L.prototype.end=function(n){return n&&n.length&&this.write(n),this._parser.end(),!0},L.prototype.on=function(n,r){var p=this;return!p._parser["on"+n]&&S.indexOf(n)!==-1&&(p._parser["on"+n]=function(){var l=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);l.splice(0,0,n),p.emit.apply(p,l)}),E.prototype.on.call(p,n,r)};var P="[CDATA[",W="DOCTYPE",Q="http://www.w3.org/XML/1998/namespace",J="http://www.w3.org/2000/xmlns/",z={xml:Q,xmlns:J},H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,c=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function u(n){return n===" "||n===`
`||n==="\r"||n==="	"}function g(n){return n==='"'||n==="'"}function F(n){return n===">"||u(n)}function I(n,r){return n.test(r)}function _(n,r){return!I(n,r)}var f=0;y.STATE={BEGIN:f++,BEGIN_WHITESPACE:f++,TEXT:f++,TEXT_ENTITY:f++,OPEN_WAKA:f++,SGML_DECL:f++,SGML_DECL_QUOTED:f++,DOCTYPE:f++,DOCTYPE_QUOTED:f++,DOCTYPE_DTD:f++,DOCTYPE_DTD_QUOTED:f++,COMMENT_STARTING:f++,COMMENT:f++,COMMENT_ENDING:f++,COMMENT_ENDED:f++,CDATA:f++,CDATA_ENDING:f++,CDATA_ENDING_2:f++,PROC_INST:f++,PROC_INST_BODY:f++,PROC_INST_ENDING:f++,OPEN_TAG:f++,OPEN_TAG_SLASH:f++,ATTRIB:f++,ATTRIB_NAME:f++,ATTRIB_NAME_SAW_WHITE:f++,ATTRIB_VALUE:f++,ATTRIB_VALUE_QUOTED:f++,ATTRIB_VALUE_CLOSED:f++,ATTRIB_VALUE_UNQUOTED:f++,ATTRIB_VALUE_ENTITY_Q:f++,ATTRIB_VALUE_ENTITY_U:f++,CLOSE_TAG:f++,CLOSE_TAG_SAW_WHITE:f++,SCRIPT:f++,SCRIPT_ENDING:f++},y.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(y.ENTITIES).forEach(function(n){var r=y.ENTITIES[n],p=typeof r=="number"?String.fromCharCode(r):r;y.ENTITIES[n]=p});for(var U in y.STATE)y.STATE[y.STATE[U]]=U;f=y.STATE;function $(n,r,p){n[r]&&n[r](p)}function M(n,r,p){n.textNode&&tt(n),$(n,r,p)}function tt(n){n.textNode=rt(n.opt,n.textNode),n.textNode&&$(n,"ontext",n.textNode),n.textNode=""}function rt(n,r){return n.trim&&(r=r.trim()),n.normalize&&(r=r.replace(/\s+/g," ")),r}function Z(n,r){return tt(n),n.trackPosition&&(r+=`
Line: `+n.line+`
Column: `+n.column+`
Char: `+n.c),r=new Error(r),n.error=r,$(n,"onerror",r),n}function ut(n){return n.sawRoot&&!n.closedRoot&&B(n,"Unclosed root tag"),n.state!==f.BEGIN&&n.state!==f.BEGIN_WHITESPACE&&n.state!==f.TEXT&&Z(n,"Unexpected end"),tt(n),n.c="",n.closed=!0,$(n,"onend"),s.call(n,n.strict,n.opt),n}function B(n,r){if(typeof n!="object"||!(n instanceof s))throw new Error("bad call to strictFail");n.strict&&Z(n,r)}function ft(n){n.strict||(n.tagName=n.tagName[n.looseCase]());var r=n.tags[n.tags.length-1]||n,p=n.tag={name:n.tagName,attributes:{}};n.opt.xmlns&&(p.ns=r.ns),n.attribList.length=0,M(n,"onopentagstart",p)}function nt(n,r){var p=n.indexOf(":"),l=p<0?["",n]:n.split(":"),C=l[0],K=l[1];return r&&n==="xmlns"&&(C="xmlns",K=""),{prefix:C,local:K}}function it(n){if(n.strict||(n.attribName=n.attribName[n.looseCase]()),n.attribList.indexOf(n.attribName)!==-1||n.tag.attributes.hasOwnProperty(n.attribName)){n.attribName=n.attribValue="";return}if(n.opt.xmlns){var r=nt(n.attribName,!0),p=r.prefix,l=r.local;if(p==="xmlns")if(l==="xml"&&n.attribValue!==Q)B(n,"xml: prefix must be bound to "+Q+`
Actual: `+n.attribValue);else if(l==="xmlns"&&n.attribValue!==J)B(n,"xmlns: prefix must be bound to "+J+`
Actual: `+n.attribValue);else{var C=n.tag,K=n.tags[n.tags.length-1]||n;C.ns===K.ns&&(C.ns=Object.create(K.ns)),C.ns[l]=n.attribValue}n.attribList.push([n.attribName,n.attribValue])}else n.tag.attributes[n.attribName]=n.attribValue,M(n,"onattribute",{name:n.attribName,value:n.attribValue});n.attribName=n.attribValue=""}function R(n,r){if(n.opt.xmlns){var p=n.tag,l=nt(n.tagName);p.prefix=l.prefix,p.local=l.local,p.uri=p.ns[l.prefix]||"",p.prefix&&!p.uri&&(B(n,"Unbound namespace prefix: "+JSON.stringify(n.tagName)),p.uri=l.prefix);var C=n.tags[n.tags.length-1]||n;p.ns&&C.ns!==p.ns&&Object.keys(p.ns).forEach(function(w){M(n,"onopennamespace",{prefix:w,uri:p.ns[w]})});for(var K=0,D=n.attribList.length;K<D;K++){var j=n.attribList[K],Y=j[0],i=j[1],t=nt(Y,!0),e=t.prefix,a=t.local,h=e===""?"":p.ns[e]||"",x={name:Y,value:i,prefix:e,local:a,uri:h};e&&e!=="xmlns"&&!h&&(B(n,"Unbound namespace prefix: "+JSON.stringify(e)),x.uri=e),n.tag.attributes[Y]=x,M(n,"onattribute",x)}n.attribList.length=0}n.tag.isSelfClosing=!!r,n.sawRoot=!0,n.tags.push(n.tag),M(n,"onopentag",n.tag),r||(!n.noscript&&n.tagName.toLowerCase()==="script"?n.state=f.SCRIPT:n.state=f.TEXT,n.tag=null,n.tagName=""),n.attribName=n.attribValue="",n.attribList.length=0}function G(n){if(!n.tagName){B(n,"Weird empty close tag."),n.textNode+="</>",n.state=f.TEXT;return}if(n.script){if(n.tagName!=="script"){n.script+="</"+n.tagName+">",n.tagName="",n.state=f.SCRIPT;return}M(n,"onscript",n.script),n.script=""}var r=n.tags.length,p=n.tagName;n.strict||(p=p[n.looseCase]());for(var l=p;r--;){var C=n.tags[r];if(C.name!==l)B(n,"Unexpected close tag");else break}if(r<0){B(n,"Unmatched closing tag: "+n.tagName),n.textNode+="</"+n.tagName+">",n.state=f.TEXT;return}n.tagName=p;for(var K=n.tags.length;K-- >r;){var D=n.tag=n.tags.pop();n.tagName=n.tag.name,M(n,"onclosetag",n.tagName);var j={};for(var Y in D.ns)j[Y]=D.ns[Y];var i=n.tags[n.tags.length-1]||n;n.opt.xmlns&&D.ns!==i.ns&&Object.keys(D.ns).forEach(function(t){var e=D.ns[t];M(n,"onclosenamespace",{prefix:t,uri:e})})}r===0&&(n.closedRoot=!0),n.tagName=n.attribValue=n.attribName="",n.attribList.length=0,n.state=f.TEXT}function st(n){var r=n.entity,p=r.toLowerCase(),l,C="";return n.ENTITIES[r]?n.ENTITIES[r]:n.ENTITIES[p]?n.ENTITIES[p]:(r=p,r.charAt(0)==="#"&&(r.charAt(1)==="x"?(r=r.slice(2),l=parseInt(r,16),C=l.toString(16)):(r=r.slice(1),l=parseInt(r,10),C=l.toString(10))),r=r.replace(/^0+/,""),isNaN(l)||C.toLowerCase()!==r||l<0||l>1114111?(B(n,"Invalid character entity"),"&"+n.entity+";"):String.fromCodePoint(l))}function at(n,r){r==="<"?(n.state=f.OPEN_WAKA,n.startTagPosition=n.position):u(r)||(B(n,"Non-whitespace before first tag."),n.textNode=r,n.state=f.TEXT)}function et(n,r){var p="";return r<n.length&&(p=n.charAt(r)),p}function lt(n){var r=this;if(this.error)throw this.error;if(r.closed)return Z(r,"Cannot write after close. Assign an onready handler.");if(n===null)return ut(r);typeof n=="object"&&(n=n.toString());for(var p=0,l="";l=et(n,p++),r.c=l,!!l;)switch(r.trackPosition&&(r.position++,l===`
`?(r.line++,r.column=0):r.column++),r.state){case f.BEGIN:if(r.state=f.BEGIN_WHITESPACE,l==="\uFEFF")continue;at(r,l);continue;case f.BEGIN_WHITESPACE:at(r,l);continue;case f.TEXT:if(r.sawRoot&&!r.closedRoot){for(var K=p-1;l&&l!=="<"&&l!=="&";)l=et(n,p++),l&&r.trackPosition&&(r.position++,l===`
`?(r.line++,r.column=0):r.column++);r.textNode+=n.substring(K,p-1)}l==="<"&&!(r.sawRoot&&r.closedRoot&&!r.strict)?(r.state=f.OPEN_WAKA,r.startTagPosition=r.position):(!u(l)&&(!r.sawRoot||r.closedRoot)&&B(r,"Text data outside of root node."),l==="&"?r.state=f.TEXT_ENTITY:r.textNode+=l);continue;case f.SCRIPT:l==="<"?r.state=f.SCRIPT_ENDING:r.script+=l;continue;case f.SCRIPT_ENDING:l==="/"?r.state=f.CLOSE_TAG:(r.script+="<"+l,r.state=f.SCRIPT);continue;case f.OPEN_WAKA:if(l==="!")r.state=f.SGML_DECL,r.sgmlDecl="";else if(!u(l))if(I(H,l))r.state=f.OPEN_TAG,r.tagName=l;else if(l==="/")r.state=f.CLOSE_TAG,r.tagName="";else if(l==="?")r.state=f.PROC_INST,r.procInstName=r.procInstBody="";else{if(B(r,"Unencoded <"),r.startTagPosition+1<r.position){var C=r.position-r.startTagPosition;l=new Array(C).join(" ")+l}r.textNode+="<"+l,r.state=f.TEXT}continue;case f.SGML_DECL:if(r.sgmlDecl+l==="--"){r.state=f.COMMENT,r.comment="",r.sgmlDecl="";continue}r.doctype&&r.doctype!==!0&&r.sgmlDecl?(r.state=f.DOCTYPE_DTD,r.doctype+="<!"+r.sgmlDecl+l,r.sgmlDecl=""):(r.sgmlDecl+l).toUpperCase()===P?(M(r,"onopencdata"),r.state=f.CDATA,r.sgmlDecl="",r.cdata=""):(r.sgmlDecl+l).toUpperCase()===W?(r.state=f.DOCTYPE,(r.doctype||r.sawRoot)&&B(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):l===">"?(M(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=f.TEXT):(g(l)&&(r.state=f.SGML_DECL_QUOTED),r.sgmlDecl+=l);continue;case f.SGML_DECL_QUOTED:l===r.q&&(r.state=f.SGML_DECL,r.q=""),r.sgmlDecl+=l;continue;case f.DOCTYPE:l===">"?(r.state=f.TEXT,M(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=l,l==="["?r.state=f.DOCTYPE_DTD:g(l)&&(r.state=f.DOCTYPE_QUOTED,r.q=l));continue;case f.DOCTYPE_QUOTED:r.doctype+=l,l===r.q&&(r.q="",r.state=f.DOCTYPE);continue;case f.DOCTYPE_DTD:l==="]"?(r.doctype+=l,r.state=f.DOCTYPE):l==="<"?(r.state=f.OPEN_WAKA,r.startTagPosition=r.position):g(l)?(r.doctype+=l,r.state=f.DOCTYPE_DTD_QUOTED,r.q=l):r.doctype+=l;continue;case f.DOCTYPE_DTD_QUOTED:r.doctype+=l,l===r.q&&(r.state=f.DOCTYPE_DTD,r.q="");continue;case f.COMMENT:l==="-"?r.state=f.COMMENT_ENDING:r.comment+=l;continue;case f.COMMENT_ENDING:l==="-"?(r.state=f.COMMENT_ENDED,r.comment=rt(r.opt,r.comment),r.comment&&M(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+l,r.state=f.COMMENT);continue;case f.COMMENT_ENDED:l!==">"?(B(r,"Malformed comment"),r.comment+="--"+l,r.state=f.COMMENT):r.doctype&&r.doctype!==!0?r.state=f.DOCTYPE_DTD:r.state=f.TEXT;continue;case f.CDATA:for(var K=p-1;l&&l!=="]";)l=et(n,p++),l&&r.trackPosition&&(r.position++,l===`
`?(r.line++,r.column=0):r.column++);r.cdata+=n.substring(K,p-1),l==="]"&&(r.state=f.CDATA_ENDING);continue;case f.CDATA_ENDING:l==="]"?r.state=f.CDATA_ENDING_2:(r.cdata+="]"+l,r.state=f.CDATA);continue;case f.CDATA_ENDING_2:l===">"?(r.cdata&&M(r,"oncdata",r.cdata),M(r,"onclosecdata"),r.cdata="",r.state=f.TEXT):l==="]"?r.cdata+="]":(r.cdata+="]]"+l,r.state=f.CDATA);continue;case f.PROC_INST:l==="?"?r.state=f.PROC_INST_ENDING:u(l)?r.state=f.PROC_INST_BODY:r.procInstName+=l;continue;case f.PROC_INST_BODY:if(!r.procInstBody&&u(l))continue;l==="?"?r.state=f.PROC_INST_ENDING:r.procInstBody+=l;continue;case f.PROC_INST_ENDING:l===">"?(M(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=f.TEXT):(r.procInstBody+="?"+l,r.state=f.PROC_INST_BODY);continue;case f.OPEN_TAG:I(o,l)?r.tagName+=l:(ft(r),l===">"?R(r):l==="/"?r.state=f.OPEN_TAG_SLASH:(u(l)||B(r,"Invalid character in tag name"),r.state=f.ATTRIB));continue;case f.OPEN_TAG_SLASH:l===">"?(R(r,!0),G(r)):(B(r,"Forward-slash in opening tag not followed by >"),r.state=f.ATTRIB);continue;case f.ATTRIB:if(u(l))continue;l===">"?R(r):l==="/"?r.state=f.OPEN_TAG_SLASH:I(H,l)?(r.attribName=l,r.attribValue="",r.state=f.ATTRIB_NAME):B(r,"Invalid attribute name");continue;case f.ATTRIB_NAME:l==="="?r.state=f.ATTRIB_VALUE:l===">"?(B(r,"Attribute without value"),r.attribValue=r.attribName,it(r),R(r)):u(l)?r.state=f.ATTRIB_NAME_SAW_WHITE:I(o,l)?r.attribName+=l:B(r,"Invalid attribute name");continue;case f.ATTRIB_NAME_SAW_WHITE:if(l==="=")r.state=f.ATTRIB_VALUE;else{if(u(l))continue;B(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",M(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",l===">"?R(r):I(H,l)?(r.attribName=l,r.state=f.ATTRIB_NAME):(B(r,"Invalid attribute name"),r.state=f.ATTRIB)}continue;case f.ATTRIB_VALUE:if(u(l))continue;g(l)?(r.q=l,r.state=f.ATTRIB_VALUE_QUOTED):(r.opt.unquotedAttributeValues||Z(r,"Unquoted attribute value"),r.state=f.ATTRIB_VALUE_UNQUOTED,r.attribValue=l);continue;case f.ATTRIB_VALUE_QUOTED:if(l!==r.q){l==="&"?r.state=f.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=l;continue}it(r),r.q="",r.state=f.ATTRIB_VALUE_CLOSED;continue;case f.ATTRIB_VALUE_CLOSED:u(l)?r.state=f.ATTRIB:l===">"?R(r):l==="/"?r.state=f.OPEN_TAG_SLASH:I(H,l)?(B(r,"No whitespace between attributes"),r.attribName=l,r.attribValue="",r.state=f.ATTRIB_NAME):B(r,"Invalid attribute name");continue;case f.ATTRIB_VALUE_UNQUOTED:if(!F(l)){l==="&"?r.state=f.ATTRIB_VALUE_ENTITY_U:r.attribValue+=l;continue}it(r),l===">"?R(r):r.state=f.ATTRIB;continue;case f.CLOSE_TAG:if(r.tagName)l===">"?G(r):I(o,l)?r.tagName+=l:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=f.SCRIPT):(u(l)||B(r,"Invalid tagname in closing tag"),r.state=f.CLOSE_TAG_SAW_WHITE);else{if(u(l))continue;_(H,l)?r.script?(r.script+="</"+l,r.state=f.SCRIPT):B(r,"Invalid tagname in closing tag."):r.tagName=l}continue;case f.CLOSE_TAG_SAW_WHITE:if(u(l))continue;l===">"?G(r):B(r,"Invalid characters in closing tag");continue;case f.TEXT_ENTITY:case f.ATTRIB_VALUE_ENTITY_Q:case f.ATTRIB_VALUE_ENTITY_U:var D,j;switch(r.state){case f.TEXT_ENTITY:D=f.TEXT,j="textNode";break;case f.ATTRIB_VALUE_ENTITY_Q:D=f.ATTRIB_VALUE_QUOTED,j="attribValue";break;case f.ATTRIB_VALUE_ENTITY_U:D=f.ATTRIB_VALUE_UNQUOTED,j="attribValue";break}if(l===";"){var Y=st(r);r.opt.unparsedEntities&&!Object.values(y.XML_ENTITIES).includes(Y)?(r.entity="",r.state=D,r.write(Y)):(r[j]+=Y,r.entity="",r.state=D)}else I(r.entity.length?c:m,l)?r.entity+=l:(B(r,"Invalid character in entity name"),r[j]+="&"+r.entity+l,r.entity="",r.state=D);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&d(r),r}String.fromCodePoint||(function(){var n=String.fromCharCode,r=Math.floor,p=function(){var l=16384,C=[],K,D,j=-1,Y=arguments.length;if(!Y)return"";for(var i="";++j<Y;){var t=Number(arguments[j]);if(!isFinite(t)||t<0||t>1114111||r(t)!==t)throw RangeError("Invalid code point: "+t);t<=65535?C.push(t):(t-=65536,K=(t>>10)+55296,D=t%1024+56320,C.push(K,D)),(j+1===Y||C.length>l)&&(i+=n.apply(null,C),C.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:p,configurable:!0,writable:!0}):String.fromCodePoint=p})()})(A)})(ht)),ht}var gt,Ot;function Nt(){return Ot||(Ot=1,gt={isArray:function(A){return Array.isArray?Array.isArray(A):Object.prototype.toString.call(A)==="[object Array]"}}),gt}var Tt,Rt;function vt(){if(Rt)return Tt;Rt=1;var A=Nt().isArray;return Tt={copyOptions:function(y){var T,s={};for(T in y)y.hasOwnProperty(T)&&(s[T]=y[T]);return s},ensureFlagExists:function(y,T){(!(y in T)||typeof T[y]!="boolean")&&(T[y]=!1)},ensureSpacesExists:function(y){(!("spaces"in y)||typeof y.spaces!="number"&&typeof y.spaces!="string")&&(y.spaces=0)},ensureAlwaysArrayExists:function(y){(!("alwaysArray"in y)||typeof y.alwaysArray!="boolean"&&!A(y.alwaysArray))&&(y.alwaysArray=!1)},ensureKeyExists:function(y,T){(!(y+"Key"in T)||typeof T[y+"Key"]!="string")&&(T[y+"Key"]=T.compact?"_"+y:y)},checkFnExists:function(y,T){return y+"Fn"in T}},Tt}var dt,Kt;function qt(){if(Kt)return dt;Kt=1;var A=Jt(),y=vt(),T=Nt().isArray,s,d;function N(o){return s=y.copyOptions(o),y.ensureFlagExists("ignoreDeclaration",s),y.ensureFlagExists("ignoreInstruction",s),y.ensureFlagExists("ignoreAttributes",s),y.ensureFlagExists("ignoreText",s),y.ensureFlagExists("ignoreComment",s),y.ensureFlagExists("ignoreCdata",s),y.ensureFlagExists("ignoreDoctype",s),y.ensureFlagExists("compact",s),y.ensureFlagExists("alwaysChildren",s),y.ensureFlagExists("addParent",s),y.ensureFlagExists("trim",s),y.ensureFlagExists("nativeType",s),y.ensureFlagExists("nativeTypeAttributes",s),y.ensureFlagExists("sanitize",s),y.ensureFlagExists("instructionHasAttributes",s),y.ensureFlagExists("captureSpacesBetweenElements",s),y.ensureAlwaysArrayExists(s),y.ensureKeyExists("declaration",s),y.ensureKeyExists("instruction",s),y.ensureKeyExists("attributes",s),y.ensureKeyExists("text",s),y.ensureKeyExists("comment",s),y.ensureKeyExists("cdata",s),y.ensureKeyExists("doctype",s),y.ensureKeyExists("type",s),y.ensureKeyExists("name",s),y.ensureKeyExists("elements",s),y.ensureKeyExists("parent",s),y.checkFnExists("doctype",s),y.checkFnExists("instruction",s),y.checkFnExists("cdata",s),y.checkFnExists("comment",s),y.checkFnExists("text",s),y.checkFnExists("instructionName",s),y.checkFnExists("elementName",s),y.checkFnExists("attributeName",s),y.checkFnExists("attributeValue",s),y.checkFnExists("attributes",s),s}function v(o){var m=Number(o);if(!isNaN(m))return m;var c=o.toLowerCase();return c==="true"?!0:c==="false"?!1:o}function E(o,m){var c;if(s.compact){if(!d[s[o+"Key"]]&&(T(s.alwaysArray)?s.alwaysArray.indexOf(s[o+"Key"])!==-1:s.alwaysArray)&&(d[s[o+"Key"]]=[]),d[s[o+"Key"]]&&!T(d[s[o+"Key"]])&&(d[s[o+"Key"]]=[d[s[o+"Key"]]]),o+"Fn"in s&&typeof m=="string"&&(m=s[o+"Fn"](m,d)),o==="instruction"&&("instructionFn"in s||"instructionNameFn"in s)){for(c in m)if(m.hasOwnProperty(c))if("instructionFn"in s)m[c]=s.instructionFn(m[c],c,d);else{var u=m[c];delete m[c],m[s.instructionNameFn(c,u,d)]=u}}T(d[s[o+"Key"]])?d[s[o+"Key"]].push(m):d[s[o+"Key"]]=m}else{d[s.elementsKey]||(d[s.elementsKey]=[]);var g={};if(g[s.typeKey]=o,o==="instruction"){for(c in m)if(m.hasOwnProperty(c))break;g[s.nameKey]="instructionNameFn"in s?s.instructionNameFn(c,m,d):c,s.instructionHasAttributes?(g[s.attributesKey]=m[c][s.attributesKey],"instructionFn"in s&&(g[s.attributesKey]=s.instructionFn(g[s.attributesKey],c,d))):("instructionFn"in s&&(m[c]=s.instructionFn(m[c],c,d)),g[s.instructionKey]=m[c])}else o+"Fn"in s&&(m=s[o+"Fn"](m,d)),g[s[o+"Key"]]=m;s.addParent&&(g[s.parentKey]=d),d[s.elementsKey].push(g)}}function S(o){if("attributesFn"in s&&o&&(o=s.attributesFn(o,d)),(s.trim||"attributeValueFn"in s||"attributeNameFn"in s||s.nativeTypeAttributes)&&o){var m;for(m in o)if(o.hasOwnProperty(m)&&(s.trim&&(o[m]=o[m].trim()),s.nativeTypeAttributes&&(o[m]=v(o[m])),"attributeValueFn"in s&&(o[m]=s.attributeValueFn(o[m],m,d)),"attributeNameFn"in s)){var c=o[m];delete o[m],o[s.attributeNameFn(m,o[m],d)]=c}}return o}function V(o){var m={};if(o.body&&(o.name.toLowerCase()==="xml"||s.instructionHasAttributes)){for(var c=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,u;(u=c.exec(o.body))!==null;)m[u[1]]=u[2]||u[3]||u[4];m=S(m)}if(o.name.toLowerCase()==="xml"){if(s.ignoreDeclaration)return;d[s.declarationKey]={},Object.keys(m).length&&(d[s.declarationKey][s.attributesKey]=m),s.addParent&&(d[s.declarationKey][s.parentKey]=d)}else{if(s.ignoreInstruction)return;s.trim&&(o.body=o.body.trim());var g={};s.instructionHasAttributes&&Object.keys(m).length?(g[o.name]={},g[o.name][s.attributesKey]=m):g[o.name]=o.body,E("instruction",g)}}function L(o,m){var c;if(typeof o=="object"&&(m=o.attributes,o=o.name),m=S(m),"elementNameFn"in s&&(o=s.elementNameFn(o,d)),s.compact){if(c={},!s.ignoreAttributes&&m&&Object.keys(m).length){c[s.attributesKey]={};var u;for(u in m)m.hasOwnProperty(u)&&(c[s.attributesKey][u]=m[u])}!(o in d)&&(T(s.alwaysArray)?s.alwaysArray.indexOf(o)!==-1:s.alwaysArray)&&(d[o]=[]),d[o]&&!T(d[o])&&(d[o]=[d[o]]),T(d[o])?d[o].push(c):d[o]=c}else d[s.elementsKey]||(d[s.elementsKey]=[]),c={},c[s.typeKey]="element",c[s.nameKey]=o,!s.ignoreAttributes&&m&&Object.keys(m).length&&(c[s.attributesKey]=m),s.alwaysChildren&&(c[s.elementsKey]=[]),d[s.elementsKey].push(c);c[s.parentKey]=d,d=c}function P(o){s.ignoreText||!o.trim()&&!s.captureSpacesBetweenElements||(s.trim&&(o=o.trim()),s.nativeType&&(o=v(o)),s.sanitize&&(o=o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),E("text",o))}function W(o){s.ignoreComment||(s.trim&&(o=o.trim()),E("comment",o))}function Q(o){var m=d[s.parentKey];s.addParent||delete d[s.parentKey],d=m}function J(o){s.ignoreCdata||(s.trim&&(o=o.trim()),E("cdata",o))}function z(o){s.ignoreDoctype||(o=o.replace(/^ /,""),s.trim&&(o=o.trim()),E("doctype",o))}function H(o){o.note=o}return dt=function(o,m){var c=A.parser(!0,{}),u={};if(d=u,s=N(m),c.opt={strictEntities:!0},c.onopentag=L,c.ontext=P,c.oncomment=W,c.onclosetag=Q,c.onerror=H,c.oncdata=J,c.ondoctype=z,c.onprocessinginstruction=V,c.write(o).close(),u[s.elementsKey]){var g=u[s.elementsKey];delete u[s.elementsKey],u[s.elementsKey]=g,delete u.text}return u},dt}var xt,Lt;function Zt(){if(Lt)return xt;Lt=1;var A=vt(),y=qt();function T(s){var d=A.copyOptions(s);return A.ensureSpacesExists(d),d}return xt=function(s,d){var N,v,E,S;return N=T(d),v=y(s,N),S="compact"in N&&N.compact?"_parent":"parent","addParent"in N&&N.addParent?E=JSON.stringify(v,function(V,L){return V===S?"_":L},N.spaces):E=JSON.stringify(v,null,N.spaces),E.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},xt}var wt,kt;function Vt(){if(kt)return wt;kt=1;var A=vt(),y=Nt().isArray,T,s;function d(c){var u=A.copyOptions(c);return A.ensureFlagExists("ignoreDeclaration",u),A.ensureFlagExists("ignoreInstruction",u),A.ensureFlagExists("ignoreAttributes",u),A.ensureFlagExists("ignoreText",u),A.ensureFlagExists("ignoreComment",u),A.ensureFlagExists("ignoreCdata",u),A.ensureFlagExists("ignoreDoctype",u),A.ensureFlagExists("compact",u),A.ensureFlagExists("indentText",u),A.ensureFlagExists("indentCdata",u),A.ensureFlagExists("indentAttributes",u),A.ensureFlagExists("indentInstruction",u),A.ensureFlagExists("fullTagEmptyElement",u),A.ensureFlagExists("noQuotesForNativeAttributes",u),A.ensureSpacesExists(u),typeof u.spaces=="number"&&(u.spaces=Array(u.spaces+1).join(" ")),A.ensureKeyExists("declaration",u),A.ensureKeyExists("instruction",u),A.ensureKeyExists("attributes",u),A.ensureKeyExists("text",u),A.ensureKeyExists("comment",u),A.ensureKeyExists("cdata",u),A.ensureKeyExists("doctype",u),A.ensureKeyExists("type",u),A.ensureKeyExists("name",u),A.ensureKeyExists("elements",u),A.checkFnExists("doctype",u),A.checkFnExists("instruction",u),A.checkFnExists("cdata",u),A.checkFnExists("comment",u),A.checkFnExists("text",u),A.checkFnExists("instructionName",u),A.checkFnExists("elementName",u),A.checkFnExists("attributeName",u),A.checkFnExists("attributeValue",u),A.checkFnExists("attributes",u),A.checkFnExists("fullTagEmptyElement",u),u}function N(c,u,g){return(!g&&c.spaces?`
`:"")+Array(u+1).join(c.spaces)}function v(c,u,g){if(u.ignoreAttributes)return"";"attributesFn"in u&&(c=u.attributesFn(c,s,T));var F,I,_,f,U=[];for(F in c)c.hasOwnProperty(F)&&c[F]!==null&&c[F]!==void 0&&(f=u.noQuotesForNativeAttributes&&typeof c[F]!="string"?"":'"',I=""+c[F],I=I.replace(/"/g,"&quot;"),_="attributeNameFn"in u?u.attributeNameFn(F,I,s,T):F,U.push(u.spaces&&u.indentAttributes?N(u,g+1,!1):" "),U.push(_+"="+f+("attributeValueFn"in u?u.attributeValueFn(I,F,s,T):I)+f));return c&&Object.keys(c).length&&u.spaces&&u.indentAttributes&&U.push(N(u,g,!1)),U.join("")}function E(c,u,g){return T=c,s="xml",u.ignoreDeclaration?"":"<?xml"+v(c[u.attributesKey],u,g)+"?>"}function S(c,u,g){if(u.ignoreInstruction)return"";var F;for(F in c)if(c.hasOwnProperty(F))break;var I="instructionNameFn"in u?u.instructionNameFn(F,c[F],s,T):F;if(typeof c[F]=="object")return T=c,s=I,"<?"+I+v(c[F][u.attributesKey],u,g)+"?>";var _=c[F]?c[F]:"";return"instructionFn"in u&&(_=u.instructionFn(_,F,s,T)),"<?"+I+(_?" "+_:"")+"?>"}function V(c,u){return u.ignoreComment?"":"<!--"+("commentFn"in u?u.commentFn(c,s,T):c)+"-->"}function L(c,u){return u.ignoreCdata?"":"<![CDATA["+("cdataFn"in u?u.cdataFn(c,s,T):c.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function P(c,u){return u.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in u?u.doctypeFn(c,s,T):c)+">"}function W(c,u){return u.ignoreText?"":(c=""+c,c=c.replace(/&amp;/g,"&"),c=c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in u?u.textFn(c,s,T):c)}function Q(c,u){var g;if(c.elements&&c.elements.length)for(g=0;g<c.elements.length;++g)switch(c.elements[g][u.typeKey]){case"text":if(u.indentText)return!0;break;case"cdata":if(u.indentCdata)return!0;break;case"instruction":if(u.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function J(c,u,g){T=c,s=c.name;var F=[],I="elementNameFn"in u?u.elementNameFn(c.name,c):c.name;F.push("<"+I),c[u.attributesKey]&&F.push(v(c[u.attributesKey],u,g));var _=c[u.elementsKey]&&c[u.elementsKey].length||c[u.attributesKey]&&c[u.attributesKey]["xml:space"]==="preserve";return _||("fullTagEmptyElementFn"in u?_=u.fullTagEmptyElementFn(c.name,c):_=u.fullTagEmptyElement),_?(F.push(">"),c[u.elementsKey]&&c[u.elementsKey].length&&(F.push(z(c[u.elementsKey],u,g+1)),T=c,s=c.name),F.push(u.spaces&&Q(c,u)?`
`+Array(g+1).join(u.spaces):""),F.push("</"+I+">")):F.push("/>"),F.join("")}function z(c,u,g,F){return c.reduce(function(I,_){var f=N(u,g,F&&!I);switch(_.type){case"element":return I+f+J(_,u,g);case"comment":return I+f+V(_[u.commentKey],u);case"doctype":return I+f+P(_[u.doctypeKey],u);case"cdata":return I+(u.indentCdata?f:"")+L(_[u.cdataKey],u);case"text":return I+(u.indentText?f:"")+W(_[u.textKey],u);case"instruction":var U={};return U[_[u.nameKey]]=_[u.attributesKey]?_:_[u.instructionKey],I+(u.indentInstruction?f:"")+S(U,u,g)}},"")}function H(c,u,g){var F;for(F in c)if(c.hasOwnProperty(F))switch(F){case u.parentKey:case u.attributesKey:break;case u.textKey:if(u.indentText||g)return!0;break;case u.cdataKey:if(u.indentCdata||g)return!0;break;case u.instructionKey:if(u.indentInstruction||g)return!0;break;case u.doctypeKey:case u.commentKey:return!0;default:return!0}return!1}function o(c,u,g,F,I){T=c,s=u;var _="elementNameFn"in g?g.elementNameFn(u,c):u;if(typeof c>"u"||c===null||c==="")return"fullTagEmptyElementFn"in g&&g.fullTagEmptyElementFn(u,c)||g.fullTagEmptyElement?"<"+_+"></"+_+">":"<"+_+"/>";var f=[];if(u){if(f.push("<"+_),typeof c!="object")return f.push(">"+W(c,g)+"</"+_+">"),f.join("");c[g.attributesKey]&&f.push(v(c[g.attributesKey],g,F));var U=H(c,g,!0)||c[g.attributesKey]&&c[g.attributesKey]["xml:space"]==="preserve";if(U||("fullTagEmptyElementFn"in g?U=g.fullTagEmptyElementFn(u,c):U=g.fullTagEmptyElement),U)f.push(">");else return f.push("/>"),f.join("")}return f.push(m(c,g,F+1,!1)),T=c,s=u,u&&f.push((I?N(g,F,!1):"")+"</"+_+">"),f.join("")}function m(c,u,g,F){var I,_,f,U=[];for(_ in c)if(c.hasOwnProperty(_))for(f=y(c[_])?c[_]:[c[_]],I=0;I<f.length;++I){switch(_){case u.declarationKey:U.push(E(f[I],u,g));break;case u.instructionKey:U.push((u.indentInstruction?N(u,g,F):"")+S(f[I],u,g));break;case u.attributesKey:case u.parentKey:break;case u.textKey:U.push((u.indentText?N(u,g,F):"")+W(f[I],u));break;case u.cdataKey:U.push((u.indentCdata?N(u,g,F):"")+L(f[I],u));break;case u.doctypeKey:U.push(N(u,g,F)+P(f[I],u));break;case u.commentKey:U.push(N(u,g,F)+V(f[I],u));break;default:U.push(N(u,g,F)+o(f[I],_,u,g,H(f[I],u)))}F=F&&!U.length}return U.join("")}return wt=function(c,u){u=d(u);var g=[];return T=c,s="_root_",u.compact?g.push(m(c,u,0,!0)):(c[u.declarationKey]&&g.push(E(c[u.declarationKey],u,0)),c[u.elementsKey]&&c[u.elementsKey].length&&g.push(z(c[u.elementsKey],u,0,!g.length))),g.join("")},wt}var At,Pt;function $t(){if(Pt)return At;Pt=1;var A=Vt();return At=function(y,T){y instanceof Buffer&&(y=y.toString());var s=null;if(typeof y=="string")try{s=JSON.parse(y)}catch{throw new Error("The JSON structure is invalid")}else s=y;return A(s,T)},At}var Ft,Mt;function te(){if(Mt)return Ft;Mt=1;var A=qt(),y=Zt(),T=Vt(),s=$t();return Ft={xml2js:A,xml2json:y,js2xml:T,json2xml:s},Ft}var ee=te();const ie=Gt(ee);export{ie as c};
