import{n as S,b as y,av as Tn,aw as va,d as Re,ar as gn,I as o,au as Aa,at as Qr,ci as Xr,cj as jn,ck as Zr,ag as ga,cl as Kr,cm as Gr,ax as Ne,a1 as $a,M as cn,az as Jr,cc as he,cb as Y,b7 as pa,cn as ei,co as or,cd as ti,ce as ni,cp as ai,cq as jt,aq as lr,cr as sr,b4 as Dn,q as ut,aT as st,aF as ur,b9 as je,c1 as ya,c2 as ba,c3 as wa,T as Ca,c5 as ka,c6 as Da,c9 as xa,b3 as le,cs as ri,D as V,E as X,H as q,c0 as dr,aC as De,aM as Bt,b6 as xn,c4 as Ut,J as cr,K as In,ct as ii,aQ as aa,P as Mn,c8 as fr,cu as hr,aR as Se,R as oi,cv as li,aI as si,O as Va,f as ui,o as di,g as Nt,m as Qe,w as zt,y as fn,j as mt,U as ci,i as Na,t as za,z as fi,B as hi}from"./index-DtXg1mwU.js";import{b as qn,m as mi,l as vi,f as gi,a as pi,e as Yn,u as An}from"./use-locale-1DqEhDbw.js";import{a as ae,i as Ge,g as C}from"./getTime-BAaeOdxt.js";import{X as pt,B as Ee}from"./Button-aLLQBEvM.js";import{N as Wt}from"./Input-U_bmmWoy.js";import{u as mr}from"./use-form-item-85PEBv7I.js";import{_ as yi}from"./Divider-BC2Ea4r8.js";import{_ as bi}from"./InputNumber-CwTKn5eh.js";import{_ as wi}from"./FormItem-DugciXlR.js";import{_ as Ci}from"./Statistic-CVEVsWJ5.js";import"./is-browser-DqcmxZSF.js";import"./color-to-class-B0iQgAn2.js";import"./Remove-DIxQgMAk.js";function Ha(n){return n&-n}class vr{constructor(e,a){this.l=e,this.min=a;const t=new Array(e+1);for(let r=0;r<e+1;++r)t[r]=0;this.ft=t}add(e,a){if(a===0)return;const{l:t,ft:r}=this;for(e+=1;e<=t;)r[e]+=a,e+=Ha(e)}get(e){return this.sum(e+1)-this.sum(e)}sum(e){if(e===void 0&&(e=this.l),e<=0)return 0;const{ft:a,min:t,l:r}=this;if(e>r)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let i=e*t;for(;e>0;)i+=a[e],e-=Ha(e);return i}getBound(e){let a=0,t=this.l;for(;t>a;){const r=Math.floor((a+t)/2),i=this.sum(r);if(i>e){t=r;continue}else if(i<e){if(a===r)return this.sum(a+1)<=e?a+1:r;a=r}else return r}return a}}let wn;function ki(){return typeof document>"u"?!1:(wn===void 0&&("matchMedia"in window?wn=window.matchMedia("(pointer:coarse)").matches:wn=!1),wn)}let Un;function Ea(){return typeof document>"u"?1:(Un===void 0&&(Un="chrome"in window?window.devicePixelRatio:1),Un)}const gr="VVirtualListXScroll";function Di({columnsRef:n,renderColRef:e,renderItemWithColsRef:a}){const t=S(0),r=S(0),i=y(()=>{const s=n.value;if(s.length===0)return null;const h=new vr(s.length,0);return s.forEach((p,k)=>{h.add(k,p.width)}),h}),l=Tn(()=>{const s=i.value;return s!==null?Math.max(s.getBound(r.value)-1,0):0}),u=s=>{const h=i.value;return h!==null?h.sum(s):0},d=Tn(()=>{const s=i.value;return s!==null?Math.min(s.getBound(r.value+t.value)+1,n.value.length-1):0});return va(gr,{startIndexRef:l,endIndexRef:d,columnsRef:n,renderColRef:e,renderItemWithColsRef:a,getLeft:u}),{listWidthRef:t,scrollLeftRef:r}}const Ba=Re({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:n,endIndexRef:e,columnsRef:a,getLeft:t,renderColRef:r,renderItemWithColsRef:i}=gn(gr);return{startIndex:n,endIndex:e,columns:a,renderCol:r,renderItemWithCols:i,getLeft:t}},render(){const{startIndex:n,endIndex:e,columns:a,renderCol:t,renderItemWithCols:r,getLeft:i,item:l}=this;if(r!=null)return r({itemIndex:this.index,startColIndex:n,endColIndex:e,allColumns:a,item:l,getLeft:i});if(t!=null){const u=[];for(let d=n;d<=e;++d){const s=a[d];u.push(t({column:s,left:i(d),item:l}))}return u}return null}}),xi=jn(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[jn("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[jn("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),ra=Re({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(n){const e=Xr();xi.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:Zr,ssr:e}),ga(()=>{const{defaultScrollIndex:g,defaultScrollKey:T}=n;g!=null?x({index:g}):T!=null&&x({key:T})});let a=!1,t=!1;Kr(()=>{if(a=!1,!t){t=!0;return}x({top:O.value,left:l.value})}),Gr(()=>{a=!0,t||(t=!0)});const r=Tn(()=>{if(n.renderCol==null&&n.renderItemWithCols==null||n.columns.length===0)return;let g=0;return n.columns.forEach(T=>{g+=T.width}),g}),i=y(()=>{const g=new Map,{keyField:T}=n;return n.items.forEach((H,G)=>{g.set(H[T],G)}),g}),{scrollLeftRef:l,listWidthRef:u}=Di({columnsRef:Ne(n,"columns"),renderColRef:Ne(n,"renderCol"),renderItemWithColsRef:Ne(n,"renderItemWithCols")}),d=S(null),s=S(void 0),h=new Map,p=y(()=>{const{items:g,itemSize:T,keyField:H}=n,G=new vr(g.length,T);return g.forEach((ie,oe)=>{const W=ie[H],E=h.get(W);E!==void 0&&G.add(oe,E)}),G}),k=S(0),O=S(0),I=Tn(()=>Math.max(p.value.getBound(O.value-$a(n.paddingTop))-1,0)),K=y(()=>{const{value:g}=s;if(g===void 0)return[];const{items:T,itemSize:H}=n,G=I.value,ie=Math.min(G+Math.ceil(g/H+1),T.length-1),oe=[];for(let W=G;W<=ie;++W)oe.push(T[W]);return oe}),x=(g,T)=>{if(typeof g=="number"){F(g,T,"auto");return}const{left:H,top:G,index:ie,key:oe,position:W,behavior:E,debounce:ye=!0}=g;if(H!==void 0||G!==void 0)F(H,G,E);else if(ie!==void 0)U(ie,E,ye);else if(oe!==void 0){const be=i.value.get(oe);be!==void 0&&U(be,E,ye)}else W==="bottom"?F(0,Number.MAX_SAFE_INTEGER,E):W==="top"&&F(0,0,E)};let _,A=null;function U(g,T,H){const{value:G}=p,ie=G.sum(g)+$a(n.paddingTop);if(!H)d.value.scrollTo({left:0,top:ie,behavior:T});else{_=g,A!==null&&window.clearTimeout(A),A=window.setTimeout(()=>{_=void 0,A=null},16);const{scrollTop:oe,offsetHeight:W}=d.value;if(ie>oe){const E=G.get(g);ie+E<=oe+W||d.value.scrollTo({left:0,top:ie+E-W,behavior:T})}else d.value.scrollTo({left:0,top:ie,behavior:T})}}function F(g,T,H){d.value.scrollTo({left:g,top:T,behavior:H})}function re(g,T){var H,G,ie;if(a||n.ignoreItemResize||$(T.target))return;const{value:oe}=p,W=i.value.get(g),E=oe.get(W),ye=(ie=(G=(H=T.borderBoxSize)===null||H===void 0?void 0:H[0])===null||G===void 0?void 0:G.blockSize)!==null&&ie!==void 0?ie:T.contentRect.height;if(ye===E)return;ye-n.itemSize===0?h.delete(g):h.set(g,ye-n.itemSize);const $e=ye-E;if($e===0)return;oe.add(W,$e);const j=d.value;if(j!=null){if(_===void 0){const te=oe.sum(W);j.scrollTop>te&&j.scrollBy(0,$e)}else if(W<_)j.scrollBy(0,$e);else if(W===_){const te=oe.sum(W);ye+te>j.scrollTop+j.offsetHeight&&j.scrollBy(0,$e)}pe()}k.value++}const ee=!ki();let L=!1;function Oe(g){var T;(T=n.onScroll)===null||T===void 0||T.call(n,g),(!ee||!L)&&pe()}function ge(g){var T;if((T=n.onWheel)===null||T===void 0||T.call(n,g),ee){const H=d.value;if(H!=null){if(g.deltaX===0&&(H.scrollTop===0&&g.deltaY<=0||H.scrollTop+H.offsetHeight>=H.scrollHeight&&g.deltaY>=0))return;g.preventDefault(),H.scrollTop+=g.deltaY/Ea(),H.scrollLeft+=g.deltaX/Ea(),pe(),L=!0,Jr(()=>{L=!1})}}}function ke(g){if(a||$(g.target))return;if(n.renderCol==null&&n.renderItemWithCols==null){if(g.contentRect.height===s.value)return}else if(g.contentRect.height===s.value&&g.contentRect.width===u.value)return;s.value=g.contentRect.height,u.value=g.contentRect.width;const{onResize:T}=n;T!==void 0&&T(g)}function pe(){const{value:g}=d;g!=null&&(O.value=g.scrollTop,l.value=g.scrollLeft)}function $(g){let T=g;for(;T!==null;){if(T.style.display==="none")return!0;T=T.parentElement}return!1}return{listHeight:s,listStyle:{overflow:"auto"},keyToIndex:i,itemsStyle:y(()=>{const{itemResizable:g}=n,T=cn(p.value.sum());return k.value,[n.itemsStyle,{boxSizing:"content-box",width:cn(r.value),height:g?"":T,minHeight:g?T:"",paddingTop:cn(n.paddingTop),paddingBottom:cn(n.paddingBottom)}]}),visibleItemsStyle:y(()=>(k.value,{transform:`translateY(${cn(p.value.sum(I.value))})`})),viewportItems:K,listElRef:d,itemsElRef:S(null),scrollTo:x,handleListResize:ke,handleListScroll:Oe,handleListWheel:ge,handleItemResize:re}},render(){const{itemResizable:n,keyField:e,keyToIndex:a,visibleItemsTag:t}=this;return o(Aa,{onResize:this.handleListResize},{default:()=>{var r,i;return o("div",Qr(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?o("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[o(t,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:l,renderItemWithCols:u}=this;return this.viewportItems.map(d=>{const s=d[e],h=a.get(s),p=l!=null?o(Ba,{index:h,item:d}):void 0,k=u!=null?o(Ba,{index:h,item:d}):void 0,O=this.$slots.default({item:d,renderedCols:p,renderedItemWithCols:k,index:h})[0];return n?o(Aa,{key:s,onResize:I=>this.handleItemResize(s,I)},{default:()=>O}):(O.key=s,O)})}})]):(i=(r=this.$slots).empty)===null||i===void 0?void 0:i.call(r)])}})}}),Ti=new WeakSet;function Sn(n){Ti.add(n)}function It(n,...e){const a=he.bind(null,n||e.find(t=>typeof t=="object"));return e.map(a)}let Mi={};function yt(){return Mi}function tt(n,e){const a=yt(),t=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,r=Y(n,e?.in),i=r.getDay(),l=(i<t?7:0)+i-t;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function Si(n,e,a){const[t,r]=It(a?.in,n,e);return+tt(t,a)==+tt(r,a)}const Ri={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},Oi={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_i={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fi={date:qn({formats:Ri,defaultWidth:"full"}),time:qn({formats:Oi,defaultWidth:"full"}),dateTime:qn({formats:_i,defaultWidth:"full"})},Pi={code:"en-GB",formatDistance:pi,formatLong:Fi,formatRelative:gi,localize:vi,match:mi,options:{weekStartsOn:1,firstWeekContainsDate:4}},Qt=Re({name:"Backward",render(){return o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M12.2674 15.793C11.9675 16.0787 11.4927 16.0672 11.2071 15.7673L6.20572 10.5168C5.9298 10.2271 5.9298 9.7719 6.20572 9.48223L11.2071 4.23177C11.4927 3.93184 11.9675 3.92031 12.2674 4.206C12.5673 4.49169 12.5789 4.96642 12.2932 5.26634L7.78458 9.99952L12.2932 14.7327C12.5789 15.0326 12.5673 15.5074 12.2674 15.793Z",fill:"currentColor"}))}}),La=pa("date",()=>o("svg",{width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},o("g",{"fill-rule":"nonzero"},o("path",{d:"M21.75,3 C23.5449254,3 25,4.45507456 25,6.25 L25,21.75 C25,23.5449254 23.5449254,25 21.75,25 L6.25,25 C4.45507456,25 3,23.5449254 3,21.75 L3,6.25 C3,4.45507456 4.45507456,3 6.25,3 L21.75,3 Z M23.5,9.503 L4.5,9.503 L4.5,21.75 C4.5,22.7164983 5.28350169,23.5 6.25,23.5 L21.75,23.5 C22.7164983,23.5 23.5,22.7164983 23.5,21.75 L23.5,9.503 Z M21.75,4.5 L6.25,4.5 C5.28350169,4.5 4.5,5.28350169 4.5,6.25 L4.5,8.003 L23.5,8.003 L23.5,6.25 C23.5,5.28350169 22.7164983,4.5 21.75,4.5 Z"}))))),Xt=Re({name:"FastBackward",render(){return o("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M8.73171,16.7949 C9.03264,17.0795 9.50733,17.0663 9.79196,16.7654 C10.0766,16.4644 10.0634,15.9897 9.76243,15.7051 L4.52339,10.75 L17.2471,10.75 C17.6613,10.75 17.9971,10.4142 17.9971,10 C17.9971,9.58579 17.6613,9.25 17.2471,9.25 L4.52112,9.25 L9.76243,4.29275 C10.0634,4.00812 10.0766,3.53343 9.79196,3.2325 C9.50733,2.93156 9.03264,2.91834 8.73171,3.20297 L2.31449,9.27241 C2.14819,9.4297 2.04819,9.62981 2.01448,9.8386 C2.00308,9.89058 1.99707,9.94459 1.99707,10 C1.99707,10.0576 2.00356,10.1137 2.01585,10.1675 C2.05084,10.3733 2.15039,10.5702 2.31449,10.7254 L8.73171,16.7949 Z"}))))}}),Zt=Re({name:"FastForward",render(){return o("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))}}),Kt=Re({name:"Forward",render(){return o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M7.73271 4.20694C8.03263 3.92125 8.50737 3.93279 8.79306 4.23271L13.7944 9.48318C14.0703 9.77285 14.0703 10.2281 13.7944 10.5178L8.79306 15.7682C8.50737 16.0681 8.03263 16.0797 7.73271 15.794C7.43279 15.5083 7.42125 15.0336 7.70694 14.7336L12.2155 10.0005L7.70694 5.26729C7.42125 4.96737 7.43279 4.49264 7.73271 4.20694Z",fill:"currentColor"}))}}),Ii=pa("time",()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o("path",{d:"M256,64C150,64,64,150,64,256s86,192,192,192,192-86,192-192S362,64,256,64Z",style:`
        fill: none;
        stroke: currentColor;
        stroke-miterlimit: 10;
        stroke-width: 32px;
      `}),o("polyline",{points:"256 128 256 272 352 272",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))),Yi=pa("to",()=>o("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))),Yt=Re({props:{onFocus:Function,onBlur:Function},setup(n){return()=>o("div",{style:"width: 0; height: 0",tabindex:0,onFocus:n.onFocus,onBlur:n.onBlur})}});function Fe(n,e,a){const t=Y(n,a?.in);if(isNaN(e))return he(n,NaN);if(!e)return t;const r=t.getDate(),i=he(n,t.getTime());i.setMonth(t.getMonth()+e+1,0);const l=i.getDate();return r>=l?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function Ai(n,e,a){return he(n,+Y(n)+e)}function Gt(n,e){return tt(n,{...e,weekStartsOn:1})}function pr(n,e){const a=Y(n,e?.in),t=a.getFullYear(),r=he(a,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=Gt(r),l=he(a,0);l.setFullYear(t,0,4),l.setHours(0,0,0,0);const u=Gt(l);return a.getTime()>=i.getTime()?t+1:a.getTime()>=u.getTime()?t:t-1}function Rn(n){const e=Y(n),a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return a.setUTCFullYear(e.getFullYear()),+n-+a}function Jt(n,e){const a=Y(n,e?.in);return a.setHours(0,0,0,0),a}function yr(n,e,a){const[t,r]=It(a?.in,n,e),i=Jt(t),l=Jt(r),u=+i-Rn(i),d=+l-Rn(l);return Math.round((u-d)/ei)}function $i(n,e){const a=pr(n,e),t=he(n,0);return t.setFullYear(a,0,4),t.setHours(0,0,0,0),Gt(t)}function Vi(n,e,a){return Fe(n,e*3,a)}function ia(n,e,a){return Fe(n,e*12,a)}function Ni(n,e,a){const[t,r]=It(a?.in,n,e);return+Jt(t)==+Jt(r)}function zi(n,e){const a=Y(n,e?.in);return Math.trunc(a.getMonth()/3)+1}function vn(n,e){const a=Y(n,e?.in),t=a.getMonth(),r=t-t%3;return a.setMonth(r,1),a.setHours(0,0,0,0),a}function dt(n,e){const a=Y(n,e?.in);return a.setDate(1),a.setHours(0,0,0,0),a}function pn(n,e){const a=Y(n,e?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function Hi(n,e){const a=Y(n,e?.in);return yr(a,pn(a))+1}function br(n,e){const a=Y(n,e?.in),t=+Gt(a)-+$i(a);return Math.round(t/or)+1}function Ta(n,e){const a=Y(n,e?.in),t=a.getFullYear(),r=yt(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=he(e?.in||n,0);l.setFullYear(t+1,0,i),l.setHours(0,0,0,0);const u=tt(l,e),d=he(e?.in||n,0);d.setFullYear(t,0,i),d.setHours(0,0,0,0);const s=tt(d,e);return+a>=+u?t+1:+a>=+s?t:t-1}function Ei(n,e){const a=yt(),t=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,r=Ta(n,e),i=he(e?.in||n,0);return i.setFullYear(r,0,t),i.setHours(0,0,0,0),tt(i,e)}function wr(n,e){const a=Y(n,e?.in),t=+tt(a,e)-+Ei(a,e);return Math.round(t/or)+1}const vt={y(n,e){const a=n.getFullYear(),t=a>0?a:1-a;return ae(e==="yy"?t%100:t,e.length)},M(n,e){const a=n.getMonth();return e==="M"?String(a+1):ae(a+1,2)},d(n,e){return ae(n.getDate(),e.length)},a(n,e){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(n,e){return ae(n.getHours()%12||12,e.length)},H(n,e){return ae(n.getHours(),e.length)},m(n,e){return ae(n.getMinutes(),e.length)},s(n,e){return ae(n.getSeconds(),e.length)},S(n,e){const a=e.length,t=n.getMilliseconds(),r=Math.trunc(t*Math.pow(10,a-3));return ae(r,e.length)}},Ht={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ja={G:function(n,e,a){const t=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})}},y:function(n,e,a){if(e==="yo"){const t=n.getFullYear(),r=t>0?t:1-t;return a.ordinalNumber(r,{unit:"year"})}return vt.y(n,e)},Y:function(n,e,a,t){const r=Ta(n,t),i=r>0?r:1-r;if(e==="YY"){const l=i%100;return ae(l,2)}return e==="Yo"?a.ordinalNumber(i,{unit:"year"}):ae(i,e.length)},R:function(n,e){const a=pr(n);return ae(a,e.length)},u:function(n,e){const a=n.getFullYear();return ae(a,e.length)},Q:function(n,e,a){const t=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(t);case"QQ":return ae(t,2);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})}},q:function(n,e,a){const t=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(t);case"qq":return ae(t,2);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})}},M:function(n,e,a){const t=n.getMonth();switch(e){case"M":case"MM":return vt.M(n,e);case"Mo":return a.ordinalNumber(t+1,{unit:"month"});case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})}},L:function(n,e,a){const t=n.getMonth();switch(e){case"L":return String(t+1);case"LL":return ae(t+1,2);case"Lo":return a.ordinalNumber(t+1,{unit:"month"});case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})}},w:function(n,e,a,t){const r=wr(n,t);return e==="wo"?a.ordinalNumber(r,{unit:"week"}):ae(r,e.length)},I:function(n,e,a){const t=br(n);return e==="Io"?a.ordinalNumber(t,{unit:"week"}):ae(t,e.length)},d:function(n,e,a){return e==="do"?a.ordinalNumber(n.getDate(),{unit:"date"}):vt.d(n,e)},D:function(n,e,a){const t=Hi(n);return e==="Do"?a.ordinalNumber(t,{unit:"dayOfYear"}):ae(t,e.length)},E:function(n,e,a){const t=n.getDay();switch(e){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})}},e:function(n,e,a,t){const r=n.getDay(),i=(r-t.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ae(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})}},c:function(n,e,a,t){const r=n.getDay(),i=(r-t.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ae(i,e.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})}},i:function(n,e,a){const t=n.getDay(),r=t===0?7:t;switch(e){case"i":return String(r);case"ii":return ae(r,e.length);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return a.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(t,{width:"short",context:"formatting"});case"iiii":default:return a.day(t,{width:"wide",context:"formatting"})}},a:function(n,e,a){const r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,a){const t=n.getHours();let r;switch(t===12?r=Ht.noon:t===0?r=Ht.midnight:r=t/12>=1?"pm":"am",e){case"b":case"bb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,e,a){const t=n.getHours();let r;switch(t>=17?r=Ht.evening:t>=12?r=Ht.afternoon:t>=4?r=Ht.morning:r=Ht.night,e){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,e,a){if(e==="ho"){let t=n.getHours()%12;return t===0&&(t=12),a.ordinalNumber(t,{unit:"hour"})}return vt.h(n,e)},H:function(n,e,a){return e==="Ho"?a.ordinalNumber(n.getHours(),{unit:"hour"}):vt.H(n,e)},K:function(n,e,a){const t=n.getHours()%12;return e==="Ko"?a.ordinalNumber(t,{unit:"hour"}):ae(t,e.length)},k:function(n,e,a){let t=n.getHours();return t===0&&(t=24),e==="ko"?a.ordinalNumber(t,{unit:"hour"}):ae(t,e.length)},m:function(n,e,a){return e==="mo"?a.ordinalNumber(n.getMinutes(),{unit:"minute"}):vt.m(n,e)},s:function(n,e,a){return e==="so"?a.ordinalNumber(n.getSeconds(),{unit:"second"}):vt.s(n,e)},S:function(n,e){return vt.S(n,e)},X:function(n,e,a){const t=n.getTimezoneOffset();if(t===0)return"Z";switch(e){case"X":return Ua(t);case"XXXX":case"XX":return Ft(t);case"XXXXX":case"XXX":default:return Ft(t,":")}},x:function(n,e,a){const t=n.getTimezoneOffset();switch(e){case"x":return Ua(t);case"xxxx":case"xx":return Ft(t);case"xxxxx":case"xxx":default:return Ft(t,":")}},O:function(n,e,a){const t=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qa(t,":");case"OOOO":default:return"GMT"+Ft(t,":")}},z:function(n,e,a){const t=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qa(t,":");case"zzzz":default:return"GMT"+Ft(t,":")}},t:function(n,e,a){const t=Math.trunc(+n/1e3);return ae(t,e.length)},T:function(n,e,a){return ae(+n,e.length)}};function qa(n,e=""){const a=n>0?"-":"+",t=Math.abs(n),r=Math.trunc(t/60),i=t%60;return i===0?a+String(r):a+String(r)+e+ae(i,2)}function Ua(n,e){return n%60===0?(n>0?"-":"+")+ae(Math.abs(n)/60,2):Ft(n,e)}function Ft(n,e=""){const a=n>0?"-":"+",t=Math.abs(n),r=ae(Math.trunc(t/60),2),i=ae(t%60,2);return a+r+e+i}const Wa=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Cr=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bi=(n,e)=>{const a=n.match(/(P+)(p+)?/)||[],t=a[1],r=a[2];if(!r)return Wa(n,e);let i;switch(t){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Wa(t,e)).replace("{{time}}",Cr(r,e))},oa={p:Cr,P:Bi},Li=/^D+$/,ji=/^Y+$/,qi=["D","DD","YY","YYYY"];function kr(n){return Li.test(n)}function Dr(n){return ji.test(n)}function la(n,e,a){const t=Ui(n,e,a);if(console.warn(t),qi.includes(n))throw new RangeError(t)}function Ui(n,e,a){const t=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${t} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xi=/^'([^]*?)'?$/,Zi=/''/g,Ki=/[a-zA-Z]/;function J(n,e,a){const t=yt(),r=a?.locale??t.locale??Yn,i=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,l=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,u=Y(n,a?.in);if(!Ge(u))throw new RangeError("Invalid time value");let d=e.match(Qi).map(h=>{const p=h[0];if(p==="p"||p==="P"){const k=oa[p];return k(h,r.formatLong)}return h}).join("").match(Wi).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const p=h[0];if(p==="'")return{isToken:!1,value:Gi(h)};if(ja[p])return{isToken:!0,value:h};if(p.match(Ki))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(d=r.localize.preprocessor(u,d));const s={firstWeekContainsDate:i,weekStartsOn:l,locale:r};return d.map(h=>{if(!h.isToken)return h.value;const p=h.value;(!a?.useAdditionalWeekYearTokens&&Dr(p)||!a?.useAdditionalDayOfYearTokens&&kr(p))&&la(p,e,String(n));const k=ja[p[0]];return k(u,p,r.localize,s)}).join("")}function Gi(n){const e=n.match(Xi);return e?e[1].replace(Zi,"'"):n}const Ji=["years","months","weeks","days","hours","minutes","seconds"];function eo(n,e){const t=yt().locale??Yn,r=Ji,i=" ";return t.formatDistance?r.reduce((u,d)=>{const s=`x${d.replace(/(^.)/,p=>p.toUpperCase())}`,h=n[d];return h!==void 0&&n[d]?u.concat(t.formatDistance(s,h)):u},[]).join(i):""}function to(n,e,a){const[t,r]=It(a?.in,n,e),i=yt(),l=a?.locale??i.locale??Yn,u=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,d=yr(t,r);if(isNaN(d))throw new RangeError("Invalid time value");let s;d<-6?s="other":d<-1?s="lastWeek":d<0?s="yesterday":d<1?s="today":d<2?s="tomorrow":d<7?s="nextWeek":s="other";const h=l.formatRelative(s,t,r,{locale:l,weekStartsOn:u});return J(t,h,{locale:l,weekStartsOn:u})}function Ke(n,e){return Y(n,e?.in).getDate()}function no(n,e){return Y(n,e?.in).getDay()}function ao(n,e){const a=Y(n,e?.in),t=a.getFullYear(),r=a.getMonth(),i=he(a,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function xr(){return Object.assign({},yt())}function gt(n,e){return Y(n,e?.in).getHours()}function ro(n,e){const a=Y(n,e?.in).getDay();return a===0?7:a}function io(n){return Y(n).getMilliseconds()}function On(n,e){return Y(n,e?.in).getMinutes()}function ue(n,e){return Y(n,e?.in).getMonth()}function _n(n){return Y(n).getSeconds()}function de(n,e){return Y(n,e?.in).getFullYear()}function oo(n,e){const a=lo(e)?new e(0):he(e,0);return a.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),a.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),a}function lo(n){return typeof n=="function"&&n.prototype?.constructor===n}const so=10;class Tr{subPriority=0;validate(e,a){return!0}}class uo extends Tr{constructor(e,a,t,r,i){super(),this.value=e,this.validateValue=a,this.setValue=t,this.priority=r,i&&(this.subPriority=i)}validate(e,a){return this.validateValue(e,this.value,a)}set(e,a,t){return this.setValue(e,a,this.value,t)}}class co extends Tr{priority=so;subPriority=-1;constructor(e,a){super(),this.context=e||(t=>he(a,t))}set(e,a){return a.timestampIsSet?e:he(e,oo(e,this.context))}}class Z{run(e,a,t,r){const i=this.parse(e,a,t,r);return i?{setter:new uo(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,a,t){return!0}}class fo extends Z{priority=140;parse(e,a,t){switch(a){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})||t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"})}}set(e,a,t){return a.era=t,e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const we={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ot={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ce(n,e){return n&&{value:e(n.value),rest:n.rest}}function fe(n,e){const a=e.match(n);return a?{value:parseInt(a[0],10),rest:e.slice(a[0].length)}:null}function lt(n,e){const a=e.match(n);if(!a)return null;if(a[0]==="Z")return{value:0,rest:e.slice(1)};const t=a[1]==="+"?1:-1,r=a[2]?parseInt(a[2],10):0,i=a[3]?parseInt(a[3],10):0,l=a[5]?parseInt(a[5],10):0;return{value:t*(r*ti+i*ni+l*ai),rest:e.slice(a[0].length)}}function Mr(n){return fe(we.anyDigitsSigned,n)}function ve(n,e){switch(n){case 1:return fe(we.singleDigit,e);case 2:return fe(we.twoDigits,e);case 3:return fe(we.threeDigits,e);case 4:return fe(we.fourDigits,e);default:return fe(new RegExp("^\\d{1,"+n+"}"),e)}}function Fn(n,e){switch(n){case 1:return fe(we.singleDigitSigned,e);case 2:return fe(we.twoDigitsSigned,e);case 3:return fe(we.threeDigitsSigned,e);case 4:return fe(we.fourDigitsSigned,e);default:return fe(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Ma(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Sr(n,e){const a=e>0,t=a?e:1-e;let r;if(t<=50)r=n||100;else{const i=t+50,l=Math.trunc(i/100)*100,u=n>=i%100;r=n+l-(u?100:0)}return a?r:1-r}function Rr(n){return n%400===0||n%4===0&&n%100!==0}class ho extends Z{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,a,t){const r=i=>({year:i,isTwoDigitYear:a==="yy"});switch(a){case"y":return Ce(ve(4,e),r);case"yo":return Ce(t.ordinalNumber(e,{unit:"year"}),r);default:return Ce(ve(a.length,e),r)}}validate(e,a){return a.isTwoDigitYear||a.year>0}set(e,a,t){const r=e.getFullYear();if(t.isTwoDigitYear){const l=Sr(t.year,r);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const i=!("era"in a)||a.era===1?t.year:1-t.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class mo extends Z{priority=130;parse(e,a,t){const r=i=>({year:i,isTwoDigitYear:a==="YY"});switch(a){case"Y":return Ce(ve(4,e),r);case"Yo":return Ce(t.ordinalNumber(e,{unit:"year"}),r);default:return Ce(ve(a.length,e),r)}}validate(e,a){return a.isTwoDigitYear||a.year>0}set(e,a,t,r){const i=Ta(e,r);if(t.isTwoDigitYear){const u=Sr(t.year,i);return e.setFullYear(u,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),tt(e,r)}const l=!("era"in a)||a.era===1?t.year:1-t.year;return e.setFullYear(l,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),tt(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class vo extends Z{priority=130;parse(e,a){return Fn(a==="R"?4:a.length,e)}set(e,a,t){const r=he(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Gt(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class go extends Z{priority=130;parse(e,a){return Fn(a==="u"?4:a.length,e)}set(e,a,t){return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class po extends Z{priority=120;parse(e,a,t){switch(a){case"Q":case"QQ":return ve(a.length,e);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})||t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,a){return a>=1&&a<=4}set(e,a,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class yo extends Z{priority=120;parse(e,a,t){switch(a){case"q":case"qq":return ve(a.length,e);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})||t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,a){return a>=1&&a<=4}set(e,a,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class bo extends Z{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,a,t){const r=i=>i-1;switch(a){case"M":return Ce(fe(we.month,e),r);case"MM":return Ce(ve(2,e),r);case"Mo":return Ce(t.ordinalNumber(e,{unit:"month"}),r);case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})||t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"})}}validate(e,a){return a>=0&&a<=11}set(e,a,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}class wo extends Z{priority=110;parse(e,a,t){const r=i=>i-1;switch(a){case"L":return Ce(fe(we.month,e),r);case"LL":return Ce(ve(2,e),r);case"Lo":return Ce(t.ordinalNumber(e,{unit:"month"}),r);case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})||t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"})}}validate(e,a){return a>=0&&a<=11}set(e,a,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Co(n,e,a){const t=Y(n,a?.in),r=wr(t,a)-e;return t.setDate(t.getDate()-r*7),Y(t,a?.in)}class ko extends Z{priority=100;parse(e,a,t){switch(a){case"w":return fe(we.week,e);case"wo":return t.ordinalNumber(e,{unit:"week"});default:return ve(a.length,e)}}validate(e,a){return a>=1&&a<=53}set(e,a,t,r){return tt(Co(e,t,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Do(n,e,a){const t=Y(n,a?.in),r=br(t,a)-e;return t.setDate(t.getDate()-r*7),t}class xo extends Z{priority=100;parse(e,a,t){switch(a){case"I":return fe(we.week,e);case"Io":return t.ordinalNumber(e,{unit:"week"});default:return ve(a.length,e)}}validate(e,a){return a>=1&&a<=53}set(e,a,t){return Gt(Do(e,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const To=[31,28,31,30,31,30,31,31,30,31,30,31],Mo=[31,29,31,30,31,30,31,31,30,31,30,31];class So extends Z{priority=90;subPriority=1;parse(e,a,t){switch(a){case"d":return fe(we.date,e);case"do":return t.ordinalNumber(e,{unit:"date"});default:return ve(a.length,e)}}validate(e,a){const t=e.getFullYear(),r=Rr(t),i=e.getMonth();return r?a>=1&&a<=Mo[i]:a>=1&&a<=To[i]}set(e,a,t){return e.setDate(t),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Ro extends Z{priority=90;subpriority=1;parse(e,a,t){switch(a){case"D":case"DD":return fe(we.dayOfYear,e);case"Do":return t.ordinalNumber(e,{unit:"date"});default:return ve(a.length,e)}}validate(e,a){const t=e.getFullYear();return Rr(t)?a>=1&&a<=366:a>=1&&a<=365}set(e,a,t){return e.setMonth(0,t),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Sa(n,e,a){const t=yt(),r=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Y(n,a?.in),l=i.getDay(),d=(e%7+7)%7,s=7-r,h=e<0||e>6?e-(l+s)%7:(d+s)%7-(l+s)%7;return jt(i,h,a)}class Oo extends Z{priority=90;parse(e,a,t){switch(a){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,a){return a>=0&&a<=6}set(e,a,t,r){return e=Sa(e,t,r),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class _o extends Z{priority=90;parse(e,a,t,r){const i=l=>{const u=Math.floor((l-1)/7)*7;return(l+r.weekStartsOn+6)%7+u};switch(a){case"e":case"ee":return Ce(ve(a.length,e),i);case"eo":return Ce(t.ordinalNumber(e,{unit:"day"}),i);case"eee":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeeee":return t.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,a){return a>=0&&a<=6}set(e,a,t,r){return e=Sa(e,t,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Fo extends Z{priority=90;parse(e,a,t,r){const i=l=>{const u=Math.floor((l-1)/7)*7;return(l+r.weekStartsOn+6)%7+u};switch(a){case"c":case"cc":return Ce(ve(a.length,e),i);case"co":return Ce(t.ordinalNumber(e,{unit:"day"}),i);case"ccc":return t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"ccccc":return t.day(e,{width:"narrow",context:"standalone"});case"cccccc":return t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(e,{width:"wide",context:"standalone"})||t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"})}}validate(e,a){return a>=0&&a<=6}set(e,a,t,r){return e=Sa(e,t,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Po(n,e,a){const t=Y(n,a?.in),r=ro(t,a),i=e-r;return jt(t,i,a)}class Io extends Z{priority=90;parse(e,a,t){const r=i=>i===0?7:i;switch(a){case"i":case"ii":return ve(a.length,e);case"io":return t.ordinalNumber(e,{unit:"day"});case"iii":return Ce(t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Ce(t.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Ce(t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),r);case"iiii":default:return Ce(t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,a){return a>=1&&a<=7}set(e,a,t){return e=Po(e,t),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Yo extends Z{priority=80;parse(e,a,t){switch(a){case"a":case"aa":case"aaa":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,a,t){return e.setHours(Ma(t),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class Ao extends Z{priority=80;parse(e,a,t){switch(a){case"b":case"bb":case"bbb":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,a,t){return e.setHours(Ma(t),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class $o extends Z{priority=80;parse(e,a,t){switch(a){case"B":case"BB":case"BBB":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,a,t){return e.setHours(Ma(t),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class Vo extends Z{priority=70;parse(e,a,t){switch(a){case"h":return fe(we.hour12h,e);case"ho":return t.ordinalNumber(e,{unit:"hour"});default:return ve(a.length,e)}}validate(e,a){return a>=1&&a<=12}set(e,a,t){const r=e.getHours()>=12;return r&&t<12?e.setHours(t+12,0,0,0):!r&&t===12?e.setHours(0,0,0,0):e.setHours(t,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class No extends Z{priority=70;parse(e,a,t){switch(a){case"H":return fe(we.hour23h,e);case"Ho":return t.ordinalNumber(e,{unit:"hour"});default:return ve(a.length,e)}}validate(e,a){return a>=0&&a<=23}set(e,a,t){return e.setHours(t,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class zo extends Z{priority=70;parse(e,a,t){switch(a){case"K":return fe(we.hour11h,e);case"Ko":return t.ordinalNumber(e,{unit:"hour"});default:return ve(a.length,e)}}validate(e,a){return a>=0&&a<=11}set(e,a,t){return e.getHours()>=12&&t<12?e.setHours(t+12,0,0,0):e.setHours(t,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class Ho extends Z{priority=70;parse(e,a,t){switch(a){case"k":return fe(we.hour24h,e);case"ko":return t.ordinalNumber(e,{unit:"hour"});default:return ve(a.length,e)}}validate(e,a){return a>=1&&a<=24}set(e,a,t){const r=t<=24?t%24:t;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class Eo extends Z{priority=60;parse(e,a,t){switch(a){case"m":return fe(we.minute,e);case"mo":return t.ordinalNumber(e,{unit:"minute"});default:return ve(a.length,e)}}validate(e,a){return a>=0&&a<=59}set(e,a,t){return e.setMinutes(t,0,0),e}incompatibleTokens=["t","T"]}class Bo extends Z{priority=50;parse(e,a,t){switch(a){case"s":return fe(we.second,e);case"so":return t.ordinalNumber(e,{unit:"second"});default:return ve(a.length,e)}}validate(e,a){return a>=0&&a<=59}set(e,a,t){return e.setSeconds(t,0),e}incompatibleTokens=["t","T"]}class Lo extends Z{priority=30;parse(e,a){const t=r=>Math.trunc(r*Math.pow(10,-a.length+3));return Ce(ve(a.length,e),t)}set(e,a,t){return e.setMilliseconds(t),e}incompatibleTokens=["t","T"]}class jo extends Z{priority=10;parse(e,a){switch(a){case"X":return lt(ot.basicOptionalMinutes,e);case"XX":return lt(ot.basic,e);case"XXXX":return lt(ot.basicOptionalSeconds,e);case"XXXXX":return lt(ot.extendedOptionalSeconds,e);case"XXX":default:return lt(ot.extended,e)}}set(e,a,t){return a.timestampIsSet?e:he(e,e.getTime()-Rn(e)-t)}incompatibleTokens=["t","T","x"]}class qo extends Z{priority=10;parse(e,a){switch(a){case"x":return lt(ot.basicOptionalMinutes,e);case"xx":return lt(ot.basic,e);case"xxxx":return lt(ot.basicOptionalSeconds,e);case"xxxxx":return lt(ot.extendedOptionalSeconds,e);case"xxx":default:return lt(ot.extended,e)}}set(e,a,t){return a.timestampIsSet?e:he(e,e.getTime()-Rn(e)-t)}incompatibleTokens=["t","T","X"]}class Uo extends Z{priority=40;parse(e){return Mr(e)}set(e,a,t){return[he(e,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Wo extends Z{priority=20;parse(e){return Mr(e)}set(e,a,t){return[he(e,t),{timestampIsSet:!0}]}incompatibleTokens="*"}const Qo={G:new fo,y:new ho,Y:new mo,R:new vo,u:new go,Q:new po,q:new yo,M:new bo,L:new wo,w:new ko,I:new xo,d:new So,D:new Ro,E:new Oo,e:new _o,c:new Fo,i:new Io,a:new Yo,b:new Ao,B:new $o,h:new Vo,H:new No,K:new zo,k:new Ho,m:new Eo,s:new Bo,S:new Lo,X:new jo,x:new qo,t:new Uo,T:new Wo},Xo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ko=/^'([^]*?)'?$/,Go=/''/g,Jo=/\S/,el=/[a-zA-Z]/;function tl(n,e,a,t){const r=()=>he(t?.in||a,NaN),i=xr(),l=t?.locale??i.locale??Yn,u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!e)return n?r():Y(a,t?.in);const s={firstWeekContainsDate:u,weekStartsOn:d,locale:l},h=[new co(t?.in,a)],p=e.match(Zo).map(x=>{const _=x[0];if(_ in oa){const A=oa[_];return A(x,l.formatLong)}return x}).join("").match(Xo),k=[];for(let x of p){!t?.useAdditionalWeekYearTokens&&Dr(x)&&la(x,e,n),!t?.useAdditionalDayOfYearTokens&&kr(x)&&la(x,e,n);const _=x[0],A=Qo[_];if(A){const{incompatibleTokens:U}=A;if(Array.isArray(U)){const re=k.find(ee=>U.includes(ee.token)||ee.token===_);if(re)throw new RangeError(`The format string mustn't contain \`${re.fullToken}\` and \`${x}\` at the same time`)}else if(A.incompatibleTokens==="*"&&k.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);k.push({token:_,fullToken:x});const F=A.run(n,x,l.match,s);if(!F)return r();h.push(F.setter),n=F.rest}else{if(_.match(el))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(x==="''"?x="'":_==="'"&&(x=nl(x)),n.indexOf(x)===0)n=n.slice(x.length);else return r()}}if(n.length>0&&Jo.test(n))return r();const O=h.map(x=>x.priority).sort((x,_)=>_-x).filter((x,_,A)=>A.indexOf(x)===_).map(x=>h.filter(_=>_.priority===x).sort((_,A)=>A.subPriority-_.subPriority)).map(x=>x[0]);let I=Y(a,t?.in);if(isNaN(+I))return r();const K={};for(const x of O){if(!x.validate(I,s))return r();const _=x.set(I,K,s);Array.isArray(_)?(I=_[0],Object.assign(K,_[1])):I=_}return I}function nl(n){return n.match(Ko)[1].replace(Go,"'")}function al(n,e){const a=Y(n,e?.in);return a.setMinutes(0,0,0),a}function rl(n,e){const a=Y(n,e?.in);return a.setSeconds(0,0),a}function yn(n,e,a){const[t,r]=It(a?.in,n,e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function Or(n,e,a){const[t,r]=It(a?.in,n,e);return+vn(t)==+vn(r)}function Ra(n,e){const a=Y(n,e?.in);return a.setMilliseconds(0),a}function _r(n,e,a){const[t,r]=It(a?.in,n,e);return t.getFullYear()===r.getFullYear()}function Oa(n,e,a){const t=Y(n,a?.in),r=t.getFullYear(),i=t.getDate(),l=he(n,0);l.setFullYear(r,e,15),l.setHours(0,0,0,0);const u=ao(l);return t.setMonth(e,Math.min(i,u)),t}function Pe(n,e,a){let t=Y(n,a?.in);return isNaN(+t)?he(n,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Oa(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function _t(n,e,a){const t=Y(n,a?.in);return t.setHours(e),t}function Wn(n,e,a){const t=Y(n,a?.in);return t.setMinutes(e),t}function il(n,e,a){const t=Y(n,a?.in),r=Math.trunc(t.getMonth()/3)+1,i=e-r;return Oa(t,t.getMonth()+i*3)}function Qn(n,e,a){const t=Y(n,a?.in);return t.setSeconds(e),t}function sa(n,e,a){const t=Y(n,a?.in);return isNaN(+t)?he(n,NaN):(t.setFullYear(e),t)}const ol={date:Ni,month:yn,year:_r,quarter:Or};function ll(n){return(e,a)=>{const t=sl(n);return Si(e,a,{weekStartsOn:t})}}function sl(n){return(n+1)%7}function ze(n,e,a,t=0){return(a==="week"?ll(t):ol[a])(n,e)}function Xn(n,e,a,t,r,i){return r==="date"?ul(n,e,a,t):dl(n,e,a,t,i)}function ul(n,e,a,t){let r=!1,i=!1,l=!1;Array.isArray(a)&&(a[0]<n&&n<a[1]&&(r=!0),ze(a[0],n,"date")&&(i=!0),ze(a[1],n,"date")&&(l=!0));const u=a!==null&&(Array.isArray(a)?ze(a[0],n,"date")||ze(a[1],n,"date"):ze(a,n,"date"));return{type:"date",dateObject:{date:Ke(n),month:ue(n),year:de(n)},inCurrentMonth:yn(n,e),isCurrentDate:ze(t,n,"date"),inSpan:r,inSelectedWeek:!1,startOfSpan:i,endOfSpan:l,selected:u,ts:C(n)}}function Fr(n,e,a){const t=new Date(2e3,n,1).getTime();return J(t,e,{locale:a})}function Pr(n,e,a){const t=new Date(n,1,1).getTime();return J(t,e,{locale:a})}function Ir(n,e,a){const t=new Date(2e3,n*3-2,1).getTime();return J(t,e,{locale:a})}function dl(n,e,a,t,r){let i=!1,l=!1,u=!1;Array.isArray(a)&&(a[0]<n&&n<a[1]&&(i=!0),ze(a[0],n,"week",r)&&(l=!0),ze(a[1],n,"week",r)&&(u=!0));const d=a!==null&&(Array.isArray(a)?ze(a[0],n,"week",r)||ze(a[1],n,"week",r):ze(a,n,"week",r));return{type:"date",dateObject:{date:Ke(n),month:ue(n),year:de(n)},inCurrentMonth:yn(n,e),isCurrentDate:ze(t,n,"date"),inSpan:i,startOfSpan:l,endOfSpan:u,selected:!1,inSelectedWeek:d,ts:C(n)}}function cl(n,e,a,{monthFormat:t}){return{type:"month",monthFormat:t,dateObject:{month:ue(n),year:de(n)},isCurrent:yn(a,n),selected:e!==null&&ze(e,n,"month"),ts:C(n)}}function fl(n,e,a,{yearFormat:t}){return{type:"year",yearFormat:t,dateObject:{year:de(n)},isCurrent:_r(a,n),selected:e!==null&&ze(e,n,"year"),ts:C(n)}}function hl(n,e,a,{quarterFormat:t}){return{type:"quarter",quarterFormat:t,dateObject:{quarter:zi(n),year:de(n)},isCurrent:Or(a,n),selected:e!==null&&ze(e,n,"quarter"),ts:C(n)}}function ua(n,e,a,t,r=!1,i=!1){const l=i?"week":"date",u=ue(n);let d=C(dt(n)),s=C(jt(d,-1));const h=[];let p=!r;for(;no(s)!==t||p;)h.unshift(Xn(s,n,e,a,l,t)),s=C(jt(s,-1)),p=!1;for(;ue(d)===u;)h.push(Xn(d,n,e,a,l,t)),d=C(jt(d,1));const k=r?h.length<=28?28:h.length<=35?35:42:42;for(;h.length<k;)h.push(Xn(d,n,e,a,l,t)),d=C(jt(d,1));return h}function da(n,e,a,t){const r=[],i=pn(n);for(let l=0;l<12;l++)r.push(cl(C(Fe(i,l)),e,a,t));return r}function ca(n,e,a,t){const r=[],i=pn(n);for(let l=0;l<4;l++)r.push(hl(C(Vi(i,l)),e,a,t));return r}function fa(n,e,a,t){const r=t.value,i=[],l=pn(sa(new Date,r[0]));for(let u=0;u<r[1]-r[0];u++)i.push(fl(C(ia(l,u)),n,e,a));return i}function Le(n,e,a,t){const r=tl(n,e,a,t);return Ge(r)?J(r,e,t)===n?r:new Date(Number.NaN):r}function ml(n,e){const a=e(n);return qt(a)}function Qa(n,e,a,t){const r=e(n,a,t);return qt(r)}function qt(n){if(n===void 0)return;if(typeof n=="number")return n;const[e,a,t]=n.split(":");return{hours:Number(e),minutes:Number(a),seconds:Number(t)}}function Et(n,e){return Array.isArray(n)?n[e==="start"?0:1]:null}const $n=lr("n-date-picker"),Pt=40,vl="HH:mm:ss",Yr={active:Boolean,dateFormat:String,calendarDayFormat:String,calendarHeaderYearFormat:String,calendarHeaderMonthFormat:String,calendarHeaderMonthYearSeparator:{type:String,required:!0},calendarHeaderMonthBeforeYear:{type:Boolean,default:void 0},timePickerFormat:{type:String,value:vl},value:{type:[Array,Number],default:null},shortcuts:Object,defaultTime:[Number,String,Array,Function],inputReadonly:Boolean,onClear:Function,onConfirm:Function,onClose:Function,onTabOut:Function,onKeydown:Function,actions:Array,onUpdateValue:{type:Function,required:!0},themeClass:String,onRender:Function,panel:Boolean,onNextMonth:Function,onPrevMonth:Function,onNextYear:Function,onPrevYear:Function};function Ar(n){const{dateLocaleRef:e,timePickerSizeRef:a,timePickerPropsRef:t,localeRef:r,mergedClsPrefixRef:i,mergedThemeRef:l}=gn($n),u=y(()=>({locale:e.value.locale})),d=S(null),s=sr();function h(){const{onClear:$}=n;$&&$()}function p(){const{onConfirm:$,value:g}=n;$&&$(g)}function k($,g){const{onUpdateValue:T}=n;T($,g)}function O($=!1){const{onClose:g}=n;g&&g($)}function I(){const{onTabOut:$}=n;$&&$()}function K(){k(null,!0),O(!0),h()}function x(){I()}function _(){(n.active||n.panel)&&Dn(()=>{const{value:$}=d;if(!$)return;const g=$.querySelectorAll("[data-n-date]");g.forEach(T=>{T.classList.add("transition-disabled")}),$.offsetWidth,g.forEach(T=>{T.classList.remove("transition-disabled")})})}function A($){$.key==="Tab"&&$.target===d.value&&s.shift&&($.preventDefault(),I())}function U($){const{value:g}=d;s.tab&&$.target===g&&g?.contains($.relatedTarget)&&I()}let F=null,re=!1;function ee(){F=n.value,re=!0}function L(){re=!1}function Oe(){re&&(k(F,!1),re=!1)}function ge($){return typeof $=="function"?$():$}const ke=S(!1);function pe(){ke.value=!ke.value}return{mergedTheme:l,mergedClsPrefix:i,dateFnsOptions:u,timePickerSize:a,timePickerProps:t,selfRef:d,locale:r,doConfirm:p,doClose:O,doUpdateValue:k,doTabOut:I,handleClearClick:K,handleFocusDetectorFocus:x,disableTransitionOneTick:_,handlePanelKeyDown:A,handlePanelFocus:U,cachePendingValue:ee,clearPendingValue:L,restorePendingValue:Oe,getShortcutValue:ge,handleShortcutMouseleave:Oe,showMonthYearPanel:ke,handleOpenQuickSelectMonthPanel:pe}}const _a=Object.assign(Object.assign({},Yr),{defaultCalendarStartTime:Number,actions:{type:Array,default:()=>["now","clear","confirm"]}});function Fa(n,e){var a;const t=Ar(n),{isValueInvalidRef:r,isDateDisabledRef:i,isDateInvalidRef:l,isTimeInvalidRef:u,isDateTimeInvalidRef:d,isHourDisabledRef:s,isMinuteDisabledRef:h,isSecondDisabledRef:p,localeRef:k,firstDayOfWeekRef:O,datePickerSlots:I,yearFormatRef:K,monthFormatRef:x,quarterFormatRef:_,yearRangeRef:A}=gn($n),U={isValueInvalid:r,isDateDisabled:i,isDateInvalid:l,isTimeInvalid:u,isDateTimeInvalid:d,isHourDisabled:s,isMinuteDisabled:h,isSecondDisabled:p},F=y(()=>n.dateFormat||k.value.dateFormat),re=y(()=>n.calendarDayFormat||k.value.dayFormat),ee=S(n.value===null||Array.isArray(n.value)?"":J(n.value,F.value)),L=S(n.value===null||Array.isArray(n.value)?(a=n.defaultCalendarStartTime)!==null&&a!==void 0?a:Date.now():n.value),Oe=S(null),ge=S(null),ke=S(null),pe=S(Date.now()),$=y(()=>{var v;return ua(L.value,n.value,pe.value,(v=O.value)!==null&&v!==void 0?v:k.value.firstDayOfWeek,!1,e==="week")}),g=y(()=>{const{value:v}=n;return da(L.value,Array.isArray(v)?null:v,pe.value,{monthFormat:x.value})}),T=y(()=>{const{value:v}=n;return fa(Array.isArray(v)?null:v,pe.value,{yearFormat:K.value},A)}),H=y(()=>{const{value:v}=n;return ca(L.value,Array.isArray(v)?null:v,pe.value,{quarterFormat:_.value})}),G=y(()=>$.value.slice(0,7).map(v=>{const{ts:P}=v;return J(P,re.value,t.dateFnsOptions.value)})),ie=y(()=>J(L.value,n.calendarHeaderMonthFormat||k.value.monthFormat,t.dateFnsOptions.value)),oe=y(()=>J(L.value,n.calendarHeaderYearFormat||k.value.yearFormat,t.dateFnsOptions.value)),W=y(()=>{var v;return(v=n.calendarHeaderMonthBeforeYear)!==null&&v!==void 0?v:k.value.monthBeforeYear});ut(L,(v,P)=>{(e==="date"||e==="datetime")&&(yn(v,P)||t.disableTransitionOneTick())}),ut(y(()=>n.value),v=>{v!==null&&!Array.isArray(v)?(ee.value=J(v,F.value,t.dateFnsOptions.value),L.value=v):ee.value=""});function E(v){var P;if(e==="datetime")return C(Ra(v));if(e==="month")return C(dt(v));if(e==="year")return C(pn(v));if(e==="quarter")return C(vn(v));if(e==="week"){const ne=(((P=O.value)!==null&&P!==void 0?P:k.value.firstDayOfWeek)+1)%7;return C(tt(v,{weekStartsOn:ne}))}return C(Jt(v))}function ye(v,P){const{isDateDisabled:{value:ne}}=U;return ne?ne(v,P):!1}function be(v){const P=Le(v,F.value,new Date,t.dateFnsOptions.value);if(Ge(P)){if(n.value===null)t.doUpdateValue(C(E(Date.now())),n.panel);else if(!Array.isArray(n.value)){const ne=Pe(n.value,{year:de(P),month:ue(P),date:Ke(P)});t.doUpdateValue(C(E(C(ne))),n.panel)}}else ee.value=v}function $e(){const v=Le(ee.value,F.value,new Date,t.dateFnsOptions.value);if(Ge(v)){if(n.value===null)t.doUpdateValue(C(E(Date.now())),!1);else if(!Array.isArray(n.value)){const P=Pe(n.value,{year:de(v),month:ue(v),date:Ke(v)});t.doUpdateValue(C(E(C(P))),!1)}}else Ve()}function j(){t.doUpdateValue(null,!0),ee.value="",t.doClose(!0),t.handleClearClick()}function te(){t.doUpdateValue(C(E(Date.now())),!0);const v=Date.now();L.value=v,t.doClose(!0),n.panel&&(e==="month"||e==="quarter"||e==="year")&&(t.disableTransitionOneTick(),Je(v))}const Ie=S(null);function xe(v){v.type==="date"&&e==="week"&&(Ie.value=E(C(v.ts)))}function qe(v){return v.type==="date"&&e==="week"?E(C(v.ts))===Ie.value:!1}function Ye(v){if(ye(v.ts,v.type==="date"?{type:"date",year:v.dateObject.year,month:v.dateObject.month,date:v.dateObject.date}:v.type==="month"?{type:"month",year:v.dateObject.year,month:v.dateObject.month}:v.type==="year"?{type:"year",year:v.dateObject.year}:{type:"quarter",year:v.dateObject.year,quarter:v.dateObject.quarter}))return;let P;if(n.value!==null&&!Array.isArray(n.value)?P=n.value:P=Date.now(),e==="datetime"&&n.defaultTime!==null&&!Array.isArray(n.defaultTime)){let ne;typeof n.defaultTime=="function"?ne=ml(v.ts,n.defaultTime):ne=qt(n.defaultTime),ne&&(P=C(Pe(P,ne)))}switch(P=C(v.type==="quarter"&&v.dateObject.quarter?il(sa(P,v.dateObject.year),v.dateObject.quarter):Pe(P,v.dateObject)),t.doUpdateValue(E(P),n.panel||e==="date"||e==="week"||e==="year"),e){case"date":case"week":t.doClose();break;case"year":n.panel&&t.disableTransitionOneTick(),t.doClose();break;case"month":t.disableTransitionOneTick(),Je(P);break;case"quarter":t.disableTransitionOneTick(),Je(P);break}}function ct(v,P){let ne;n.value!==null&&!Array.isArray(n.value)?ne=n.value:ne=Date.now(),ne=C(v.type==="month"?Oa(ne,v.dateObject.month):sa(ne,v.dateObject.year)),P(ne),Je(ne)}function Q(v){L.value=v}function Ve(v){if(n.value===null||Array.isArray(n.value)){ee.value="";return}v===void 0&&(v=n.value),ee.value=J(v,F.value,t.dateFnsOptions.value)}function nt(){U.isDateInvalid.value||U.isTimeInvalid.value||(t.doConfirm(),ft())}function ft(){n.active&&t.doClose()}function bt(){var v;L.value=C(ia(L.value,1)),(v=n.onNextYear)===null||v===void 0||v.call(n)}function wt(){var v;L.value=C(ia(L.value,-1)),(v=n.onPrevYear)===null||v===void 0||v.call(n)}function Ct(){var v;L.value=C(Fe(L.value,1)),(v=n.onNextMonth)===null||v===void 0||v.call(n)}function kt(){var v;L.value=C(Fe(L.value,-1)),(v=n.onPrevMonth)===null||v===void 0||v.call(n)}function Dt(){const{value:v}=Oe;return v?.listElRef||null}function xt(){const{value:v}=Oe;return v?.itemsElRef||null}function ht(){var v;(v=ge.value)===null||v===void 0||v.sync()}function Xe(v){v!==null&&t.doUpdateValue(v,n.panel)}function Tt(v){t.cachePendingValue();const P=t.getShortcutValue(v);typeof P=="number"&&t.doUpdateValue(P,!1)}function Mt(v){const P=t.getShortcutValue(v);typeof P=="number"&&(t.doUpdateValue(P,n.panel),t.clearPendingValue(),nt())}function Je(v){const{value:P}=n;if(ke.value){const ne=ue(v===void 0?P===null?Date.now():P:v);ke.value.scrollTo({top:ne*Pt})}if(Oe.value){const ne=de(v===void 0?P===null?Date.now():P:v)-A.value[0];Oe.value.scrollTo({top:ne*Pt})}}const Be={monthScrollbarRef:ke,yearScrollbarRef:ge,yearVlRef:Oe};return Object.assign(Object.assign(Object.assign(Object.assign({dateArray:$,monthArray:g,yearArray:T,quarterArray:H,calendarYear:oe,calendarMonth:ie,weekdays:G,calendarMonthBeforeYear:W,mergedIsDateDisabled:ye,nextYear:bt,prevYear:wt,nextMonth:Ct,prevMonth:kt,handleNowClick:te,handleConfirmClick:nt,handleSingleShortcutMouseenter:Tt,handleSingleShortcutClick:Mt},U),t),Be),{handleDateClick:Ye,handleDateInputBlur:$e,handleDateInput:be,handleDateMouseEnter:xe,isWeekHovered:qe,handleTimePickerChange:Xe,clearSelectedDateTime:j,virtualListContainer:Dt,virtualListContent:xt,handleVirtualListScroll:ht,timePickerSize:t.timePickerSize,dateInputValue:ee,datePickerSlots:I,handleQuickMonthClick:ct,justifyColumnsScrollState:Je,calendarValue:L,onUpdateCalendarValue:Q})}const $r=Re({name:"MonthPanel",props:Object.assign(Object.assign({},_a),{type:{type:String,required:!0},useAsQuickJump:Boolean}),setup(n){const e=Fa(n,n.type),{dateLocaleRef:a}=An("DatePicker"),t=l=>{switch(l.type){case"year":return Pr(l.dateObject.year,l.yearFormat,a.value.locale);case"month":return Fr(l.dateObject.month,l.monthFormat,a.value.locale);case"quarter":return Ir(l.dateObject.quarter,l.quarterFormat,a.value.locale)}},{useAsQuickJump:r}=n,i=(l,u,d)=>{const{mergedIsDateDisabled:s,handleDateClick:h,handleQuickMonthClick:p}=e;return o("div",{"data-n-date":!0,key:u,class:[`${d}-date-panel-month-calendar__picker-col-item`,l.isCurrent&&`${d}-date-panel-month-calendar__picker-col-item--current`,l.selected&&`${d}-date-panel-month-calendar__picker-col-item--selected`,!r&&s(l.ts,l.type==="year"?{type:"year",year:l.dateObject.year}:l.type==="month"?{type:"month",year:l.dateObject.year,month:l.dateObject.month}:l.type==="quarter"?{type:"month",year:l.dateObject.year,month:l.dateObject.quarter}:null)&&`${d}-date-panel-month-calendar__picker-col-item--disabled`],onClick:()=>{r?p(l,k=>{n.onUpdateValue(k,!1)}):h(l)}},t(l))};return ga(()=>{e.justifyColumnsScrollState()}),Object.assign(Object.assign({},e),{renderItem:i})},render(){const{mergedClsPrefix:n,mergedTheme:e,shortcuts:a,actions:t,renderItem:r,type:i,onRender:l}=this;return l?.(),o("div",{ref:"selfRef",tabindex:0,class:[`${n}-date-panel`,`${n}-date-panel--month`,!this.panel&&`${n}-date-panel--shadow`,this.themeClass],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},o("div",{class:`${n}-date-panel-month-calendar`},o(st,{ref:"yearScrollbarRef",class:`${n}-date-panel-month-calendar__picker-col`,theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar,container:this.virtualListContainer,content:this.virtualListContent,horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>o(ra,{ref:"yearVlRef",items:this.yearArray,itemSize:Pt,showScrollbar:!1,keyField:"ts",onScroll:this.handleVirtualListScroll,paddingBottom:4},{default:({item:u,index:d})=>r(u,d,n)})}),i==="month"||i==="quarter"?o("div",{class:`${n}-date-panel-month-calendar__picker-col`},o(st,{ref:"monthScrollbarRef",theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar},{default:()=>[(i==="month"?this.monthArray:this.quarterArray).map((u,d)=>r(u,d,n)),o("div",{class:`${n}-date-panel-${i}-calendar__padding`})]})):null),ur(this.datePickerSlots.footer,u=>u?o("div",{class:`${n}-date-panel-footer`},u):null),t?.length||a?o("div",{class:`${n}-date-panel-actions`},o("div",{class:`${n}-date-panel-actions__prefix`},a&&Object.keys(a).map(u=>{const d=a[u];return Array.isArray(d)?null:o(pt,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(d)},onClick:()=>{this.handleSingleShortcutClick(d)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>u})})),o("div",{class:`${n}-date-panel-actions__suffix`},t?.includes("clear")?je(this.datePickerSlots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[o(Ee,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,t?.includes("now")?je(this.datePickerSlots.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[o(Ee,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null,t?.includes("confirm")?je(this.datePickerSlots.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isDateInvalid,text:this.locale.confirm},()=>[o(Ee,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,o(Yt,{onFocus:this.handleFocusDetectorFocus}))}}),en=Re({props:{mergedClsPrefix:{type:String,required:!0},value:Number,monthBeforeYear:{type:Boolean,required:!0},monthYearSeparator:{type:String,required:!0},calendarMonth:{type:String,required:!0},calendarYear:{type:String,required:!0},onUpdateValue:{type:Function,required:!0}},setup(){const n=S(null),e=S(null),a=S(!1);function t(i){var l;a.value&&!(!((l=n.value)===null||l===void 0)&&l.contains(xa(i)))&&(a.value=!1)}function r(){a.value=!a.value}return{show:a,triggerRef:n,monthPanelRef:e,handleHeaderClick:r,handleClickOutside:t}},render(){const{handleClickOutside:n,mergedClsPrefix:e}=this;return o("div",{class:`${e}-date-panel-month__month-year`,ref:"triggerRef"},o(ya,null,{default:()=>[o(ba,null,{default:()=>o("div",{class:[`${e}-date-panel-month__text`,this.show&&`${e}-date-panel-month__text--active`],onClick:this.handleHeaderClick},this.monthBeforeYear?[this.calendarMonth,this.monthYearSeparator,this.calendarYear]:[this.calendarYear,this.monthYearSeparator,this.calendarMonth])}),o(wa,{show:this.show,teleportDisabled:!0},{default:()=>o(Ca,{name:"fade-in-scale-up-transition",appear:!0},{default:()=>this.show?ka(o($r,{ref:"monthPanelRef",onUpdateValue:this.onUpdateValue,actions:[],calendarHeaderMonthYearSeparator:this.monthYearSeparator,type:"month",key:"month",useAsQuickJump:!0,value:this.value}),[[Da,n,void 0,{capture:!0}]]):null})})]}))}}),gl=Re({name:"DatePanel",props:Object.assign(Object.assign({},_a),{type:{type:String,required:!0}}),setup(n){return Fa(n,n.type)},render(){var n,e,a;const{mergedClsPrefix:t,mergedTheme:r,shortcuts:i,onRender:l,datePickerSlots:u,type:d}=this;return l?.(),o("div",{ref:"selfRef",tabindex:0,class:[`${t}-date-panel`,`${t}-date-panel--${d}`,!this.panel&&`${t}-date-panel--shadow`,this.themeClass],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},o("div",{class:`${t}-date-panel-calendar`},o("div",{class:`${t}-date-panel-month`},o("div",{class:`${t}-date-panel-month__fast-prev`,onClick:this.prevYear},le(u["prev-year"],()=>[o(Xt,null)])),o("div",{class:`${t}-date-panel-month__prev`,onClick:this.prevMonth},le(u["prev-month"],()=>[o(Qt,null)])),o(en,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:t,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),o("div",{class:`${t}-date-panel-month__next`,onClick:this.nextMonth},le(u["next-month"],()=>[o(Kt,null)])),o("div",{class:`${t}-date-panel-month__fast-next`,onClick:this.nextYear},le(u["next-year"],()=>[o(Zt,null)]))),o("div",{class:`${t}-date-panel-weekdays`},this.weekdays.map(s=>o("div",{key:s,class:`${t}-date-panel-weekdays__day`},s))),o("div",{class:`${t}-date-panel-dates`},this.dateArray.map((s,h)=>o("div",{"data-n-date":!0,key:h,class:[`${t}-date-panel-date`,{[`${t}-date-panel-date--current`]:s.isCurrentDate,[`${t}-date-panel-date--selected`]:s.selected,[`${t}-date-panel-date--excluded`]:!s.inCurrentMonth,[`${t}-date-panel-date--disabled`]:this.mergedIsDateDisabled(s.ts,{type:"date",year:s.dateObject.year,month:s.dateObject.month,date:s.dateObject.date}),[`${t}-date-panel-date--week-hovered`]:this.isWeekHovered(s),[`${t}-date-panel-date--week-selected`]:s.inSelectedWeek}],onClick:()=>{this.handleDateClick(s)},onMouseenter:()=>{this.handleDateMouseEnter(s)}},o("div",{class:`${t}-date-panel-date__trigger`}),s.dateObject.date,s.isCurrentDate?o("div",{class:`${t}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?o("div",{class:`${t}-date-panel-footer`},this.datePickerSlots.footer()):null,!((n=this.actions)===null||n===void 0)&&n.length||i?o("div",{class:`${t}-date-panel-actions`},o("div",{class:`${t}-date-panel-actions__prefix`},i&&Object.keys(i).map(s=>{const h=i[s];return Array.isArray(h)?null:o(pt,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(h)},onClick:()=>{this.handleSingleShortcutClick(h)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>s})})),o("div",{class:`${t}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?je(this.$slots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[o(Ee,{theme:r.peers.Button,themeOverrides:r.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((a=this.actions)===null||a===void 0)&&a.includes("now")?je(this.$slots.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[o(Ee,{theme:r.peers.Button,themeOverrides:r.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null)):null,o(Yt,{onFocus:this.handleFocusDetectorFocus}))}}),Pa=Object.assign(Object.assign({},Yr),{defaultCalendarStartTime:Number,defaultCalendarEndTime:Number,bindCalendarMonths:Boolean,actions:{type:Array,default:()=>["clear","confirm"]}});function Ia(n,e){var a,t;const{isDateDisabledRef:r,isStartHourDisabledRef:i,isEndHourDisabledRef:l,isStartMinuteDisabledRef:u,isEndMinuteDisabledRef:d,isStartSecondDisabledRef:s,isEndSecondDisabledRef:h,isStartDateInvalidRef:p,isEndDateInvalidRef:k,isStartTimeInvalidRef:O,isEndTimeInvalidRef:I,isStartValueInvalidRef:K,isEndValueInvalidRef:x,isRangeInvalidRef:_,localeRef:A,rangesRef:U,closeOnSelectRef:F,updateValueOnCloseRef:re,firstDayOfWeekRef:ee,datePickerSlots:L,monthFormatRef:Oe,yearFormatRef:ge,quarterFormatRef:ke,yearRangeRef:pe}=gn($n),$={isDateDisabled:r,isStartHourDisabled:i,isEndHourDisabled:l,isStartMinuteDisabled:u,isEndMinuteDisabled:d,isStartSecondDisabled:s,isEndSecondDisabled:h,isStartDateInvalid:p,isEndDateInvalid:k,isStartTimeInvalid:O,isEndTimeInvalid:I,isStartValueInvalid:K,isEndValueInvalid:x,isRangeInvalid:_},g=Ar(n),T=S(null),H=S(null),G=S(null),ie=S(null),oe=S(null),W=S(null),E=S(null),ye=S(null),{value:be}=n,$e=(a=n.defaultCalendarStartTime)!==null&&a!==void 0?a:Array.isArray(be)&&typeof be[0]=="number"?be[0]:Date.now(),j=S($e),te=S((t=n.defaultCalendarEndTime)!==null&&t!==void 0?t:Array.isArray(be)&&typeof be[1]=="number"?be[1]:C(Fe($e,1)));_e(!0);const Ie=S(Date.now()),xe=S(!1),qe=S(0),Ye=y(()=>n.dateFormat||A.value.dateFormat),ct=y(()=>n.calendarDayFormat||A.value.dayFormat),Q=S(Array.isArray(be)?J(be[0],Ye.value,g.dateFnsOptions.value):""),Ve=S(Array.isArray(be)?J(be[1],Ye.value,g.dateFnsOptions.value):""),nt=y(()=>xe.value?"end":"start"),ft=y(()=>{var c;return ua(j.value,n.value,Ie.value,(c=ee.value)!==null&&c!==void 0?c:A.value.firstDayOfWeek)}),bt=y(()=>{var c;return ua(te.value,n.value,Ie.value,(c=ee.value)!==null&&c!==void 0?c:A.value.firstDayOfWeek)}),wt=y(()=>ft.value.slice(0,7).map(c=>{const{ts:w}=c;return J(w,ct.value,g.dateFnsOptions.value)})),Ct=y(()=>J(j.value,n.calendarHeaderMonthFormat||A.value.monthFormat,g.dateFnsOptions.value)),kt=y(()=>J(te.value,n.calendarHeaderMonthFormat||A.value.monthFormat,g.dateFnsOptions.value)),Dt=y(()=>J(j.value,n.calendarHeaderYearFormat||A.value.yearFormat,g.dateFnsOptions.value)),xt=y(()=>J(te.value,n.calendarHeaderYearFormat||A.value.yearFormat,g.dateFnsOptions.value)),ht=y(()=>{const{value:c}=n;return Array.isArray(c)?c[0]:null}),Xe=y(()=>{const{value:c}=n;return Array.isArray(c)?c[1]:null}),Tt=y(()=>{const{shortcuts:c}=n;return c||U.value}),Mt=y(()=>fa(Et(n.value,"start"),Ie.value,{yearFormat:ge.value},pe)),Je=y(()=>fa(Et(n.value,"end"),Ie.value,{yearFormat:ge.value},pe)),Be=y(()=>{const c=Et(n.value,"start");return ca(c??Date.now(),c,Ie.value,{quarterFormat:ke.value})}),v=y(()=>{const c=Et(n.value,"end");return ca(c??Date.now(),c,Ie.value,{quarterFormat:ke.value})}),P=y(()=>{const c=Et(n.value,"start");return da(c??Date.now(),c,Ie.value,{monthFormat:Oe.value})}),ne=y(()=>{const c=Et(n.value,"end");return da(c??Date.now(),c,Ie.value,{monthFormat:Oe.value})}),tn=y(()=>{var c;return(c=n.calendarHeaderMonthBeforeYear)!==null&&c!==void 0?c:A.value.monthBeforeYear});ut(y(()=>n.value),c=>{if(c!==null&&Array.isArray(c)){const[w,R]=c;Q.value=J(w,Ye.value,g.dateFnsOptions.value),Ve.value=J(R,Ye.value,g.dateFnsOptions.value),xe.value||B(c)}else Q.value="",Ve.value=""});function St(c,w){(e==="daterange"||e==="datetimerange")&&(de(c)!==de(w)||ue(c)!==ue(w))&&g.disableTransitionOneTick()}ut(j,St),ut(te,St);function _e(c){const w=dt(j.value),R=dt(te.value);(n.bindCalendarMonths||w>=R)&&(c?te.value=C(Fe(w,1)):j.value=C(Fe(R,-1)))}function Ze(){j.value=C(Fe(j.value,12)),_e(!0)}function Rt(){j.value=C(Fe(j.value,-12)),_e(!0)}function Ot(){j.value=C(Fe(j.value,1)),_e(!0)}function Ue(){j.value=C(Fe(j.value,-1)),_e(!0)}function At(){te.value=C(Fe(te.value,12)),_e(!1)}function at(){te.value=C(Fe(te.value,-12)),_e(!1)}function $t(){te.value=C(Fe(te.value,1)),_e(!1)}function rt(){te.value=C(Fe(te.value,-1)),_e(!1)}function m(c){j.value=c,_e(!0)}function M(c){te.value=c,_e(!1)}function N(c){const w=r.value;if(!w)return!1;if(!Array.isArray(n.value)||nt.value==="start")return w(c,"start",null);{const{value:R}=qe;return c<qe.value?w(c,"start",[R,R]):w(c,"end",[R,R])}}function B(c){if(c===null)return;const[w,R]=c;j.value=w,dt(R)<=dt(w)?te.value=C(dt(Fe(w,1))):te.value=C(dt(R))}function We(c){if(!xe.value)xe.value=!0,qe.value=c.ts,Te(c.ts,c.ts,"done");else{xe.value=!1;const{value:w}=n;n.panel&&Array.isArray(w)?Te(w[0],w[1],"done"):F.value&&e==="daterange"&&(re.value?b():f())}}function Ae(c){if(xe.value){if(N(c.ts))return;c.ts>=qe.value?Te(qe.value,c.ts,"wipPreview"):Te(c.ts,qe.value,"wipPreview")}}function f(){_.value||(g.doConfirm(),b())}function b(){xe.value=!1,n.active&&g.doClose()}function D(c){typeof c!="number"&&(c=C(c)),n.value===null?g.doUpdateValue([c,c],n.panel):Array.isArray(n.value)&&g.doUpdateValue([c,Math.max(n.value[1],c)],n.panel)}function z(c){typeof c!="number"&&(c=C(c)),n.value===null?g.doUpdateValue([c,c],n.panel):Array.isArray(n.value)&&g.doUpdateValue([Math.min(n.value[0],c),c],n.panel)}function Te(c,w,R){if(typeof c!="number"&&(c=C(c)),R!=="shortcutPreview"&&R!=="shortcutDone"){let Me,et;if(e==="datetimerange"){const{defaultTime:se}=n;typeof se=="function"?(Me=Qa(c,se,"start",[c,w]),et=Qa(w,se,"end",[c,w])):Array.isArray(se)?(Me=qt(se[0]),et=qt(se[1])):(Me=qt(se),et=Me)}Me&&(c=C(Pe(c,Me))),et&&(w=C(Pe(w,et)))}g.doUpdateValue([c,w],n.panel&&(R==="done"||R==="shortcutDone"))}function ce(c){return e==="datetimerange"?C(Ra(c)):e==="monthrange"?C(dt(c)):C(Jt(c))}function me(c){const w=Le(c,Ye.value,new Date,g.dateFnsOptions.value);if(Ge(w))if(n.value){if(Array.isArray(n.value)){const R=Pe(n.value[0],{year:de(w),month:ue(w),date:Ke(w)});D(ce(C(R)))}}else{const R=Pe(new Date,{year:de(w),month:ue(w),date:Ke(w)});D(ce(C(R)))}else Q.value=c}function nn(c){const w=Le(c,Ye.value,new Date,g.dateFnsOptions.value);if(Ge(w)){if(n.value===null){const R=Pe(new Date,{year:de(w),month:ue(w),date:Ke(w)});z(ce(C(R)))}else if(Array.isArray(n.value)){const R=Pe(n.value[1],{year:de(w),month:ue(w),date:Ke(w)});z(ce(C(R)))}}else Ve.value=c}function an(){const c=Le(Q.value,Ye.value,new Date,g.dateFnsOptions.value),{value:w}=n;if(Ge(c)){if(w===null){const R=Pe(new Date,{year:de(c),month:ue(c),date:Ke(c)});D(ce(C(R)))}else if(Array.isArray(w)){const R=Pe(w[0],{year:de(c),month:ue(c),date:Ke(c)});D(ce(C(R)))}}else Vt()}function rn(){const c=Le(Ve.value,Ye.value,new Date,g.dateFnsOptions.value),{value:w}=n;if(Ge(c)){if(w===null){const R=Pe(new Date,{year:de(c),month:ue(c),date:Ke(c)});z(ce(C(R)))}else if(Array.isArray(w)){const R=Pe(w[1],{year:de(c),month:ue(c),date:Ke(c)});z(ce(C(R)))}}else Vt()}function Vt(c){const{value:w}=n;if(w===null||!Array.isArray(w)){Q.value="",Ve.value="";return}c===void 0&&(c=w),Q.value=J(c[0],Ye.value,g.dateFnsOptions.value),Ve.value=J(c[1],Ye.value,g.dateFnsOptions.value)}function on(c){c!==null&&D(c)}function ln(c){c!==null&&z(c)}function sn(c){g.cachePendingValue();const w=g.getShortcutValue(c);Array.isArray(w)&&Te(w[0],w[1],"shortcutPreview")}function Vn(c){const w=g.getShortcutValue(c);Array.isArray(w)&&(Te(w[0],w[1],"shortcutDone"),g.clearPendingValue(),f())}function it(c,w){const R=c===void 0?n.value:c;if(c===void 0||w==="start"){if(E.value){const Me=Array.isArray(R)?ue(R[0]):ue(Date.now());E.value.scrollTo({debounce:!1,index:Me,elSize:Pt})}if(oe.value){const Me=(Array.isArray(R)?de(R[0]):de(Date.now()))-pe.value[0];oe.value.scrollTo({index:Me,debounce:!1})}}if(c===void 0||w==="end"){if(ye.value){const Me=Array.isArray(R)?ue(R[1]):ue(Date.now());ye.value.scrollTo({debounce:!1,index:Me,elSize:Pt})}if(W.value){const Me=(Array.isArray(R)?de(R[1]):de(Date.now()))-pe.value[0];W.value.scrollTo({index:Me,debounce:!1})}}}function Nn(c,w){const{value:R}=n,Me=!Array.isArray(R),et=c.type==="year"&&e!=="yearrange"?Me?Pe(c.ts,{month:ue(e==="quarterrange"?vn(new Date):new Date)}).valueOf():Pe(c.ts,{month:ue(e==="quarterrange"?vn(R[w==="start"?0:1]):R[w==="start"?0:1])}).valueOf():c.ts;if(Me){const bn=ce(et),dn=[bn,bn];g.doUpdateValue(dn,n.panel),it(dn,"start"),it(dn,"end"),g.disableTransitionOneTick();return}const se=[R[0],R[1]];let un=!1;switch(w==="start"?(se[0]=ce(et),se[0]>se[1]&&(se[1]=se[0],un=!0)):(se[1]=ce(et),se[0]>se[1]&&(se[0]=se[1],un=!0)),g.doUpdateValue(se,n.panel),e){case"monthrange":case"quarterrange":g.disableTransitionOneTick(),un?(it(se,"start"),it(se,"end")):it(se,w);break;case"yearrange":g.disableTransitionOneTick(),it(se,"start"),it(se,"end")}}function zn(){var c;(c=G.value)===null||c===void 0||c.sync()}function Hn(){var c;(c=ie.value)===null||c===void 0||c.sync()}function En(c){var w,R;return c==="start"?((w=oe.value)===null||w===void 0?void 0:w.listElRef)||null:((R=W.value)===null||R===void 0?void 0:R.listElRef)||null}function Bn(c){var w,R;return c==="start"?((w=oe.value)===null||w===void 0?void 0:w.itemsElRef)||null:((R=W.value)===null||R===void 0?void 0:R.itemsElRef)||null}const Ln={startYearVlRef:oe,endYearVlRef:W,startMonthScrollbarRef:E,endMonthScrollbarRef:ye,startYearScrollbarRef:G,endYearScrollbarRef:ie};return Object.assign(Object.assign(Object.assign(Object.assign({startDatesElRef:T,endDatesElRef:H,handleDateClick:We,handleColItemClick:Nn,handleDateMouseEnter:Ae,handleConfirmClick:f,startCalendarPrevYear:Rt,startCalendarPrevMonth:Ue,startCalendarNextYear:Ze,startCalendarNextMonth:Ot,endCalendarPrevYear:at,endCalendarPrevMonth:rt,endCalendarNextMonth:$t,endCalendarNextYear:At,mergedIsDateDisabled:N,changeStartEndTime:Te,ranges:U,calendarMonthBeforeYear:tn,startCalendarMonth:Ct,startCalendarYear:Dt,endCalendarMonth:kt,endCalendarYear:xt,weekdays:wt,startDateArray:ft,endDateArray:bt,startYearArray:Mt,startMonthArray:P,startQuarterArray:Be,endYearArray:Je,endMonthArray:ne,endQuarterArray:v,isSelecting:xe,handleRangeShortcutMouseenter:sn,handleRangeShortcutClick:Vn},g),$),Ln),{startDateDisplayString:Q,endDateInput:Ve,timePickerSize:g.timePickerSize,startTimeValue:ht,endTimeValue:Xe,datePickerSlots:L,shortcuts:Tt,startCalendarDateTime:j,endCalendarDateTime:te,justifyColumnsScrollState:it,handleFocusDetectorFocus:g.handleFocusDetectorFocus,handleStartTimePickerChange:on,handleEndTimePickerChange:ln,handleStartDateInput:me,handleStartDateInputBlur:an,handleEndDateInput:nn,handleEndDateInputBlur:rn,handleStartYearVlScroll:zn,handleEndYearVlScroll:Hn,virtualListContainer:En,virtualListContent:Bn,onUpdateStartCalendarValue:m,onUpdateEndCalendarValue:M})}const pl=Re({name:"DateRangePanel",props:Pa,setup(n){return Ia(n,"daterange")},render(){var n,e,a;const{mergedClsPrefix:t,mergedTheme:r,shortcuts:i,onRender:l,datePickerSlots:u}=this;return l?.(),o("div",{ref:"selfRef",tabindex:0,class:[`${t}-date-panel`,`${t}-date-panel--daterange`,!this.panel&&`${t}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},o("div",{ref:"startDatesElRef",class:`${t}-date-panel-calendar ${t}-date-panel-calendar--start`},o("div",{class:`${t}-date-panel-month`},o("div",{class:`${t}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},le(u["prev-year"],()=>[o(Xt,null)])),o("div",{class:`${t}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},le(u["prev-month"],()=>[o(Qt,null)])),o(en,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:t,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),o("div",{class:`${t}-date-panel-month__next`,onClick:this.startCalendarNextMonth},le(u["next-month"],()=>[o(Kt,null)])),o("div",{class:`${t}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},le(u["next-year"],()=>[o(Zt,null)]))),o("div",{class:`${t}-date-panel-weekdays`},this.weekdays.map(d=>o("div",{key:d,class:`${t}-date-panel-weekdays__day`},d))),o("div",{class:`${t}-date-panel__divider`}),o("div",{class:`${t}-date-panel-dates`},this.startDateArray.map((d,s)=>o("div",{"data-n-date":!0,key:s,class:[`${t}-date-panel-date`,{[`${t}-date-panel-date--excluded`]:!d.inCurrentMonth,[`${t}-date-panel-date--current`]:d.isCurrentDate,[`${t}-date-panel-date--selected`]:d.selected,[`${t}-date-panel-date--covered`]:d.inSpan,[`${t}-date-panel-date--start`]:d.startOfSpan,[`${t}-date-panel-date--end`]:d.endOfSpan,[`${t}-date-panel-date--disabled`]:this.mergedIsDateDisabled(d.ts)}],onClick:()=>{this.handleDateClick(d)},onMouseenter:()=>{this.handleDateMouseEnter(d)}},o("div",{class:`${t}-date-panel-date__trigger`}),d.dateObject.date,d.isCurrentDate?o("div",{class:`${t}-date-panel-date__sup`}):null)))),o("div",{class:`${t}-date-panel__vertical-divider`}),o("div",{ref:"endDatesElRef",class:`${t}-date-panel-calendar ${t}-date-panel-calendar--end`},o("div",{class:`${t}-date-panel-month`},o("div",{class:`${t}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},le(u["prev-year"],()=>[o(Xt,null)])),o("div",{class:`${t}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},le(u["prev-month"],()=>[o(Qt,null)])),o(en,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:t,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),o("div",{class:`${t}-date-panel-month__next`,onClick:this.endCalendarNextMonth},le(u["next-month"],()=>[o(Kt,null)])),o("div",{class:`${t}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},le(u["next-year"],()=>[o(Zt,null)]))),o("div",{class:`${t}-date-panel-weekdays`},this.weekdays.map(d=>o("div",{key:d,class:`${t}-date-panel-weekdays__day`},d))),o("div",{class:`${t}-date-panel__divider`}),o("div",{class:`${t}-date-panel-dates`},this.endDateArray.map((d,s)=>o("div",{"data-n-date":!0,key:s,class:[`${t}-date-panel-date`,{[`${t}-date-panel-date--excluded`]:!d.inCurrentMonth,[`${t}-date-panel-date--current`]:d.isCurrentDate,[`${t}-date-panel-date--selected`]:d.selected,[`${t}-date-panel-date--covered`]:d.inSpan,[`${t}-date-panel-date--start`]:d.startOfSpan,[`${t}-date-panel-date--end`]:d.endOfSpan,[`${t}-date-panel-date--disabled`]:this.mergedIsDateDisabled(d.ts)}],onClick:()=>{this.handleDateClick(d)},onMouseenter:()=>{this.handleDateMouseEnter(d)}},o("div",{class:`${t}-date-panel-date__trigger`}),d.dateObject.date,d.isCurrentDate?o("div",{class:`${t}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?o("div",{class:`${t}-date-panel-footer`},this.datePickerSlots.footer()):null,!((n=this.actions)===null||n===void 0)&&n.length||i?o("div",{class:`${t}-date-panel-actions`},o("div",{class:`${t}-date-panel-actions__prefix`},i&&Object.keys(i).map(d=>{const s=i[d];return Array.isArray(s)||typeof s=="function"?o(pt,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(s)},onClick:()=>{this.handleRangeShortcutClick(s)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>d}):null})),o("div",{class:`${t}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?je(u.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[o(Ee,{theme:r.peers.Button,themeOverrides:r.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((a=this.actions)===null||a===void 0)&&a.includes("confirm")?je(u.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isRangeInvalid||this.isSelecting,text:this.locale.confirm},()=>[o(Ee,{theme:r.peers.Button,themeOverrides:r.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid||this.isSelecting,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,o(Yt,{onFocus:this.handleFocusDetectorFocus}))}});function Xa(n,e,a){const t=xr(),r=wl(n,a.timeZone,a.locale??t.locale);return"formatToParts"in r?yl(r,e):bl(r,e)}function yl(n,e){const a=n.formatToParts(e);for(let t=a.length-1;t>=0;--t)if(a[t].type==="timeZoneName")return a[t].value}function bl(n,e){const a=n.format(e).replace(/\u200E/g,""),t=/ [\w-+ ]+$/.exec(a);return t?t[0].substr(1):""}function wl(n,e,a){return new Intl.DateTimeFormat(a?[a.code,"en-US"]:void 0,{timeZone:e,timeZoneName:n})}function Cl(n,e){const a=Ml(e);return"formatToParts"in a?Dl(a,n):xl(a,n)}const kl={year:0,month:1,day:2,hour:3,minute:4,second:5};function Dl(n,e){try{const a=n.formatToParts(e),t=[];for(let r=0;r<a.length;r++){const i=kl[a[r].type];i!==void 0&&(t[i]=parseInt(a[r].value,10))}return t}catch(a){if(a instanceof RangeError)return[NaN];throw a}}function xl(n,e){const a=n.format(e),t=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[parseInt(t[3],10),parseInt(t[1],10),parseInt(t[2],10),parseInt(t[4],10),parseInt(t[5],10),parseInt(t[6],10)]}const Zn={},Za=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Tl=Za==="06/25/2014, 00:00:00"||Za==="06/25/2014 00:00:00";function Ml(n){return Zn[n]||(Zn[n]=Tl?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:n,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Zn[n]}function Vr(n,e,a,t,r,i,l){const u=new Date(0);return u.setUTCFullYear(n,e,a),u.setUTCHours(t,r,i,l),u}const Ka=36e5,Sl=6e4,Kn={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ya(n,e,a){if(!n)return 0;let t=Kn.timezoneZ.exec(n);if(t)return 0;let r,i;if(t=Kn.timezoneHH.exec(n),t)return r=parseInt(t[1],10),Ga(r)?-(r*Ka):NaN;if(t=Kn.timezoneHHMM.exec(n),t){r=parseInt(t[2],10);const l=parseInt(t[3],10);return Ga(r,l)?(i=Math.abs(r)*Ka+l*Sl,t[1]==="+"?-i:i):NaN}if(_l(n)){e=new Date(e||Date.now());const l=a?e:Rl(e),u=ha(l,n);return-(a?u:Ol(e,u,n))}return NaN}function Rl(n){return Vr(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function ha(n,e){const a=Cl(n,e),t=Vr(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime();let r=n.getTime();const i=r%1e3;return r-=i>=0?i:1e3+i,t-r}function Ol(n,e,a){let r=n.getTime()-e;const i=ha(new Date(r),a);if(e===i)return e;r-=i-e;const l=ha(new Date(r),a);return i===l?i:Math.max(i,l)}function Ga(n,e){return-23<=n&&n<=23&&(e==null||0<=e&&e<=59)}const Ja={};function _l(n){if(Ja[n])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:n}),Ja[n]=!0,!0}catch{return!1}}const Fl=60*1e3,Pl={X:function(n,e,a){const t=Gn(a.timeZone,n);if(t===0)return"Z";switch(e){case"X":return er(t);case"XXXX":case"XX":return Lt(t);case"XXXXX":case"XXX":default:return Lt(t,":")}},x:function(n,e,a){const t=Gn(a.timeZone,n);switch(e){case"x":return er(t);case"xxxx":case"xx":return Lt(t);case"xxxxx":case"xxx":default:return Lt(t,":")}},O:function(n,e,a){const t=Gn(a.timeZone,n);switch(e){case"O":case"OO":case"OOO":return"GMT"+Il(t,":");case"OOOO":default:return"GMT"+Lt(t,":")}},z:function(n,e,a){switch(e){case"z":case"zz":case"zzz":return Xa("short",n,a);case"zzzz":default:return Xa("long",n,a)}}};function Gn(n,e){const a=n?Ya(n,e,!0)/Fl:e?.getTimezoneOffset()??0;if(Number.isNaN(a))throw new RangeError("Invalid time zone specified: "+n);return a}function Pn(n,e){const a=n<0?"-":"";let t=Math.abs(n).toString();for(;t.length<e;)t="0"+t;return a+t}function Lt(n,e=""){const a=n>0?"-":"+",t=Math.abs(n),r=Pn(Math.floor(t/60),2),i=Pn(Math.floor(t%60),2);return a+r+e+i}function er(n,e){return n%60===0?(n>0?"-":"+")+Pn(Math.abs(n)/60,2):Lt(n,e)}function Il(n,e=""){const a=n>0?"-":"+",t=Math.abs(n),r=Math.floor(t/60),i=t%60;return i===0?a+String(r):a+String(r)+e+Pn(i,2)}function tr(n){const e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+n-+e}const Yl=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Jn=36e5,nr=6e4,Al=2,He={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Yl};function Nr(n,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(n===null)return new Date(NaN);const a=e.additionalDigits==null?Al:Number(e.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]")return new Date(n.getTime());if(typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]")return new Date(n);if(Object.prototype.toString.call(n)!=="[object String]")return new Date(NaN);const t=$l(n),{year:r,restDateString:i}=Vl(t.date,a),l=Nl(i,r);if(l===null||isNaN(l.getTime()))return new Date(NaN);if(l){const u=l.getTime();let d=0,s;if(t.time&&(d=zl(t.time),d===null||isNaN(d)))return new Date(NaN);if(t.timeZone||e.timeZone){if(s=Ya(t.timeZone||e.timeZone,new Date(u+d)),isNaN(s))return new Date(NaN)}else s=tr(new Date(u+d)),s=tr(new Date(u+d+s));return new Date(u+d+s)}else return new Date(NaN)}function $l(n){const e={};let a=He.dateTimePattern.exec(n),t;if(a?(e.date=a[1],t=a[3]):(a=He.datePattern.exec(n),a?(e.date=a[1],t=a[2]):(e.date=null,t=n)),t){const r=He.timeZone.exec(t);r?(e.time=t.replace(r[1],""),e.timeZone=r[1].trim()):e.time=t}return e}function Vl(n,e){if(n){const a=He.YYY[e],t=He.YYYYY[e];let r=He.YYYY.exec(n)||t.exec(n);if(r){const i=r[1];return{year:parseInt(i,10),restDateString:n.slice(i.length)}}if(r=He.YY.exec(n)||a.exec(n),r){const i=r[1];return{year:parseInt(i,10)*100,restDateString:n.slice(i.length)}}}return{year:null}}function Nl(n,e){if(e===null)return null;let a,t,r;if(!n||!n.length)return a=new Date(0),a.setUTCFullYear(e),a;let i=He.MM.exec(n);if(i)return a=new Date(0),t=parseInt(i[1],10)-1,rr(e,t)?(a.setUTCFullYear(e,t),a):new Date(NaN);if(i=He.DDD.exec(n),i){a=new Date(0);const l=parseInt(i[1],10);return Bl(e,l)?(a.setUTCFullYear(e,0,l),a):new Date(NaN)}if(i=He.MMDD.exec(n),i){a=new Date(0),t=parseInt(i[1],10)-1;const l=parseInt(i[2],10);return rr(e,t,l)?(a.setUTCFullYear(e,t,l),a):new Date(NaN)}if(i=He.Www.exec(n),i)return r=parseInt(i[1],10)-1,ir(r)?ar(e,r):new Date(NaN);if(i=He.WwwD.exec(n),i){r=parseInt(i[1],10)-1;const l=parseInt(i[2],10)-1;return ir(r,l)?ar(e,r,l):new Date(NaN)}return null}function zl(n){let e,a,t=He.HH.exec(n);if(t)return e=parseFloat(t[1].replace(",",".")),ea(e)?e%24*Jn:NaN;if(t=He.HHMM.exec(n),t)return e=parseInt(t[1],10),a=parseFloat(t[2].replace(",",".")),ea(e,a)?e%24*Jn+a*nr:NaN;if(t=He.HHMMSS.exec(n),t){e=parseInt(t[1],10),a=parseInt(t[2],10);const r=parseFloat(t[3].replace(",","."));return ea(e,a,r)?e%24*Jn+a*nr+r*1e3:NaN}return null}function ar(n,e,a){e=e||0,a=a||0;const t=new Date(0);t.setUTCFullYear(n,0,4);const r=t.getUTCDay()||7,i=e*7+a+1-r;return t.setUTCDate(t.getUTCDate()+i),t}const Hl=[31,28,31,30,31,30,31,31,30,31,30,31],El=[31,29,31,30,31,30,31,31,30,31,30,31];function zr(n){return n%400===0||n%4===0&&n%100!==0}function rr(n,e,a){if(e<0||e>11)return!1;if(a!=null){if(a<1)return!1;const t=zr(n);if(t&&a>El[e]||!t&&a>Hl[e])return!1}return!0}function Bl(n,e){if(e<1)return!1;const a=zr(n);return!(a&&e>366||!a&&e>365)}function ir(n,e){return!(n<0||n>52||e!=null&&(e<0||e>6))}function ea(n,e,a){return!(n<0||n>=25||e!=null&&(e<0||e>=60)||a!=null&&(a<0||a>=60))}const Ll=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function jl(n,e,a={}){e=String(e);const t=e.match(Ll);if(t){const r=Nr(a.originalDate||n,a);e=t.reduce(function(i,l){if(l[0]==="'")return i;const u=i.indexOf(l),d=i[u-1]==="'",s=i.replace(l,"'"+Pl[l[0]](r,l,a)+"'");return d?s.substring(0,u-1)+s.substring(u+1):s},e)}return J(n,e,a)}function ql(n,e,a){n=Nr(n,a);const t=Ya(e,n,!0),r=new Date(n.getTime()-t),i=new Date(0);return i.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),i.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),i}function Ul(n,e,a,t){return t={...t,timeZone:e,originalDate:n},jl(ql(n,e,{timeZone:t.timeZone}),a,t)}const Hr=lr("n-time-picker"),Cn=Re({name:"TimePickerPanelCol",props:{clsPrefix:{type:String,required:!0},data:{type:Array,required:!0},activeValue:{type:[Number,String],default:null},onItemClick:Function},render(){const{activeValue:n,onItemClick:e,clsPrefix:a}=this;return this.data.map(t=>{const{label:r,disabled:i,value:l}=t,u=n===l;return o("div",{key:r,"data-active":u?"":null,class:[`${a}-time-picker-col__item`,u&&`${a}-time-picker-col__item--active`,i&&`${a}-time-picker-col__item--disabled`],onClick:e&&!i?()=>{e(l)}:void 0},r)})}}),hn={amHours:["00","01","02","03","04","05","06","07","08","09","10","11"],pmHours:["12","01","02","03","04","05","06","07","08","09","10","11"],hours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],minutes:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],seconds:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],period:["AM","PM"]};function ta(n){return`00${n}`.slice(-2)}function mn(n,e,a){return Array.isArray(e)?(a==="am"?e.filter(t=>t<12):a==="pm"?e.filter(t=>t>=12).map(t=>t===12?12:t-12):e).map(t=>ta(t)):typeof e=="number"?a==="am"?n.filter(t=>{const r=Number(t);return r<12&&r%e===0}):a==="pm"?n.filter(t=>{const r=Number(t);return r>=12&&r%e===0}).map(t=>{const r=Number(t);return ta(r===12?12:r-12)}):n.filter(t=>Number(t)%e===0):a==="am"?n.filter(t=>Number(t)<12):a==="pm"?n.map(t=>Number(t)).filter(t=>Number(t)>=12).map(t=>ta(t===12?12:t-12)):n}function kn(n,e,a){return a?typeof a=="number"?n%a===0:a.includes(n):!0}function Wl(n,e,a){const t=mn(hn[e],a).map(Number);let r,i;for(let l=0;l<t.length;++l){const u=t[l];if(u===n)return u;if(u>n){i=u;break}r=u}return r===void 0?(i||ri("time-picker","Please set 'hours' or 'minutes' or 'seconds' props"),i):i===void 0||i-n>n-r?r:i}function Ql(n){return gt(n)<12?"am":"pm"}const Xl={actions:{type:Array,default:()=>["now","confirm"]},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!0},showPeriod:{type:Boolean,default:!0},isHourInvalid:Boolean,isMinuteInvalid:Boolean,isSecondInvalid:Boolean,isAmPmInvalid:Boolean,isValueInvalid:Boolean,hourValue:{type:Number,default:null},minuteValue:{type:Number,default:null},secondValue:{type:Number,default:null},amPmValue:{type:String,default:null},isHourDisabled:Function,isMinuteDisabled:Function,isSecondDisabled:Function,onHourClick:{type:Function,required:!0},onMinuteClick:{type:Function,required:!0},onSecondClick:{type:Function,required:!0},onAmPmClick:{type:Function,required:!0},onNowClick:Function,clearText:String,nowText:String,confirmText:String,transitionDisabled:Boolean,onClearClick:Function,onConfirmClick:Function,onFocusin:Function,onFocusout:Function,onFocusDetectorFocus:Function,onKeydown:Function,hours:[Number,Array],minutes:[Number,Array],seconds:[Number,Array],use12Hours:Boolean},Zl=Re({name:"TimePickerPanel",props:Xl,setup(n){const{mergedThemeRef:e,mergedClsPrefixRef:a}=gn(Hr),t=y(()=>{const{isHourDisabled:u,hours:d,use12Hours:s,amPmValue:h}=n;if(s){const p=h??Ql(Date.now());return mn(hn.hours,d,p).map(k=>{const O=Number(k),I=p==="pm"&&O!==12?O+12:O;return{label:k,value:I,disabled:u?u(I):!1}})}else return mn(hn.hours,d).map(p=>({label:p,value:Number(p),disabled:u?u(Number(p)):!1}))}),r=y(()=>{const{isMinuteDisabled:u,minutes:d}=n;return mn(hn.minutes,d).map(s=>({label:s,value:Number(s),disabled:u?u(Number(s),n.hourValue):!1}))}),i=y(()=>{const{isSecondDisabled:u,seconds:d}=n;return mn(hn.seconds,d).map(s=>({label:s,value:Number(s),disabled:u?u(Number(s),n.minuteValue,n.hourValue):!1}))}),l=y(()=>{const{isHourDisabled:u}=n;let d=!0,s=!0;for(let h=0;h<12;++h)if(!u?.(h)){d=!1;break}for(let h=12;h<24;++h)if(!u?.(h)){s=!1;break}return[{label:"AM",value:"am",disabled:d},{label:"PM",value:"pm",disabled:s}]});return{mergedTheme:e,mergedClsPrefix:a,hours:t,minutes:r,seconds:i,amPm:l,hourScrollRef:S(null),minuteScrollRef:S(null),secondScrollRef:S(null),amPmScrollRef:S(null)}},render(){var n,e,a,t;const{mergedClsPrefix:r,mergedTheme:i}=this;return o("div",{tabindex:0,class:`${r}-time-picker-panel`,onFocusin:this.onFocusin,onFocusout:this.onFocusout,onKeydown:this.onKeydown},o("div",{class:`${r}-time-picker-cols`},this.showHour?o("div",{class:[`${r}-time-picker-col`,this.isHourInvalid&&`${r}-time-picker-col--invalid`,this.transitionDisabled&&`${r}-time-picker-col--transition-disabled`]},o(st,{ref:"hourScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[o(Cn,{clsPrefix:r,data:this.hours,activeValue:this.hourValue,onItemClick:this.onHourClick}),o("div",{class:`${r}-time-picker-col__padding`})]})):null,this.showMinute?o("div",{class:[`${r}-time-picker-col`,this.transitionDisabled&&`${r}-time-picker-col--transition-disabled`,this.isMinuteInvalid&&`${r}-time-picker-col--invalid`]},o(st,{ref:"minuteScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[o(Cn,{clsPrefix:r,data:this.minutes,activeValue:this.minuteValue,onItemClick:this.onMinuteClick}),o("div",{class:`${r}-time-picker-col__padding`})]})):null,this.showSecond?o("div",{class:[`${r}-time-picker-col`,this.isSecondInvalid&&`${r}-time-picker-col--invalid`,this.transitionDisabled&&`${r}-time-picker-col--transition-disabled`]},o(st,{ref:"secondScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[o(Cn,{clsPrefix:r,data:this.seconds,activeValue:this.secondValue,onItemClick:this.onSecondClick}),o("div",{class:`${r}-time-picker-col__padding`})]})):null,this.use12Hours?o("div",{class:[`${r}-time-picker-col`,this.isAmPmInvalid&&`${r}-time-picker-col--invalid`,this.transitionDisabled&&`${r}-time-picker-col--transition-disabled`]},o(st,{ref:"amPmScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[o(Cn,{clsPrefix:r,data:this.amPm,activeValue:this.amPmValue,onItemClick:this.onAmPmClick}),o("div",{class:`${r}-time-picker-col__padding`})]})):null),!((n=this.actions)===null||n===void 0)&&n.length?o("div",{class:`${r}-time-picker-actions`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?o(Ee,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.onClearClick},{default:()=>this.clearText}):null,!((a=this.actions)===null||a===void 0)&&a.includes("now")?o(Ee,{size:"tiny",theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,onClick:this.onNowClick},{default:()=>this.nowText}):null,!((t=this.actions)===null||t===void 0)&&t.includes("confirm")?o(Ee,{size:"tiny",type:"primary",class:`${r}-time-picker-actions__confirm`,theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,disabled:this.isValueInvalid,onClick:this.onConfirmClick},{default:()=>this.confirmText}):null):null,o(Yt,{onFocus:this.onFocusDetectorFocus}))}}),Kl=V([X("time-picker",`
 z-index: auto;
 position: relative;
 `,[X("time-picker-icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),q("disabled",[X("time-picker-icon",`
 color: var(--n-icon-color-disabled-override);
 `)])]),X("time-picker-panel",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 font-size: var(--n-item-font-size);
 border-radius: var(--n-border-radius);
 margin: 4px 0;
 min-width: 104px;
 overflow: hidden;
 background-color: var(--n-panel-color);
 box-shadow: var(--n-panel-box-shadow);
 `,[dr(),X("time-picker-actions",`
 padding: var(--n-panel-action-padding);
 align-items: center;
 display: flex;
 justify-content: space-evenly;
 `),X("time-picker-cols",`
 height: calc(var(--n-item-height) * 6);
 display: flex;
 position: relative;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-panel-divider-color);
 `),X("time-picker-col",`
 flex-grow: 1;
 min-width: var(--n-item-width);
 height: calc(var(--n-item-height) * 6);
 flex-direction: column;
 transition: box-shadow .3s var(--n-bezier);
 `,[q("transition-disabled",[De("item","transition: none;",[V("&::before","transition: none;")])]),De("padding",`
 height: calc(var(--n-item-height) * 5);
 `),V("&:first-child","min-width: calc(var(--n-item-width) + 4px);",[De("item",[V("&::before","left: 4px;")])]),De("item",`
 cursor: pointer;
 height: var(--n-item-height);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 background: #0000;
 text-decoration-color: #0000;
 color: var(--n-item-text-color);
 z-index: 0;
 box-sizing: border-box;
 padding-top: 4px;
 position: relative;
 `,[V("&::before",`
 content: "";
 transition: background-color .3s var(--n-bezier);
 z-index: -1;
 position: absolute;
 left: 0;
 right: 4px;
 top: 4px;
 bottom: 0;
 border-radius: var(--n-item-border-radius);
 `),Bt("disabled",[V("&:hover::before",`
 background-color: var(--n-item-color-hover);
 `)]),q("active",`
 color: var(--n-item-text-color-active);
 `,[V("&::before",`
 background-color: var(--n-item-color-hover);
 `)]),q("disabled",`
 opacity: var(--n-item-opacity-disabled);
 cursor: not-allowed;
 `)]),q("invalid",[De("item",[q("active",`
 text-decoration: line-through;
 text-decoration-color: var(--n-item-text-color-active);
 `)])])])])]);function na(n,e){return n===void 0?!0:Array.isArray(n)?n.every(a=>a>=0&&a<=e):n>=0&&n<=e}const Gl=Object.assign(Object.assign({},In.props),{to:Ut.propTo,bordered:{type:Boolean,default:void 0},actions:Array,defaultValue:{type:Number,default:null},defaultFormattedValue:String,placeholder:String,placement:{type:String,default:"bottom-start"},value:Number,format:{type:String,default:"HH:mm:ss"},valueFormat:String,formattedValue:String,isHourDisabled:Function,size:String,isMinuteDisabled:Function,isSecondDisabled:Function,inputReadonly:Boolean,clearable:Boolean,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:formattedValue":[Function,Array],onBlur:[Function,Array],onConfirm:[Function,Array],onClear:Function,onFocus:[Function,Array],timeZone:String,showIcon:{type:Boolean,default:!0},disabled:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},hours:{type:[Number,Array],validator:n=>na(n,23)},minutes:{type:[Number,Array],validator:n=>na(n,59)},seconds:{type:[Number,Array],validator:n=>na(n,59)},use12Hours:Boolean,stateful:{type:Boolean,default:!0},onChange:[Function,Array]}),ma=Re({name:"TimePicker",props:Gl,setup(n){const{mergedBorderedRef:e,mergedClsPrefixRef:a,namespaceRef:t,inlineThemeDisabled:r}=cr(n),{localeRef:i,dateLocaleRef:l}=An("TimePicker"),u=mr(n),{mergedSizeRef:d,mergedDisabledRef:s,mergedStatusRef:h}=u,p=In("TimePicker","-time-picker",Kl,ii,n,a),k=sr(),O=S(null),I=S(null),K=y(()=>({locale:l.value.locale}));function x(f){return f===null?null:Le(f,n.valueFormat||n.format,new Date,K.value).getTime()}const{defaultValue:_,defaultFormattedValue:A}=n,U=S(A!==void 0?x(A):_),F=y(()=>{const{formattedValue:f}=n;if(f!==void 0)return x(f);const{value:b}=n;return b!==void 0?b:U.value}),re=y(()=>{const{timeZone:f}=n;return f?(b,D,z)=>Ul(b,f,D,z):(b,D,z)=>J(b,D,z)}),ee=S("");ut(()=>n.timeZone,()=>{const f=F.value;ee.value=f===null?"":re.value(f,n.format,K.value)},{immediate:!0});const L=S(!1),Oe=Ne(n,"show"),ge=aa(Oe,L),ke=S(F.value),pe=S(!1),$=y(()=>i.value.clear),g=y(()=>i.value.now),T=y(()=>n.placeholder!==void 0?n.placeholder:i.value.placeholder),H=y(()=>i.value.negativeText),G=y(()=>i.value.positiveText),ie=y(()=>/H|h|K|k/.test(n.format)),oe=y(()=>n.format.includes("m")),W=y(()=>n.format.includes("s")),E=y(()=>{const{value:f}=F;return f===null?null:Number(re.value(f,"HH",K.value))}),ye=y(()=>{const{value:f}=F;return f===null?null:Number(re.value(f,"mm",K.value))}),be=y(()=>{const{value:f}=F;return f===null?null:Number(re.value(f,"ss",K.value))}),$e=y(()=>{const{isHourDisabled:f}=n;return E.value===null?!1:kn(E.value,"hours",n.hours)?f?f(E.value):!1:!0}),j=y(()=>{const{value:f}=ye,{value:b}=E;if(f===null||b===null)return!1;if(!kn(f,"minutes",n.minutes))return!0;const{isMinuteDisabled:D}=n;return D?D(f,b):!1}),te=y(()=>{const{value:f}=ye,{value:b}=E,{value:D}=be;if(D===null||f===null||b===null)return!1;if(!kn(D,"seconds",n.seconds))return!0;const{isSecondDisabled:z}=n;return z?z(D,f,b):!1}),Ie=y(()=>$e.value||j.value||te.value),xe=y(()=>n.format.length+4),qe=y(()=>{const{value:f}=F;return f===null?null:gt(f)<12?"am":"pm"});function Ye(f,b){const{onUpdateFormattedValue:D,"onUpdate:formattedValue":z}=n;D&&Se(D,f,b),z&&Se(z,f,b)}function ct(f){return f===null?null:re.value(f,n.valueFormat||n.format)}function Q(f){const{onUpdateValue:b,"onUpdate:value":D,onChange:z}=n,{nTriggerFormChange:Te,nTriggerFormInput:ce}=u,me=ct(f);b&&Se(b,f,me),D&&Se(D,f,me),z&&Se(z,f,me),Ye(me,f),U.value=f,Te(),ce()}function Ve(f){const{onFocus:b}=n,{nTriggerFormFocus:D}=u;b&&Se(b,f),D()}function nt(f){const{onBlur:b}=n,{nTriggerFormBlur:D}=u;b&&Se(b,f),D()}function ft(){const{onConfirm:f}=n;f&&Se(f,F.value,ct(F.value))}function bt(f){var b;f.stopPropagation(),Q(null),Be(null),(b=n.onClear)===null||b===void 0||b.call(n)}function wt(){Ue({returnFocus:!0})}function Ct(){Q(null),Be(null),Ue({returnFocus:!0})}function kt(f){f.key==="Escape"&&ge.value&&Sn(f)}function Dt(f){var b;switch(f.key){case"Escape":ge.value&&(Sn(f),Ue({returnFocus:!0}));break;case"Tab":k.shift&&f.target===((b=I.value)===null||b===void 0?void 0:b.$el)&&(f.preventDefault(),Ue({returnFocus:!0}));break}}function xt(){pe.value=!0,Dn(()=>{pe.value=!1})}function ht(f){s.value||hr(f,"clear")||ge.value||Rt()}function Xe(f){typeof f!="string"&&(F.value===null?Q(C(_t(al(new Date),f))):Q(C(_t(F.value,f))))}function Tt(f){typeof f!="string"&&(F.value===null?Q(C(Wn(rl(new Date),f))):Q(C(Wn(F.value,f))))}function Mt(f){typeof f!="string"&&(F.value===null?Q(C(Qn(Ra(new Date),f))):Q(C(Qn(F.value,f))))}function Je(f){const{value:b}=F;if(b===null){const D=new Date,z=gt(D);f==="pm"&&z<12?Q(C(_t(D,z+12))):f==="am"&&z>=12&&Q(C(_t(D,z-12))),Q(C(D))}else{const D=gt(b);f==="pm"&&D<12?Q(C(_t(b,D+12))):f==="am"&&D>=12&&Q(C(_t(b,D-12)))}}function Be(f){f===void 0&&(f=F.value),f===null?ee.value="":ee.value=re.value(f,n.format,K.value)}function v(f){Ze(f)||Ve(f)}function P(f){var b;if(!Ze(f))if(ge.value){const D=(b=I.value)===null||b===void 0?void 0:b.$el;D?.contains(f.relatedTarget)||(Be(),nt(f),Ue({returnFocus:!1}))}else Be(),nt(f)}function ne(){s.value||ge.value||Rt()}function tn(){s.value||(Be(),Ue({returnFocus:!1}))}function St(){if(!I.value)return;const{hourScrollRef:f,minuteScrollRef:b,secondScrollRef:D,amPmScrollRef:z}=I.value;[f,b,D,z].forEach(Te=>{var ce;if(!Te)return;const me=(ce=Te.contentRef)===null||ce===void 0?void 0:ce.querySelector("[data-active]");me&&Te.scrollTo({top:me.offsetTop})})}function _e(f){L.value=f;const{onUpdateShow:b,"onUpdate:show":D}=n;b&&Se(b,f),D&&Se(D,f)}function Ze(f){var b,D,z;return!!(!((D=(b=O.value)===null||b===void 0?void 0:b.wrapperElRef)===null||D===void 0)&&D.contains(f.relatedTarget)||!((z=I.value)===null||z===void 0)&&z.$el.contains(f.relatedTarget))}function Rt(){ke.value=F.value,_e(!0),Dn(St)}function Ot(f){var b,D;ge.value&&!(!((D=(b=O.value)===null||b===void 0?void 0:b.wrapperElRef)===null||D===void 0)&&D.contains(xa(f)))&&Ue({returnFocus:!1})}function Ue({returnFocus:f}){var b;ge.value&&(_e(!1),f&&((b=O.value)===null||b===void 0||b.focus()))}function At(f){if(f===""){Q(null);return}const b=Le(f,n.format,new Date,K.value);if(ee.value=f,Ge(b)){const{value:D}=F;if(D!==null){const z=Pe(D,{hours:gt(b),minutes:On(b),seconds:_n(b),milliseconds:io(b)});Q(C(z))}else Q(C(b))}}function at(){Q(ke.value),_e(!1)}function $t(){const f=new Date,b={hours:gt,minutes:On,seconds:_n},[D,z,Te]=["hours","minutes","seconds"].map(me=>!n[me]||kn(b[me](f),me,n[me])?b[me](f):Wl(b[me](f),me,n[me])),ce=Qn(Wn(_t(F.value?F.value:C(f),D),z),Te);Q(C(ce))}function rt(){Be(),ft(),Ue({returnFocus:!0})}function m(f){Ze(f)||(Be(),nt(f),Ue({returnFocus:!1}))}ut(F,f=>{Be(f),xt(),Dn(St)}),ut(ge,()=>{Ie.value&&Q(ke.value)}),va(Hr,{mergedThemeRef:p,mergedClsPrefixRef:a});const M={focus:()=>{var f;(f=O.value)===null||f===void 0||f.focus()},blur:()=>{var f;(f=O.value)===null||f===void 0||f.blur()}},N=y(()=>{const{common:{cubicBezierEaseInOut:f},self:{iconColor:b,iconColorDisabled:D}}=p.value;return{"--n-icon-color-override":b,"--n-icon-color-disabled-override":D,"--n-bezier":f}}),B=r?Mn("time-picker-trigger",void 0,N,n):void 0,We=y(()=>{const{self:{panelColor:f,itemTextColor:b,itemTextColorActive:D,itemColorHover:z,panelDividerColor:Te,panelBoxShadow:ce,itemOpacityDisabled:me,borderRadius:nn,itemFontSize:an,itemWidth:rn,itemHeight:Vt,panelActionPadding:on,itemBorderRadius:ln},common:{cubicBezierEaseInOut:sn}}=p.value;return{"--n-bezier":sn,"--n-border-radius":nn,"--n-item-color-hover":z,"--n-item-font-size":an,"--n-item-height":Vt,"--n-item-opacity-disabled":me,"--n-item-text-color":b,"--n-item-text-color-active":D,"--n-item-width":rn,"--n-panel-action-padding":on,"--n-panel-box-shadow":ce,"--n-panel-color":f,"--n-panel-divider-color":Te,"--n-item-border-radius":ln}}),Ae=r?Mn("time-picker",void 0,We,n):void 0;return{focus:M.focus,blur:M.blur,mergedStatus:h,mergedBordered:e,mergedClsPrefix:a,namespace:t,uncontrolledValue:U,mergedValue:F,isMounted:fr(),inputInstRef:O,panelInstRef:I,adjustedTo:Ut(n),mergedShow:ge,localizedClear:$,localizedNow:g,localizedPlaceholder:T,localizedNegativeText:H,localizedPositiveText:G,hourInFormat:ie,minuteInFormat:oe,secondInFormat:W,mergedAttrSize:xe,displayTimeString:ee,mergedSize:d,mergedDisabled:s,isValueInvalid:Ie,isHourInvalid:$e,isMinuteInvalid:j,isSecondInvalid:te,transitionDisabled:pe,hourValue:E,minuteValue:ye,secondValue:be,amPmValue:qe,handleInputKeydown:kt,handleTimeInputFocus:v,handleTimeInputBlur:P,handleNowClick:$t,handleConfirmClick:rt,handleTimeInputUpdateValue:At,handleMenuFocusOut:m,handleCancelClick:at,handleClickOutside:Ot,handleTimeInputActivate:ne,handleTimeInputDeactivate:tn,handleHourClick:Xe,handleMinuteClick:Tt,handleSecondClick:Mt,handleAmPmClick:Je,handleTimeInputClear:bt,handleFocusDetectorFocus:wt,handleMenuKeydown:Dt,handleTriggerClick:ht,mergedTheme:p,triggerCssVars:r?void 0:N,triggerThemeClass:B?.themeClass,triggerOnRender:B?.onRender,cssVars:r?void 0:We,themeClass:Ae?.themeClass,onRender:Ae?.onRender,clearSelectedValue:Ct}},render(){const{mergedClsPrefix:n,$slots:e,triggerOnRender:a}=this;return a?.(),o("div",{class:[`${n}-time-picker`,this.triggerThemeClass],style:this.triggerCssVars},o(ya,null,{default:()=>[o(ba,null,{default:()=>o(Wt,{ref:"inputInstRef",status:this.mergedStatus,value:this.displayTimeString,bordered:this.mergedBordered,passivelyActivated:!0,attrSize:this.mergedAttrSize,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,stateful:this.stateful,size:this.mergedSize,placeholder:this.localizedPlaceholder,clearable:this.clearable,disabled:this.mergedDisabled,textDecoration:this.isValueInvalid?"line-through":void 0,onFocus:this.handleTimeInputFocus,onBlur:this.handleTimeInputBlur,onActivate:this.handleTimeInputActivate,onDeactivate:this.handleTimeInputDeactivate,onUpdateValue:this.handleTimeInputUpdateValue,onClear:this.handleTimeInputClear,internalDeactivateOnEnter:!0,internalForceFocus:this.mergedShow,readonly:this.inputReadonly||this.mergedDisabled,onClick:this.handleTriggerClick,onKeydown:this.handleInputKeydown},this.showIcon?{[this.clearable?"clear-icon-placeholder":"suffix"]:()=>o(xn,{clsPrefix:n,class:`${n}-time-picker-icon`},{default:()=>e.icon?e.icon():o(Ii,null)})}:null)}),o(wa,{teleportDisabled:this.adjustedTo===Ut.tdkey,show:this.mergedShow,to:this.adjustedTo,containerClass:this.namespace,placement:this.placement},{default:()=>o(Ca,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{var t;return this.mergedShow?((t=this.onRender)===null||t===void 0||t.call(this),ka(o(Zl,{ref:"panelInstRef",actions:this.actions,class:this.themeClass,style:this.cssVars,seconds:this.seconds,minutes:this.minutes,hours:this.hours,transitionDisabled:this.transitionDisabled,hourValue:this.hourValue,showHour:this.hourInFormat,isHourInvalid:this.isHourInvalid,isHourDisabled:this.isHourDisabled,minuteValue:this.minuteValue,showMinute:this.minuteInFormat,isMinuteInvalid:this.isMinuteInvalid,isMinuteDisabled:this.isMinuteDisabled,secondValue:this.secondValue,amPmValue:this.amPmValue,showSecond:this.secondInFormat,isSecondInvalid:this.isSecondInvalid,isSecondDisabled:this.isSecondDisabled,isValueInvalid:this.isValueInvalid,clearText:this.localizedClear,nowText:this.localizedNow,confirmText:this.localizedPositiveText,use12Hours:this.use12Hours,onFocusout:this.handleMenuFocusOut,onKeydown:this.handleMenuKeydown,onHourClick:this.handleHourClick,onMinuteClick:this.handleMinuteClick,onSecondClick:this.handleSecondClick,onAmPmClick:this.handleAmPmClick,onNowClick:this.handleNowClick,onConfirmClick:this.handleConfirmClick,onClearClick:this.clearSelectedValue,onFocusDetectorFocus:this.handleFocusDetectorFocus}),[[Da,this.handleClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),Jl=Re({name:"DateTimePanel",props:_a,setup(n){return Fa(n,"datetime")},render(){var n,e,a,t;const{mergedClsPrefix:r,mergedTheme:i,shortcuts:l,timePickerProps:u,datePickerSlots:d,onRender:s}=this;return s?.(),o("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--datetime`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},o("div",{class:`${r}-date-panel-header`},o(Wt,{value:this.dateInputValue,theme:i.peers.Input,themeOverrides:i.peerOverrides.Input,stateful:!1,size:this.timePickerSize,readonly:this.inputReadonly,class:`${r}-date-panel-date-input`,textDecoration:this.isDateInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleDateInputBlur,onUpdateValue:this.handleDateInput}),o(ma,Object.assign({size:this.timePickerSize,placeholder:this.locale.selectTime,format:this.timePickerFormat},Array.isArray(u)?void 0:u,{showIcon:!1,to:!1,theme:i.peers.TimePicker,themeOverrides:i.peerOverrides.TimePicker,value:Array.isArray(this.value)?null:this.value,isHourDisabled:this.isHourDisabled,isMinuteDisabled:this.isMinuteDisabled,isSecondDisabled:this.isSecondDisabled,onUpdateValue:this.handleTimePickerChange,stateful:!1}))),o("div",{class:`${r}-date-panel-calendar`},o("div",{class:`${r}-date-panel-month`},o("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.prevYear},le(d["prev-year"],()=>[o(Xt,null)])),o("div",{class:`${r}-date-panel-month__prev`,onClick:this.prevMonth},le(d["prev-month"],()=>[o(Qt,null)])),o(en,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:r,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),o("div",{class:`${r}-date-panel-month__next`,onClick:this.nextMonth},le(d["next-month"],()=>[o(Kt,null)])),o("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.nextYear},le(d["next-year"],()=>[o(Zt,null)]))),o("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(h=>o("div",{key:h,class:`${r}-date-panel-weekdays__day`},h))),o("div",{class:`${r}-date-panel-dates`},this.dateArray.map((h,p)=>o("div",{"data-n-date":!0,key:p,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--current`]:h.isCurrentDate,[`${r}-date-panel-date--selected`]:h.selected,[`${r}-date-panel-date--excluded`]:!h.inCurrentMonth,[`${r}-date-panel-date--disabled`]:this.mergedIsDateDisabled(h.ts,{type:"date",year:h.dateObject.year,month:h.dateObject.month,date:h.dateObject.date})}],onClick:()=>{this.handleDateClick(h)}},o("div",{class:`${r}-date-panel-date__trigger`}),h.dateObject.date,h.isCurrentDate?o("div",{class:`${r}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?o("div",{class:`${r}-date-panel-footer`},this.datePickerSlots.footer()):null,!((n=this.actions)===null||n===void 0)&&n.length||l?o("div",{class:`${r}-date-panel-actions`},o("div",{class:`${r}-date-panel-actions__prefix`},l&&Object.keys(l).map(h=>{const p=l[h];return Array.isArray(p)?null:o(pt,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(p)},onClick:()=>{this.handleSingleShortcutClick(p)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>h})})),o("div",{class:`${r}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?je(this.datePickerSlots.clear,{onClear:this.clearSelectedDateTime,text:this.locale.clear},()=>[o(Ee,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.clearSelectedDateTime},{default:()=>this.locale.clear})]):null,!((a=this.actions)===null||a===void 0)&&a.includes("now")?je(d.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[o(Ee,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null,!((t=this.actions)===null||t===void 0)&&t.includes("confirm")?je(d.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isDateInvalid,text:this.locale.confirm},()=>[o(Ee,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,o(Yt,{onFocus:this.handleFocusDetectorFocus}))}}),es=Re({name:"DateTimeRangePanel",props:Pa,setup(n){return Ia(n,"datetimerange")},render(){var n,e,a;const{mergedClsPrefix:t,mergedTheme:r,shortcuts:i,timePickerProps:l,onRender:u,datePickerSlots:d}=this;return u?.(),o("div",{ref:"selfRef",tabindex:0,class:[`${t}-date-panel`,`${t}-date-panel--datetimerange`,!this.panel&&`${t}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},o("div",{class:`${t}-date-panel-header`},o(Wt,{value:this.startDateDisplayString,theme:r.peers.Input,themeOverrides:r.peerOverrides.Input,size:this.timePickerSize,stateful:!1,readonly:this.inputReadonly,class:`${t}-date-panel-date-input`,textDecoration:this.isStartValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleStartDateInputBlur,onUpdateValue:this.handleStartDateInput}),o(ma,Object.assign({placeholder:this.locale.selectTime,format:this.timePickerFormat,size:this.timePickerSize},Array.isArray(l)?l[0]:l,{value:this.startTimeValue,to:!1,showIcon:!1,disabled:this.isSelecting,theme:r.peers.TimePicker,themeOverrides:r.peerOverrides.TimePicker,stateful:!1,isHourDisabled:this.isStartHourDisabled,isMinuteDisabled:this.isStartMinuteDisabled,isSecondDisabled:this.isStartSecondDisabled,onUpdateValue:this.handleStartTimePickerChange})),o(Wt,{value:this.endDateInput,theme:r.peers.Input,themeOverrides:r.peerOverrides.Input,stateful:!1,size:this.timePickerSize,readonly:this.inputReadonly,class:`${t}-date-panel-date-input`,textDecoration:this.isEndValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleEndDateInputBlur,onUpdateValue:this.handleEndDateInput}),o(ma,Object.assign({placeholder:this.locale.selectTime,format:this.timePickerFormat,size:this.timePickerSize},Array.isArray(l)?l[1]:l,{disabled:this.isSelecting,showIcon:!1,theme:r.peers.TimePicker,themeOverrides:r.peerOverrides.TimePicker,to:!1,stateful:!1,value:this.endTimeValue,isHourDisabled:this.isEndHourDisabled,isMinuteDisabled:this.isEndMinuteDisabled,isSecondDisabled:this.isEndSecondDisabled,onUpdateValue:this.handleEndTimePickerChange}))),o("div",{ref:"startDatesElRef",class:`${t}-date-panel-calendar ${t}-date-panel-calendar--start`},o("div",{class:`${t}-date-panel-month`},o("div",{class:`${t}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},le(d["prev-year"],()=>[o(Xt,null)])),o("div",{class:`${t}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},le(d["prev-month"],()=>[o(Qt,null)])),o(en,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:t,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),o("div",{class:`${t}-date-panel-month__next`,onClick:this.startCalendarNextMonth},le(d["next-month"],()=>[o(Kt,null)])),o("div",{class:`${t}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},le(d["next-year"],()=>[o(Zt,null)]))),o("div",{class:`${t}-date-panel-weekdays`},this.weekdays.map(s=>o("div",{key:s,class:`${t}-date-panel-weekdays__day`},s))),o("div",{class:`${t}-date-panel__divider`}),o("div",{class:`${t}-date-panel-dates`},this.startDateArray.map((s,h)=>{const p=this.mergedIsDateDisabled(s.ts);return o("div",{"data-n-date":!0,key:h,class:[`${t}-date-panel-date`,{[`${t}-date-panel-date--excluded`]:!s.inCurrentMonth,[`${t}-date-panel-date--current`]:s.isCurrentDate,[`${t}-date-panel-date--selected`]:s.selected,[`${t}-date-panel-date--covered`]:s.inSpan,[`${t}-date-panel-date--start`]:s.startOfSpan,[`${t}-date-panel-date--end`]:s.endOfSpan,[`${t}-date-panel-date--disabled`]:p}],onClick:p?void 0:()=>{this.handleDateClick(s)},onMouseenter:p?void 0:()=>{this.handleDateMouseEnter(s)}},o("div",{class:`${t}-date-panel-date__trigger`}),s.dateObject.date,s.isCurrentDate?o("div",{class:`${t}-date-panel-date__sup`}):null)}))),o("div",{class:`${t}-date-panel__vertical-divider`}),o("div",{ref:"endDatesElRef",class:`${t}-date-panel-calendar ${t}-date-panel-calendar--end`},o("div",{class:`${t}-date-panel-month`},o("div",{class:`${t}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},le(d["prev-year"],()=>[o(Xt,null)])),o("div",{class:`${t}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},le(d["prev-month"],()=>[o(Qt,null)])),o(en,{monthBeforeYear:this.calendarMonthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:t,monthYearSeparator:this.calendarHeaderMonthYearSeparator,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),o("div",{class:`${t}-date-panel-month__next`,onClick:this.endCalendarNextMonth},le(d["next-month"],()=>[o(Kt,null)])),o("div",{class:`${t}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},le(d["next-year"],()=>[o(Zt,null)]))),o("div",{class:`${t}-date-panel-weekdays`},this.weekdays.map(s=>o("div",{key:s,class:`${t}-date-panel-weekdays__day`},s))),o("div",{class:`${t}-date-panel__divider`}),o("div",{class:`${t}-date-panel-dates`},this.endDateArray.map((s,h)=>{const p=this.mergedIsDateDisabled(s.ts);return o("div",{"data-n-date":!0,key:h,class:[`${t}-date-panel-date`,{[`${t}-date-panel-date--excluded`]:!s.inCurrentMonth,[`${t}-date-panel-date--current`]:s.isCurrentDate,[`${t}-date-panel-date--selected`]:s.selected,[`${t}-date-panel-date--covered`]:s.inSpan,[`${t}-date-panel-date--start`]:s.startOfSpan,[`${t}-date-panel-date--end`]:s.endOfSpan,[`${t}-date-panel-date--disabled`]:p}],onClick:p?void 0:()=>{this.handleDateClick(s)},onMouseenter:p?void 0:()=>{this.handleDateMouseEnter(s)}},o("div",{class:`${t}-date-panel-date__trigger`}),s.dateObject.date,s.isCurrentDate?o("div",{class:`${t}-date-panel-date__sup`}):null)}))),this.datePickerSlots.footer?o("div",{class:`${t}-date-panel-footer`},this.datePickerSlots.footer()):null,!((n=this.actions)===null||n===void 0)&&n.length||i?o("div",{class:`${t}-date-panel-actions`},o("div",{class:`${t}-date-panel-actions__prefix`},i&&Object.keys(i).map(s=>{const h=i[s];return Array.isArray(h)||typeof h=="function"?o(pt,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(h)},onClick:()=>{this.handleRangeShortcutClick(h)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>s}):null})),o("div",{class:`${t}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?je(d.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[o(Ee,{theme:r.peers.Button,themeOverrides:r.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((a=this.actions)===null||a===void 0)&&a.includes("confirm")?je(d.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isRangeInvalid||this.isSelecting,text:this.locale.confirm},()=>[o(Ee,{theme:r.peers.Button,themeOverrides:r.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid||this.isSelecting,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,o(Yt,{onFocus:this.handleFocusDetectorFocus}))}}),ts=Re({name:"MonthRangePanel",props:Object.assign(Object.assign({},Pa),{type:{type:String,required:!0}}),setup(n){const e=Ia(n,n.type),{dateLocaleRef:a}=An("DatePicker"),t=(r,i,l,u)=>{const{handleColItemClick:d}=e;return o("div",{"data-n-date":!0,key:i,class:[`${l}-date-panel-month-calendar__picker-col-item`,r.isCurrent&&`${l}-date-panel-month-calendar__picker-col-item--current`,r.selected&&`${l}-date-panel-month-calendar__picker-col-item--selected`,!1],onClick:()=>{d(r,u)}},r.type==="month"?Fr(r.dateObject.month,r.monthFormat,a.value.locale):r.type==="quarter"?Ir(r.dateObject.quarter,r.quarterFormat,a.value.locale):Pr(r.dateObject.year,r.yearFormat,a.value.locale))};return ga(()=>{e.justifyColumnsScrollState()}),Object.assign(Object.assign({},e),{renderItem:t})},render(){var n,e,a;const{mergedClsPrefix:t,mergedTheme:r,shortcuts:i,type:l,renderItem:u,onRender:d}=this;return d?.(),o("div",{ref:"selfRef",tabindex:0,class:[`${t}-date-panel`,`${t}-date-panel--daterange`,!this.panel&&`${t}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},o("div",{ref:"startDatesElRef",class:`${t}-date-panel-calendar ${t}-date-panel-calendar--start`},o("div",{class:`${t}-date-panel-month-calendar`},o(st,{ref:"startYearScrollbarRef",class:`${t}-date-panel-month-calendar__picker-col`,theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,container:()=>this.virtualListContainer("start"),content:()=>this.virtualListContent("start"),horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>o(ra,{ref:"startYearVlRef",items:this.startYearArray,itemSize:Pt,showScrollbar:!1,keyField:"ts",onScroll:this.handleStartYearVlScroll,paddingBottom:4},{default:({item:s,index:h})=>u(s,h,t,"start")})}),l==="monthrange"||l==="quarterrange"?o("div",{class:`${t}-date-panel-month-calendar__picker-col`},o(st,{ref:"startMonthScrollbarRef",theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar},{default:()=>[(l==="monthrange"?this.startMonthArray:this.startQuarterArray).map((s,h)=>u(s,h,t,"start")),l==="monthrange"&&o("div",{class:`${t}-date-panel-month-calendar__padding`})]})):null)),o("div",{class:`${t}-date-panel__vertical-divider`}),o("div",{ref:"endDatesElRef",class:`${t}-date-panel-calendar ${t}-date-panel-calendar--end`},o("div",{class:`${t}-date-panel-month-calendar`},o(st,{ref:"endYearScrollbarRef",class:`${t}-date-panel-month-calendar__picker-col`,theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,container:()=>this.virtualListContainer("end"),content:()=>this.virtualListContent("end"),horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>o(ra,{ref:"endYearVlRef",items:this.endYearArray,itemSize:Pt,showScrollbar:!1,keyField:"ts",onScroll:this.handleEndYearVlScroll,paddingBottom:4},{default:({item:s,index:h})=>u(s,h,t,"end")})}),l==="monthrange"||l==="quarterrange"?o("div",{class:`${t}-date-panel-month-calendar__picker-col`},o(st,{ref:"endMonthScrollbarRef",theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar},{default:()=>[(l==="monthrange"?this.endMonthArray:this.endQuarterArray).map((s,h)=>u(s,h,t,"end")),l==="monthrange"&&o("div",{class:`${t}-date-panel-month-calendar__padding`})]})):null)),ur(this.datePickerSlots.footer,s=>s?o("div",{class:`${t}-date-panel-footer`},s):null),!((n=this.actions)===null||n===void 0)&&n.length||i?o("div",{class:`${t}-date-panel-actions`},o("div",{class:`${t}-date-panel-actions__prefix`},i&&Object.keys(i).map(s=>{const h=i[s];return Array.isArray(h)||typeof h=="function"?o(pt,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(h)},onClick:()=>{this.handleRangeShortcutClick(h)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>s}):null})),o("div",{class:`${t}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?je(this.datePickerSlots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[o(pt,{theme:r.peers.Button,themeOverrides:r.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((a=this.actions)===null||a===void 0)&&a.includes("confirm")?je(this.datePickerSlots.confirm,{disabled:this.isRangeInvalid,onConfirm:this.handleConfirmClick,text:this.locale.confirm},()=>[o(pt,{theme:r.peers.Button,themeOverrides:r.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,o(Yt,{onFocus:this.handleFocusDetectorFocus}))}}),ns=Object.assign(Object.assign({},In.props),{to:Ut.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,updateValueOnClose:Boolean,calendarDayFormat:String,calendarHeaderYearFormat:String,calendarHeaderMonthFormat:String,calendarHeaderMonthYearSeparator:{type:String,default:" "},calendarHeaderMonthBeforeYear:{type:Boolean,default:void 0},defaultValue:[Number,Array],defaultFormattedValue:[String,Array],defaultTime:[Number,String,Array,Function],disabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom-start"},value:[Number,Array],formattedValue:[String,Array],size:String,type:{type:String,default:"date"},valueFormat:String,separator:String,placeholder:String,startPlaceholder:String,endPlaceholder:String,format:String,dateFormat:String,timePickerFormat:String,actions:Array,shortcuts:Object,isDateDisabled:Function,isTimeDisabled:Function,show:{type:Boolean,default:void 0},panel:Boolean,ranges:Object,firstDayOfWeek:Number,inputReadonly:Boolean,closeOnSelect:Boolean,status:String,timePickerProps:[Object,Array],onClear:Function,onConfirm:Function,defaultCalendarStartTime:Number,defaultCalendarEndTime:Number,bindCalendarMonths:Boolean,monthFormat:{type:String,default:"M"},yearFormat:{type:String,default:"y"},quarterFormat:{type:String,default:"'Q'Q"},yearRange:{type:Array,default:()=>[1901,2100]},"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:formattedValue":[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onNextMonth:Function,onPrevMonth:Function,onNextYear:Function,onPrevYear:Function,onChange:[Function,Array]}),as=V([X("date-picker",`
 position: relative;
 z-index: auto;
 `,[X("date-picker-icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),X("icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),q("disabled",[X("date-picker-icon",`
 color: var(--n-icon-color-disabled-override);
 `),X("icon",`
 color: var(--n-icon-color-disabled-override);
 `)])]),X("date-panel",`
 width: fit-content;
 outline: none;
 margin: 4px 0;
 display: grid;
 grid-template-columns: 0fr;
 border-radius: var(--n-panel-border-radius);
 background-color: var(--n-panel-color);
 color: var(--n-panel-text-color);
 user-select: none;
 `,[dr(),q("shadow",`
 box-shadow: var(--n-panel-box-shadow);
 `),X("date-panel-calendar",{padding:"var(--n-calendar-left-padding)",display:"grid",gridTemplateColumns:"1fr",gridArea:"left-calendar"},[q("end",{padding:"var(--n-calendar-right-padding)",gridArea:"right-calendar"})]),X("date-panel-month-calendar",{display:"flex",gridArea:"left-calendar"},[De("picker-col",`
 min-width: var(--n-scroll-item-width);
 height: calc(var(--n-scroll-item-height) * 6);
 user-select: none;
 -webkit-user-select: none;
 `,[V("&:first-child",`
 min-width: calc(var(--n-scroll-item-width) + 4px);
 `,[De("picker-col-item",[V("&::before","left: 4px;")])]),De("padding",`
 height: calc(var(--n-scroll-item-height) * 5)
 `)]),De("picker-col-item",`
 z-index: 0;
 cursor: pointer;
 height: var(--n-scroll-item-height);
 box-sizing: border-box;
 padding-top: 4px;
 display: flex;
 align-items: center;
 justify-content: center;
 position: relative;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background: #0000;
 color: var(--n-item-text-color);
 `,[V("&::before",`
 z-index: -1;
 content: "";
 position: absolute;
 left: 0;
 right: 4px;
 top: 4px;
 bottom: 0;
 border-radius: var(--n-scroll-item-border-radius);
 transition: 
 background-color .3s var(--n-bezier);
 `),Bt("disabled",[V("&:hover::before",`
 background-color: var(--n-item-color-hover);
 `),q("selected",`
 color: var(--n-item-color-active);
 `,[V("&::before","background-color: var(--n-item-color-hover);")])]),q("disabled",`
 color: var(--n-item-text-color-disabled);
 cursor: not-allowed;
 `,[q("selected",[V("&::before",`
 background-color: var(--n-item-color-disabled);
 `)])])])]),q("date",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),q("week",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),q("daterange",{gridTemplateAreas:`
 "left-calendar divider right-calendar"
 "footer footer footer"
 "action action action"
 `}),q("datetime",{gridTemplateAreas:`
 "header"
 "left-calendar"
 "footer"
 "action"
 `}),q("datetimerange",{gridTemplateAreas:`
 "header header header"
 "left-calendar divider right-calendar"
 "footer footer footer"
 "action action action"
 `}),q("month",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),X("date-panel-footer",{gridArea:"footer"}),X("date-panel-actions",{gridArea:"action"}),X("date-panel-header",{gridArea:"header"}),X("date-panel-header",`
 box-sizing: border-box;
 width: 100%;
 align-items: center;
 padding: var(--n-panel-header-padding);
 display: flex;
 justify-content: space-between;
 border-bottom: 1px solid var(--n-panel-header-divider-color);
 `,[V(">",[V("*:not(:last-child)",{marginRight:"10px"}),V("*",{flex:1,width:0}),X("time-picker",{zIndex:1})])]),X("date-panel-month",`
 box-sizing: border-box;
 display: grid;
 grid-template-columns: var(--n-calendar-title-grid-template-columns);
 align-items: center;
 justify-items: center;
 padding: var(--n-calendar-title-padding);
 height: var(--n-calendar-title-height);
 `,[De("prev, next, fast-prev, fast-next",`
 line-height: 0;
 cursor: pointer;
 width: var(--n-arrow-size);
 height: var(--n-arrow-size);
 color: var(--n-arrow-color);
 `),De("month-year",`
 user-select: none;
 -webkit-user-select: none;
 flex-grow: 1;
 position: relative;
 `,[De("text",`
 font-size: var(--n-calendar-title-font-size);
 line-height: var(--n-calendar-title-font-size);
 font-weight: var(--n-calendar-title-font-weight);
 padding: 6px 8px;
 text-align: center;
 color: var(--n-calendar-title-text-color);
 cursor: pointer;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-panel-border-radius);
 `,[q("active",`
 background-color: var(--n-calendar-title-color-hover);
 `),V("&:hover",`
 background-color: var(--n-calendar-title-color-hover);
 `)])])]),X("date-panel-weekdays",`
 display: grid;
 margin: auto;
 grid-template-columns: repeat(7, var(--n-item-cell-width));
 grid-template-rows: repeat(1, var(--n-item-cell-height));
 align-items: center;
 justify-items: center;
 margin-bottom: 4px;
 border-bottom: 1px solid var(--n-calendar-days-divider-color);
 `,[De("day",`
 white-space: nowrap;
 user-select: none;
 -webkit-user-select: none;
 line-height: 15px;
 width: var(--n-item-size);
 text-align: center;
 font-size: var(--n-calendar-days-font-size);
 color: var(--n-item-text-color);
 display: flex;
 align-items: center;
 justify-content: center;
 `)]),X("date-panel-dates",`
 margin: auto;
 display: grid;
 grid-template-columns: repeat(7, var(--n-item-cell-width));
 grid-template-rows: repeat(6, var(--n-item-cell-height));
 align-items: center;
 justify-items: center;
 flex-wrap: wrap;
 `,[X("date-panel-date",`
 user-select: none;
 -webkit-user-select: none;
 position: relative;
 width: var(--n-item-size);
 height: var(--n-item-size);
 line-height: var(--n-item-size);
 text-align: center;
 font-size: var(--n-item-font-size);
 border-radius: var(--n-item-border-radius);
 z-index: 0;
 cursor: pointer;
 transition:
 background-color .2s var(--n-bezier),
 color .2s var(--n-bezier);
 `,[De("trigger",`
 position: absolute;
 left: calc(var(--n-item-size) / 2 - var(--n-item-cell-width) / 2);
 top: calc(var(--n-item-size) / 2 - var(--n-item-cell-height) / 2);
 width: var(--n-item-cell-width);
 height: var(--n-item-cell-height);
 `),q("current",[De("sup",`
 position: absolute;
 top: 2px;
 right: 2px;
 content: "";
 height: 4px;
 width: 4px;
 border-radius: 2px;
 background-color: var(--n-item-color-active);
 transition:
 background-color .2s var(--n-bezier);
 `)]),V("&::after",`
 content: "";
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 transition: background-color .3s var(--n-bezier);
 `),q("covered, start, end",[Bt("excluded",[V("&::before",`
 content: "";
 z-index: -2;
 position: absolute;
 left: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 right: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 top: 0;
 bottom: 0;
 background-color: var(--n-item-color-included);
 `),V("&:nth-child(7n + 1)::before",{borderTopLeftRadius:"var(--n-item-border-radius)",borderBottomLeftRadius:"var(--n-item-border-radius)"}),V("&:nth-child(7n + 7)::before",{borderTopRightRadius:"var(--n-item-border-radius)",borderBottomRightRadius:"var(--n-item-border-radius)"})])]),q("selected",{color:"var(--n-item-text-color-active)"},[V("&::after",{backgroundColor:"var(--n-item-color-active)"}),q("start",[V("&::before",{left:"50%"})]),q("end",[V("&::before",{right:"50%"})]),De("sup",{backgroundColor:"var(--n-panel-color)"})]),q("excluded",{color:"var(--n-item-text-color-disabled)"},[q("selected",[V("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])]),q("disabled",{cursor:"not-allowed",color:"var(--n-item-text-color-disabled)"},[q("covered",[V("&::before",{backgroundColor:"var(--n-item-color-disabled)"})]),q("selected",[V("&::before",{backgroundColor:"var(--n-item-color-disabled)"}),V("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])]),q("week-hovered",[V("&::before",`
 background-color: var(--n-item-color-included);
 `),V("&:nth-child(7n + 1)::before",`
 border-top-left-radius: var(--n-item-border-radius);
 border-bottom-left-radius: var(--n-item-border-radius);
 `),V("&:nth-child(7n + 7)::before",`
 border-top-right-radius: var(--n-item-border-radius);
 border-bottom-right-radius: var(--n-item-border-radius);
 `)]),q("week-selected",`
 color: var(--n-item-text-color-active)
 `,[V("&::before",`
 background-color: var(--n-item-color-active);
 `),V("&:nth-child(7n + 1)::before",`
 border-top-left-radius: var(--n-item-border-radius);
 border-bottom-left-radius: var(--n-item-border-radius);
 `),V("&:nth-child(7n + 7)::before",`
 border-top-right-radius: var(--n-item-border-radius);
 border-bottom-right-radius: var(--n-item-border-radius);
 `)])])]),Bt("week",[X("date-panel-dates",[X("date-panel-date",[Bt("disabled",[Bt("selected",[V("&:hover",`
 background-color: var(--n-item-color-hover);
 `)])])])])]),q("week",[X("date-panel-dates",[X("date-panel-date",[V("&::before",`
 content: "";
 z-index: -2;
 position: absolute;
 left: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 right: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 top: 0;
 bottom: 0;
 transition: background-color .3s var(--n-bezier);
 `)])])]),De("vertical-divider",`
 grid-area: divider;
 height: 100%;
 width: 1px;
 background-color: var(--n-calendar-divider-color);
 `),X("date-panel-footer",`
 border-top: 1px solid var(--n-panel-action-divider-color);
 padding: var(--n-panel-extra-footer-padding);
 `),X("date-panel-actions",`
 flex: 1;
 padding: var(--n-panel-action-padding);
 display: flex;
 align-items: center;
 justify-content: space-between;
 border-top: 1px solid var(--n-panel-action-divider-color);
 `,[De("prefix, suffix",`
 display: flex;
 margin-bottom: -8px;
 `),De("suffix",`
 align-self: flex-end;
 `),De("prefix",`
 flex-wrap: wrap;
 `),X("button",`
 margin-bottom: 8px;
 `,[V("&:not(:last-child)",`
 margin-right: 8px;
 `)])])]),V("[data-n-date].transition-disabled",{transition:"none !important"},[V("&::before, &::after",{transition:"none !important"})])]);function rs(n,e){const a=y(()=>{const{isTimeDisabled:h}=n,{value:p}=e;if(!(p===null||Array.isArray(p)))return h?.(p)}),t=y(()=>{var h;return(h=a.value)===null||h===void 0?void 0:h.isHourDisabled}),r=y(()=>{var h;return(h=a.value)===null||h===void 0?void 0:h.isMinuteDisabled}),i=y(()=>{var h;return(h=a.value)===null||h===void 0?void 0:h.isSecondDisabled}),l=y(()=>{const{type:h,isDateDisabled:p}=n,{value:k}=e;return k===null||Array.isArray(k)||!["date","datetime"].includes(h)||!p?!1:p(k,{type:"input"})}),u=y(()=>{const{type:h}=n,{value:p}=e;if(p===null||h==="datetime"||Array.isArray(p))return!1;const k=new Date(p),O=k.getHours(),I=k.getMinutes(),K=k.getMinutes();return(t.value?t.value(O):!1)||(r.value?r.value(I,O):!1)||(i.value?i.value(K,I,O):!1)}),d=y(()=>l.value||u.value);return{isValueInvalidRef:y(()=>{const{type:h}=n;return h==="date"?l.value:h==="datetime"?d.value:!1}),isDateInvalidRef:l,isTimeInvalidRef:u,isDateTimeInvalidRef:d,isHourDisabledRef:t,isMinuteDisabledRef:r,isSecondDisabledRef:i}}function is(n,e){const a=y(()=>{const{isTimeDisabled:p}=n,{value:k}=e;return!Array.isArray(k)||!p?[void 0,void 0]:[p?.(k[0],"start",k),p?.(k[1],"end",k)]}),t={isStartHourDisabledRef:y(()=>{var p;return(p=a.value[0])===null||p===void 0?void 0:p.isHourDisabled}),isEndHourDisabledRef:y(()=>{var p;return(p=a.value[1])===null||p===void 0?void 0:p.isHourDisabled}),isStartMinuteDisabledRef:y(()=>{var p;return(p=a.value[0])===null||p===void 0?void 0:p.isMinuteDisabled}),isEndMinuteDisabledRef:y(()=>{var p;return(p=a.value[1])===null||p===void 0?void 0:p.isMinuteDisabled}),isStartSecondDisabledRef:y(()=>{var p;return(p=a.value[0])===null||p===void 0?void 0:p.isSecondDisabled}),isEndSecondDisabledRef:y(()=>{var p;return(p=a.value[1])===null||p===void 0?void 0:p.isSecondDisabled})},r=y(()=>{const{type:p,isDateDisabled:k}=n,{value:O}=e;return O===null||!Array.isArray(O)||!["daterange","datetimerange"].includes(p)||!k?!1:k(O[0],"start",O)}),i=y(()=>{const{type:p,isDateDisabled:k}=n,{value:O}=e;return O===null||!Array.isArray(O)||!["daterange","datetimerange"].includes(p)||!k?!1:k(O[1],"end",O)}),l=y(()=>{const{type:p}=n,{value:k}=e;if(k===null||!Array.isArray(k)||p!=="datetimerange")return!1;const O=gt(k[0]),I=On(k[0]),K=_n(k[0]),{isStartHourDisabledRef:x,isStartMinuteDisabledRef:_,isStartSecondDisabledRef:A}=t;return(x.value?x.value(O):!1)||(_.value?_.value(I,O):!1)||(A.value?A.value(K,I,O):!1)}),u=y(()=>{const{type:p}=n,{value:k}=e;if(k===null||!Array.isArray(k)||p!=="datetimerange")return!1;const O=gt(k[1]),I=On(k[1]),K=_n(k[1]),{isEndHourDisabledRef:x,isEndMinuteDisabledRef:_,isEndSecondDisabledRef:A}=t;return(x.value?x.value(O):!1)||(_.value?_.value(I,O):!1)||(A.value?A.value(K,I,O):!1)}),d=y(()=>r.value||l.value),s=y(()=>i.value||u.value),h=y(()=>d.value||s.value);return Object.assign(Object.assign({},t),{isStartDateInvalidRef:r,isEndDateInvalidRef:i,isStartTimeInvalidRef:l,isEndTimeInvalidRef:u,isStartValueInvalidRef:d,isEndValueInvalidRef:s,isRangeInvalidRef:h})}const os=Re({name:"DatePicker",props:ns,slots:Object,setup(n,{slots:e}){var a;const{localeRef:t,dateLocaleRef:r}=An("DatePicker"),i=mr(n),{mergedSizeRef:l,mergedDisabledRef:u,mergedStatusRef:d}=i,{mergedComponentPropsRef:s,mergedClsPrefixRef:h,mergedBorderedRef:p,namespaceRef:k,inlineThemeDisabled:O}=cr(n),I=S(null),K=S(null),x=S(null),_=S(!1),A=Ne(n,"show"),U=aa(A,_),F=y(()=>({locale:r.value.locale,useAdditionalWeekYearTokens:!0})),re=y(()=>{const{format:m}=n;if(m)return m;switch(n.type){case"date":case"daterange":return t.value.dateFormat;case"datetime":case"datetimerange":return t.value.dateTimeFormat;case"year":case"yearrange":return t.value.yearTypeFormat;case"month":case"monthrange":return t.value.monthTypeFormat;case"quarter":case"quarterrange":return t.value.quarterFormat;case"week":return t.value.weekFormat}}),ee=y(()=>{var m;return(m=n.valueFormat)!==null&&m!==void 0?m:re.value});function L(m){if(m===null)return null;const{value:M}=ee,{value:N}=F;return Array.isArray(m)?[Le(m[0],M,new Date,N).getTime(),Le(m[1],M,new Date,N).getTime()]:Le(m,M,new Date,N).getTime()}const{defaultFormattedValue:Oe,defaultValue:ge}=n,ke=S((a=Oe!==void 0?L(Oe):ge)!==null&&a!==void 0?a:null),pe=y(()=>{const{formattedValue:m}=n;return m!==void 0?L(m):n.value}),$=aa(pe,ke),g=S(null);oi(()=>{g.value=$.value});const T=S(""),H=S(""),G=S(""),ie=In("DatePicker","-date-picker",as,li,n,h),oe=y(()=>{var m,M;return((M=(m=s?.value)===null||m===void 0?void 0:m.DatePicker)===null||M===void 0?void 0:M.timePickerSize)||"small"}),W=y(()=>["daterange","datetimerange","monthrange","quarterrange","yearrange"].includes(n.type)),E=y(()=>{const{placeholder:m}=n;if(m===void 0){const{type:M}=n;switch(M){case"date":return t.value.datePlaceholder;case"datetime":return t.value.datetimePlaceholder;case"month":return t.value.monthPlaceholder;case"year":return t.value.yearPlaceholder;case"quarter":return t.value.quarterPlaceholder;case"week":return t.value.weekPlaceholder;default:return""}}else return m}),ye=y(()=>n.startPlaceholder===void 0?n.type==="daterange"?t.value.startDatePlaceholder:n.type==="datetimerange"?t.value.startDatetimePlaceholder:n.type==="monthrange"?t.value.startMonthPlaceholder:"":n.startPlaceholder),be=y(()=>n.endPlaceholder===void 0?n.type==="daterange"?t.value.endDatePlaceholder:n.type==="datetimerange"?t.value.endDatetimePlaceholder:n.type==="monthrange"?t.value.endMonthPlaceholder:"":n.endPlaceholder),$e=y(()=>{const{actions:m,type:M,clearable:N}=n;if(m===null)return[];if(m!==void 0)return m;const B=N?["clear"]:[];switch(M){case"date":case"week":return B.push("now"),B;case"datetime":return B.push("now","confirm"),B;case"daterange":return B.push("confirm"),B;case"datetimerange":return B.push("confirm"),B;case"month":return B.push("now","confirm"),B;case"year":return B.push("now"),B;case"quarter":return B.push("now","confirm"),B;case"monthrange":case"yearrange":case"quarterrange":return B.push("confirm"),B;default:{si("date-picker","The type is wrong, n-date-picker's type only supports `date`, `datetime`, `daterange` and `datetimerange`.");break}}});function j(m){if(m===null)return null;if(Array.isArray(m)){const{value:M}=ee,{value:N}=F;return[J(m[0],M,N),J(m[1],M,F.value)]}else return J(m,ee.value,F.value)}function te(m){g.value=m}function Ie(m,M){const{"onUpdate:formattedValue":N,onUpdateFormattedValue:B}=n;N&&Se(N,m,M),B&&Se(B,m,M)}function xe(m,M){const{"onUpdate:value":N,onUpdateValue:B,onChange:We}=n,{nTriggerFormChange:Ae,nTriggerFormInput:f}=i,b=j(m);M.doConfirm&&Ye(m,b),B&&Se(B,m,b),N&&Se(N,m,b),We&&Se(We,m,b),ke.value=m,Ie(b,m),Ae(),f()}function qe(){const{onClear:m}=n;m?.()}function Ye(m,M){const{onConfirm:N}=n;N&&N(m,M)}function ct(m){const{onFocus:M}=n,{nTriggerFormFocus:N}=i;M&&Se(M,m),N()}function Q(m){const{onBlur:M}=n,{nTriggerFormBlur:N}=i;M&&Se(M,m),N()}function Ve(m){const{"onUpdate:show":M,onUpdateShow:N}=n;M&&Se(M,m),N&&Se(N,m),_.value=m}function nt(m){m.key==="Escape"&&U.value&&(Sn(m),Ze({returnFocus:!0}))}function ft(m){m.key==="Escape"&&U.value&&Sn(m)}function bt(){var m;Ve(!1),(m=x.value)===null||m===void 0||m.deactivate(),qe()}function wt(){var m;(m=x.value)===null||m===void 0||m.deactivate(),qe()}function Ct(){Ze({returnFocus:!0})}function kt(m){var M;U.value&&!(!((M=K.value)===null||M===void 0)&&M.contains(xa(m)))&&Ze({returnFocus:!1})}function Dt(m){Ze({returnFocus:!0,disableUpdateOnClose:m})}function xt(m,M){M?xe(m,{doConfirm:!1}):te(m)}function ht(){const m=g.value;xe(Array.isArray(m)?[m[0],m[1]]:m,{doConfirm:!0})}function Xe(){const{value:m}=g;W.value?(Array.isArray(m)||m===null)&&Mt(m):Array.isArray(m)||Tt(m)}function Tt(m){m===null?T.value="":T.value=J(m,re.value,F.value)}function Mt(m){if(m===null)H.value="",G.value="";else{const M=F.value;H.value=J(m[0],re.value,M),G.value=J(m[1],re.value,M)}}function Je(){U.value||_e()}function Be(m){var M;!((M=I.value)===null||M===void 0)&&M.$el.contains(m.relatedTarget)||(Q(m),Xe(),Ze({returnFocus:!1}))}function v(){u.value||(Xe(),Ze({returnFocus:!1}))}function P(m){if(m===""){xe(null,{doConfirm:!1}),g.value=null,T.value="";return}const M=Le(m,re.value,new Date,F.value);Ge(M)?(xe(C(M),{doConfirm:!1}),Xe()):T.value=m}function ne(m,{source:M}){if(m[0]===""&&m[1]===""){xe(null,{doConfirm:!1}),g.value=null,H.value="",G.value="";return}const[N,B]=m,We=Le(N,re.value,new Date,F.value),Ae=Le(B,re.value,new Date,F.value);if(Ge(We)&&Ge(Ae)){let f=C(We),b=C(Ae);Ae<We&&(M===0?b=f:f=b),xe([f,b],{doConfirm:!1}),Xe()}else[H.value,G.value]=m}function tn(m){u.value||hr(m,"clear")||U.value||_e()}function St(m){u.value||ct(m)}function _e(){u.value||U.value||Ve(!0)}function Ze({returnFocus:m,disableUpdateOnClose:M}){var N;U.value&&(Ve(!1),n.type!=="date"&&n.updateValueOnClose&&!M&&ht(),m&&((N=x.value)===null||N===void 0||N.focus()))}ut(g,()=>{Xe()}),Xe(),ut(U,m=>{m||(g.value=$.value)});const Rt=rs(n,g),Ot=is(n,g);va($n,Object.assign(Object.assign(Object.assign({mergedClsPrefixRef:h,mergedThemeRef:ie,timePickerSizeRef:oe,localeRef:t,dateLocaleRef:r,firstDayOfWeekRef:Ne(n,"firstDayOfWeek"),isDateDisabledRef:Ne(n,"isDateDisabled"),rangesRef:Ne(n,"ranges"),timePickerPropsRef:Ne(n,"timePickerProps"),closeOnSelectRef:Ne(n,"closeOnSelect"),updateValueOnCloseRef:Ne(n,"updateValueOnClose"),monthFormatRef:Ne(n,"monthFormat"),yearFormatRef:Ne(n,"yearFormat"),quarterFormatRef:Ne(n,"quarterFormat"),yearRangeRef:Ne(n,"yearRange")},Rt),Ot),{datePickerSlots:e}));const Ue={focus:()=>{var m;(m=x.value)===null||m===void 0||m.focus()},blur:()=>{var m;(m=x.value)===null||m===void 0||m.blur()}},At=y(()=>{const{common:{cubicBezierEaseInOut:m},self:{iconColor:M,iconColorDisabled:N}}=ie.value;return{"--n-bezier":m,"--n-icon-color-override":M,"--n-icon-color-disabled-override":N}}),at=O?Mn("date-picker-trigger",void 0,At,n):void 0,$t=y(()=>{const{type:m}=n,{common:{cubicBezierEaseInOut:M},self:{calendarTitleFontSize:N,calendarDaysFontSize:B,itemFontSize:We,itemTextColor:Ae,itemColorDisabled:f,itemColorIncluded:b,itemColorHover:D,itemColorActive:z,itemBorderRadius:Te,itemTextColorDisabled:ce,itemTextColorActive:me,panelColor:nn,panelTextColor:an,arrowColor:rn,calendarTitleTextColor:Vt,panelActionDividerColor:on,panelHeaderDividerColor:ln,calendarDaysDividerColor:sn,panelBoxShadow:Vn,panelBorderRadius:it,calendarTitleFontWeight:Nn,panelExtraFooterPadding:zn,panelActionPadding:Hn,itemSize:En,itemCellWidth:Bn,itemCellHeight:Ln,scrollItemWidth:c,scrollItemHeight:w,calendarTitlePadding:R,calendarTitleHeight:Me,calendarDaysHeight:et,calendarDaysTextColor:se,arrowSize:un,panelHeaderPadding:bn,calendarDividerColor:dn,calendarTitleGridTempateColumns:Er,iconColor:Br,iconColorDisabled:Lr,scrollItemBorderRadius:jr,calendarTitleColorHover:qr,[Va("calendarLeftPadding",m)]:Ur,[Va("calendarRightPadding",m)]:Wr}}=ie.value;return{"--n-bezier":M,"--n-panel-border-radius":it,"--n-panel-color":nn,"--n-panel-box-shadow":Vn,"--n-panel-text-color":an,"--n-panel-header-padding":bn,"--n-panel-header-divider-color":ln,"--n-calendar-left-padding":Ur,"--n-calendar-right-padding":Wr,"--n-calendar-title-color-hover":qr,"--n-calendar-title-height":Me,"--n-calendar-title-padding":R,"--n-calendar-title-font-size":N,"--n-calendar-title-font-weight":Nn,"--n-calendar-title-text-color":Vt,"--n-calendar-title-grid-template-columns":Er,"--n-calendar-days-height":et,"--n-calendar-days-divider-color":sn,"--n-calendar-days-font-size":B,"--n-calendar-days-text-color":se,"--n-calendar-divider-color":dn,"--n-panel-action-padding":Hn,"--n-panel-extra-footer-padding":zn,"--n-panel-action-divider-color":on,"--n-item-font-size":We,"--n-item-border-radius":Te,"--n-item-size":En,"--n-item-cell-width":Bn,"--n-item-cell-height":Ln,"--n-item-text-color":Ae,"--n-item-color-included":b,"--n-item-color-disabled":f,"--n-item-color-hover":D,"--n-item-color-active":z,"--n-item-text-color-disabled":ce,"--n-item-text-color-active":me,"--n-scroll-item-width":c,"--n-scroll-item-height":w,"--n-scroll-item-border-radius":jr,"--n-arrow-size":un,"--n-arrow-color":rn,"--n-icon-color":Br,"--n-icon-color-disabled":Lr}}),rt=O?Mn("date-picker",y(()=>n.type),$t,n):void 0;return Object.assign(Object.assign({},Ue),{mergedStatus:d,mergedClsPrefix:h,mergedBordered:p,namespace:k,uncontrolledValue:ke,pendingValue:g,panelInstRef:I,triggerElRef:K,inputInstRef:x,isMounted:fr(),displayTime:T,displayStartTime:H,displayEndTime:G,mergedShow:U,adjustedTo:Ut(n),isRange:W,localizedStartPlaceholder:ye,localizedEndPlaceholder:be,mergedSize:l,mergedDisabled:u,localizedPlacehoder:E,isValueInvalid:Rt.isValueInvalidRef,isStartValueInvalid:Ot.isStartValueInvalidRef,isEndValueInvalid:Ot.isEndValueInvalidRef,handleInputKeydown:ft,handleClickOutside:kt,handleKeydown:nt,handleClear:bt,handlePanelClear:wt,handleTriggerClick:tn,handleInputActivate:Je,handleInputDeactivate:v,handleInputFocus:St,handleInputBlur:Be,handlePanelTabOut:Ct,handlePanelClose:Dt,handleRangeUpdateValue:ne,handleSingleUpdateValue:P,handlePanelUpdateValue:xt,handlePanelConfirm:ht,mergedTheme:ie,actions:$e,triggerCssVars:O?void 0:At,triggerThemeClass:at?.themeClass,triggerOnRender:at?.onRender,cssVars:O?void 0:$t,themeClass:rt?.themeClass,onRender:rt?.onRender,onNextMonth:n.onNextMonth,onPrevMonth:n.onPrevMonth,onNextYear:n.onNextYear,onPrevYear:n.onPrevYear})},render(){const{clearable:n,triggerOnRender:e,mergedClsPrefix:a,$slots:t}=this,r={onUpdateValue:this.handlePanelUpdateValue,onTabOut:this.handlePanelTabOut,onClose:this.handlePanelClose,onClear:this.handlePanelClear,onKeydown:this.handleKeydown,onConfirm:this.handlePanelConfirm,ref:"panelInstRef",value:this.pendingValue,active:this.mergedShow,actions:this.actions,shortcuts:this.shortcuts,style:this.cssVars,defaultTime:this.defaultTime,themeClass:this.themeClass,panel:this.panel,inputReadonly:this.inputReadonly||this.mergedDisabled,onRender:this.onRender,onNextMonth:this.onNextMonth,onPrevMonth:this.onPrevMonth,onNextYear:this.onNextYear,onPrevYear:this.onPrevYear,timePickerFormat:this.timePickerFormat,dateFormat:this.dateFormat,calendarDayFormat:this.calendarDayFormat,calendarHeaderYearFormat:this.calendarHeaderYearFormat,calendarHeaderMonthFormat:this.calendarHeaderMonthFormat,calendarHeaderMonthYearSeparator:this.calendarHeaderMonthYearSeparator,calendarHeaderMonthBeforeYear:this.calendarHeaderMonthBeforeYear},i=()=>{const{type:u}=this;return u==="datetime"?o(Jl,Object.assign({},r,{defaultCalendarStartTime:this.defaultCalendarStartTime}),t):u==="daterange"?o(pl,Object.assign({},r,{defaultCalendarStartTime:this.defaultCalendarStartTime,defaultCalendarEndTime:this.defaultCalendarEndTime,bindCalendarMonths:this.bindCalendarMonths}),t):u==="datetimerange"?o(es,Object.assign({},r,{defaultCalendarStartTime:this.defaultCalendarStartTime,defaultCalendarEndTime:this.defaultCalendarEndTime,bindCalendarMonths:this.bindCalendarMonths}),t):u==="month"||u==="year"||u==="quarter"?o($r,Object.assign({},r,{type:u,key:u})):u==="monthrange"||u==="yearrange"||u==="quarterrange"?o(ts,Object.assign({},r,{type:u})):o(gl,Object.assign({},r,{type:u,defaultCalendarStartTime:this.defaultCalendarStartTime}),t)};if(this.panel)return i();e?.();const l={bordered:this.mergedBordered,size:this.mergedSize,passivelyActivated:!0,disabled:this.mergedDisabled,readonly:this.inputReadonly||this.mergedDisabled,clearable:n,onClear:this.handleClear,onClick:this.handleTriggerClick,onKeydown:this.handleInputKeydown,onActivate:this.handleInputActivate,onDeactivate:this.handleInputDeactivate,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur};return o("div",{ref:"triggerElRef",class:[`${a}-date-picker`,this.mergedDisabled&&`${a}-date-picker--disabled`,this.isRange&&`${a}-date-picker--range`,this.triggerThemeClass],style:this.triggerCssVars,onKeydown:this.handleKeydown},o(ya,null,{default:()=>[o(ba,null,{default:()=>this.isRange?o(Wt,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:[this.displayStartTime,this.displayEndTime],placeholder:[this.localizedStartPlaceholder,this.localizedEndPlaceholder],textDecoration:[this.isStartValueInvalid?"line-through":"",this.isEndValueInvalid?"line-through":""],pair:!0,onUpdateValue:this.handleRangeUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},l),{separator:()=>this.separator===void 0?le(t.separator,()=>[o(xn,{clsPrefix:a,class:`${a}-date-picker-icon`},{default:()=>o(Yi,null)})]):this.separator,[n?"clear-icon-placeholder":"suffix"]:()=>le(t["date-icon"],()=>[o(xn,{clsPrefix:a,class:`${a}-date-picker-icon`},{default:()=>o(La,null)})])}):o(Wt,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:this.displayTime,placeholder:this.localizedPlacehoder,textDecoration:this.isValueInvalid&&!this.isRange?"line-through":"",onUpdateValue:this.handleSingleUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},l),{[n?"clear-icon-placeholder":"suffix"]:()=>o(xn,{clsPrefix:a,class:`${a}-date-picker-icon`},{default:()=>le(t["date-icon"],()=>[o(La,null)])})})}),o(wa,{show:this.mergedShow,containerClass:this.namespace,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Ut.tdkey,placement:this.placement},{default:()=>o(Ca,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?ka(i(),[[Da,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}});function ls(n){const e=Math.floor(n%1e3),a=Math.floor((n-e)/1e3%60),t=Math.floor(((n-e)/1e3-a)/60%60),r=Math.floor((((n-e)/1e3-a)/60-t)/60);return eo({hours:r,minutes:t,seconds:a})+(e>0?` ${e} ms`:"")}const ss={flex:"","gap-2":""},us={flex:"","flex-col":"","items-baseline":"","gap-y-2":"","md:flex-row":""},ds={flex:"","items-baseline":"","gap-2":""},cs=Re({__name:"eta-calculator",setup(n){const e=S(186),a=S(3),t=S(5),r=S(6e4),i=S(Date.now()),l=y(()=>{const d=t.value*r.value;return e.value/(a.value/d)}),u=y(()=>to(Ai(i.value,l.value),Date.now(),{locale:Pi}));return(d,s)=>{const h=yi,p=bi,k=wi,O=os,I=ci,K=Ci,x=fi;return di(),ui("div",null,[s[6]||(s[6]=Nt("div",{"text-justify":"","op-70":""}," With a concrete example, if you wash 5 plates in 3 minutes and you have 500 plates to wash, it will take you 5 hours to wash them all. ",-1)),Qe(h),Nt("div",ss,[Qe(k,{label:"Amount of element to consume","flex-1":""},{default:zt(()=>[Qe(p,{value:mt(e),"onUpdate:value":s[0]||(s[0]=_=>fn(e)?e.value=_:null),min:1},null,8,["value"])]),_:1}),Qe(k,{label:"The consumption started at","flex-1":""},{default:zt(()=>[Qe(O,{value:mt(i),"onUpdate:value":s[1]||(s[1]=_=>fn(i)?i.value=_:null),type:"datetime"},null,8,["value"])]),_:1})]),s[7]||(s[7]=Nt("p",null,"Amount of unit consumed by time span",-1)),Nt("div",us,[Qe(p,{value:mt(a),"onUpdate:value":s[2]||(s[2]=_=>fn(a)?a.value=_:null),min:1},null,8,["value"]),Nt("div",ds,[s[5]||(s[5]=Nt("span",{"ml-2":""},"in",-1)),Qe(p,{value:mt(t),"onUpdate:value":s[3]||(s[3]=_=>fn(t)?t.value=_:null),"min-w-130px":"",min:1},null,8,["value"]),Qe(I,{value:mt(r),"onUpdate:value":s[4]||(s[4]=_=>fn(r)?r.value=_:null),"min-w-130px":"",options:[{label:"milliseconds",value:1},{label:"seconds",value:1e3},{label:"minutes",value:1e3*60},{label:"hours",value:1e3*60*60},{label:"days",value:1e3*60*60*24}]},null,8,["value"])])]),Qe(h),Qe(x,{"mb-2":""},{default:zt(()=>[Qe(K,{label:"Total duration"},{default:zt(()=>[Na(za(mt(ls)(mt(l))),1)]),_:1})]),_:1}),Qe(x,null,{default:zt(()=>[Qe(K,{label:"It will end "},{default:zt(()=>[Na(za(mt(u)),1)]),_:1})]),_:1})])}}}),Ts=hi(cs,[["__scopeId","data-v-d93763ac"]]);export{Ts as default};
