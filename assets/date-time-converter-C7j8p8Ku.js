import{_ as Z}from"./InputCopyable.vue_vue_type_script_setup_true_lang-CcwH8Ap-.js";import{cb as g,cc as Y,cd as b,ce as R,e as E,d as k,n as U,b as G,cf as H,p as W,f as I,o as O,g as A,m as v,j as N,y,x as J,U as X,F as V,h as j}from"./index-DtXg1mwU.js";import{w as F}from"./defaults-CMtlFFSf.js";import{a as c,i as C,b as L,g as B}from"./getTime-BAaeOdxt.js";import{_ as P}from"./Divider-BC2Ea4r8.js";function q(n,t){const e=g(n,t?.in);if(isNaN(+e))throw new RangeError("Invalid time value");const o=t?.format??"extended",r=t?.representation??"complete";let s="",m="";const l=o==="extended"?"-":"",f=o==="extended"?":":"";if(r!=="time"){const i=c(e.getDate(),2),a=c(e.getMonth()+1,2);s=`${c(e.getFullYear(),4)}${l}${a}${l}${i}`}if(r!=="date"){const i=e.getTimezoneOffset();if(i!==0){const T=Math.abs(i),d=c(Math.trunc(T/60),2),_=c(T%60,2);m=`${i<0?"+":"-"}${d}:${_}`}else m="Z";const a=c(e.getHours(),2),u=c(e.getMinutes(),2),D=c(e.getSeconds(),2),p=s===""?"":"T",$=[a,u,D].join(f);s=`${s}${p}${$}${m}`}return s}function K(n,t){const e=g(n,t?.in);if(!C(e))throw new RangeError("Invalid time value");const o=t?.format??"extended",r=t?.representation??"complete";let s="";const m=o==="extended"?"-":"",l=o==="extended"?":":"";if(r!=="time"){const f=c(e.getDate(),2),i=c(e.getMonth()+1,2);s=`${c(e.getFullYear(),4)}${m}${i}${m}${f}`}if(r!=="date"){const f=c(e.getHours(),2),i=c(e.getMinutes(),2),a=c(e.getSeconds(),2);s=`${s}${s===""?"":" "}${f}${l}${i}${l}${a}`}return s}function Q(n,t){const e=g(n,t?.in);if(!C(e))throw new RangeError("Invalid time value");const o=t?.fractionDigits??0,r=c(e.getDate(),2),s=c(e.getMonth()+1,2),m=e.getFullYear(),l=c(e.getHours(),2),f=c(e.getMinutes(),2),i=c(e.getSeconds(),2);let a="";if(o>0){const p=e.getMilliseconds(),$=Math.trunc(p*Math.pow(10,o-3));a="."+c($,o)}let u="";const D=e.getTimezoneOffset();if(D!==0){const p=Math.abs(D),$=c(Math.trunc(p/60),2),T=c(p%60,2);u=`${D<0?"+":"-"}${$}:${T}`}else u="Z";return`${m}-${s}-${r}T${l}:${f}:${i}${a}${u}`}const tt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],et=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function nt(n){const t=g(n);if(!C(t))throw new RangeError("Invalid time value");const e=tt[t.getUTCDay()],o=c(t.getUTCDate(),2),r=et[t.getUTCMonth()],s=t.getUTCFullYear(),m=c(t.getUTCHours(),2),l=c(t.getUTCMinutes(),2),f=c(t.getUTCSeconds(),2);return`${e}, ${o} ${r} ${s} ${m}:${l}:${f} GMT`}function at(n,t){return g(n*1e3,t?.in)}function ot(n){return Math.trunc(+g(n)/1e3)}function w(n,t){const e=()=>Y(t?.in,NaN),o=t?.additionalDigits??2,r=ct(n);let s;if(r.date){const i=ut(r.date,o);s=lt(i.restDateString,i.year)}if(!s||isNaN(+s))return e();const m=+s;let l=0,f;if(r.time&&(l=ft(r.time),isNaN(l)))return e();if(r.timezone){if(f=mt(r.timezone),isNaN(f))return e()}else{const i=new Date(m+l),a=g(0,t?.in);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}return g(m+l+f,t?.in)}const S={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,st=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,it=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ct(n){const t={},e=n.split(S.dateTimeDelimiter);let o;if(e.length>2)return t;if(/:/.test(e[0])?o=e[0]:(t.date=e[0],o=e[1],S.timeZoneDelimiter.test(t.date)&&(t.date=n.split(S.timeZoneDelimiter)[0],o=n.substr(t.date.length,n.length))),o){const r=S.timezone.exec(o);r?(t.time=o.replace(r[1],""),t.timezone=r[1]):t.time=o}return t}function ut(n,t){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=n.match(e);if(!o)return{year:NaN,restDateString:""};const r=o[1]?parseInt(o[1]):null,s=o[2]?parseInt(o[2]):null;return{year:s===null?r:s*100,restDateString:n.slice((o[1]||o[2]).length)}}function lt(n,t){if(t===null)return new Date(NaN);const e=n.match(rt);if(!e)return new Date(NaN);const o=!!e[4],r=M(e[1]),s=M(e[2])-1,m=M(e[3]),l=M(e[4]),f=M(e[5])-1;if(o)return ht(t,l,f)?dt(t,l,f):new Date(NaN);{const i=new Date(0);return!Dt(t,s,m)||!pt(t,r)?new Date(NaN):(i.setUTCFullYear(t,s,Math.max(r,m)),i)}}function M(n){return n?parseInt(n):1}function ft(n){const t=n.match(st);if(!t)return NaN;const e=x(t[1]),o=x(t[2]),r=x(t[3]);return $t(e,o,r)?e*b+o*R+r*1e3:NaN}function x(n){return n&&parseFloat(n.replace(",","."))||0}function mt(n){if(n==="Z")return 0;const t=n.match(it);if(!t)return 0;const e=t[1]==="+"?-1:1,o=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return Tt(o,r)?e*(o*b+r*R):NaN}function dt(n,t,e){const o=new Date(0);o.setUTCFullYear(n,0,4);const r=o.getUTCDay()||7,s=(t-1)*7+e+1-r;return o.setUTCDate(o.getUTCDate()+s),o}const gt=[31,null,31,30,31,30,31,31,30,31,30,31];function z(n){return n%400===0||n%4===0&&n%100!==0}function Dt(n,t,e){return t>=0&&t<=11&&e>=1&&e<=(gt[t]||(z(n)?29:28))}function pt(n,t){return t>=1&&t<=(z(n)?366:365)}function ht(n,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function $t(n,t,e){return n===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&n>=0&&n<25}function Tt(n,t){return t>=0&&t<=59}function _t(n,t){const e=n.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return e?g(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4]-(+e[9]||0)*(e[8]=="-"?-1:1),+e[5]-(+e[10]||0)*(e[8]=="-"?-1:1),+e[6],+((e[7]||"0")+"00").substring(0,3)),t?.in):g(NaN,t?.in)}const Mt=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,vt=/^([0-9]{4})-([0-9]{2})-([0-9]{2}) ([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]{1,6})?(([+-])([0-9]{2}):([0-9]{2})|Z)?$/,Nt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]{1,9})?(([+-])([0-9]{2}):([0-9]{2})|Z)$/,St=/^[A-Za-z]{3},\s[0-9]{2}\s[A-Za-z]{3}\s[0-9]{4}\s[0-9]{2}:[0-9]{2}:[0-9]{2}\sGMT$/,Ct=/^-?\d+(\.\d+)?$/;function h(n){return t=>!E.isNil(t)&&n.test(t)}const xt=h(Mt),Ut=h(vt),It=h(Nt),Ot=h(St),yt=h(/^[0-9]{1,10}$/),Ft=h(/^[0-9]{1,13}$/),wt=h(/^[0-9a-fA-F]{24}$/),bt=h(Ct);function Rt(n){if(E.isNil(n))return!1;try{return new Date(n).toUTCString()===n}catch{return!1}}function Et(n){return String(n.getTime()/(1e3*60*60*24)+25569)}function zt(n){return new Date((Number(n)-25569)*86400*1e3)}const Zt={flex:"","gap-2":""},Jt=k({__name:"date-time-converter",setup(n){const t=U(""),e=a=>new Date(a),o=[{name:"JS locale date string",fromDate:a=>a.toString(),toDate:e,formatMatcher:()=>!1},{name:"ISO 8601",fromDate:q,toDate:w,formatMatcher:a=>xt(a)},{name:"ISO 9075",fromDate:K,toDate:w,formatMatcher:a=>Ut(a)},{name:"RFC 3339",fromDate:Q,toDate:e,formatMatcher:a=>It(a)},{name:"RFC 7231",fromDate:nt,toDate:e,formatMatcher:a=>Ot(a)},{name:"Unix timestamp",fromDate:a=>String(ot(a)),toDate:a=>at(+a),formatMatcher:a=>yt(a)},{name:"Timestamp",fromDate:a=>String(B(a)),toDate:a=>_t(String(+a)),formatMatcher:a=>Ft(a)},{name:"UTC format",fromDate:a=>a.toUTCString(),toDate:e,formatMatcher:a=>Rt(a)},{name:"Mongo ObjectID",fromDate:a=>`${Math.floor(a.getTime()/1e3).toString(16)}0000000000000000`,toDate:a=>new Date(Number.parseInt(a.substring(0,8),16)*1e3),formatMatcher:a=>wt(a)},{name:"Excel date/time",fromDate:a=>Et(a),toDate:zt,formatMatcher:bt}],r=U(6),s=H(),m=G(()=>{if(!t.value)return s.value;const{toDate:a}=o[r.value];try{return a(t.value)}catch{return}});function l(a){const u=o.findIndex(({formatMatcher:D})=>D(a));u!==-1&&(r.value=u)}const f=W({source:t,watch:[r],rules:[{message:"This date is invalid for this format",validator:a=>F(()=>{if(a==="")return!0;const u=o[r.value].toDate(a);return L(u)&&C(u)},!1)}]});function i(a,u){return!u||!f.isValid?"":F(()=>a(u),"")}return(a,u)=>{const D=J,p=X,$=P,T=Z;return O(),I("div",null,[A("div",Zt,[v(D,{value:N(t),"onUpdate:value":[u[0]||(u[0]=d=>y(t)?t.value=d:null),l],autofocus:"",placeholder:"Put your date string here...",clearable:"","test-id":"date-time-converter-input",validation:N(f)},null,8,["value","validation"]),v(p,{value:N(r),"onUpdate:value":u[1]||(u[1]=d=>y(r)?r.value=d:null),style:{flex:"0 0 170px"},options:o.map(({name:d},_)=>({label:d,value:_})),"data-test-id":"date-time-converter-format-select"},null,8,["value","options"])]),v($),(O(),I(V,null,j(o,({name:d,fromDate:_})=>v(T,{key:d,label:d,"label-width":"150px","label-position":"left","label-align":"right",value:i(_,N(m)),placeholder:"Invalid date...","test-id":d,readonly:"","mt-2":""},null,8,["label","value","test-id"])),64))])}}});export{Jt as default};
